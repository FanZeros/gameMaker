(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ku(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gu={exports:{}},Ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function py(){if(zh)return Ro;zh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,c){var d=null;if(c!==void 0&&(d=""+c),r.key!==void 0&&(d=""+r.key),"key"in r){c={};for(var h in r)h!=="key"&&(c[h]=r[h])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:d,ref:r!==void 0?r:null,props:c}}return Ro.Fragment=t,Ro.jsx=l,Ro.jsxs=l,Ro}var Lh;function my(){return Lh||(Lh=1,gu.exports=py()),gu.exports}var x=my(),yu={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function gy(){if(Gh)return He;Gh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function R(N,U,$){this.props=N,this.context=U,this.refs=I,this.updater=$||A}R.prototype.isReactComponent={},R.prototype.setState=function(N,U){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,U,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function D(){}D.prototype=R.prototype;function k(N,U,$){this.props=N,this.context=U,this.refs=I,this.updater=$||A}var B=k.prototype=new D;B.constructor=k,C(B,R.prototype),B.isPureReactComponent=!0;var q=Array.isArray;function X(){}var F={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function O(N,U,$){var te=$.ref;return{$$typeof:i,type:N,key:U,ref:te!==void 0?te:null,props:$}}function ce(N,U){return O(N.type,U,N.props)}function Te(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function L(N){var U={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function($){return U[$]})}var ie=/\/+/g;function w(N,U){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):U.toString(36)}function ue(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(X,X):(N.status="pending",N.then(function(U){N.status==="pending"&&(N.status="fulfilled",N.value=U)},function(U){N.status==="pending"&&(N.status="rejected",N.reason=U)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Y(N,U,$,te,oe){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var Ue=!1;if(N===null)Ue=!0;else switch(we){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(N.$$typeof){case i:case t:Ue=!0;break;case v:return Ue=N._init,Y(Ue(N._payload),U,$,te,oe)}}if(Ue)return oe=oe(N),Ue=te===""?"."+w(N,0):te,q(oe)?($="",Ue!=null&&($=Ue.replace(ie,"$&/")+"/"),Y(oe,U,$,"",function(it){return it})):oe!=null&&(Te(oe)&&(oe=ce(oe,$+(oe.key==null||N&&N.key===oe.key?"":(""+oe.key).replace(ie,"$&/")+"/")+Ue)),U.push(oe)),1;Ue=0;var _e=te===""?".":te+":";if(q(N))for(var Ce=0;Ce<N.length;Ce++)te=N[Ce],we=_e+w(te,Ce),Ue+=Y(te,U,$,we,oe);else if(Ce=T(N),typeof Ce=="function")for(N=Ce.call(N),Ce=0;!(te=N.next()).done;)te=te.value,we=_e+w(te,Ce++),Ue+=Y(te,U,$,we,oe);else if(we==="object"){if(typeof N.then=="function")return Y(ue(N),U,$,te,oe);throw U=String(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function J(N,U,$){if(N==null)return N;var te=[],oe=0;return Y(N,te,"","",function(we){return U.call($,we,oe++)}),te}function ve(N){if(N._status===-1){var U=N._result;U=U(),U.then(function($){(N._status===0||N._status===-1)&&(N._status=1,N._result=$)},function($){(N._status===0||N._status===-1)&&(N._status=2,N._result=$)}),N._status===-1&&(N._status=0,N._result=U)}if(N._status===1)return N._result.default;throw N._result}var fe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},K={map:J,forEach:function(N,U,$){J(N,function(){U.apply(this,arguments)},$)},count:function(N){var U=0;return J(N,function(){U++}),U},toArray:function(N){return J(N,function(U){return U})||[]},only:function(N){if(!Te(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return He.Activity=_,He.Children=K,He.Component=R,He.Fragment=l,He.Profiler=r,He.PureComponent=k,He.StrictMode=a,He.Suspense=g,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,He.__COMPILER_RUNTIME={__proto__:null,c:function(N){return F.H.useMemoCache(N)}},He.cache=function(N){return function(){return N.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(N,U,$){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var te=C({},N.props),oe=N.key;if(U!=null)for(we in U.key!==void 0&&(oe=""+U.key),U)!re.call(U,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&U.ref===void 0||(te[we]=U[we]);var we=arguments.length-2;if(we===1)te.children=$;else if(1<we){for(var Ue=Array(we),_e=0;_e<we;_e++)Ue[_e]=arguments[_e+2];te.children=Ue}return O(N.type,oe,te)},He.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},He.createElement=function(N,U,$){var te,oe={},we=null;if(U!=null)for(te in U.key!==void 0&&(we=""+U.key),U)re.call(U,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(oe[te]=U[te]);var Ue=arguments.length-2;if(Ue===1)oe.children=$;else if(1<Ue){for(var _e=Array(Ue),Ce=0;Ce<Ue;Ce++)_e[Ce]=arguments[Ce+2];oe.children=_e}if(N&&N.defaultProps)for(te in Ue=N.defaultProps,Ue)oe[te]===void 0&&(oe[te]=Ue[te]);return O(N,we,oe)},He.createRef=function(){return{current:null}},He.forwardRef=function(N){return{$$typeof:h,render:N}},He.isValidElement=Te,He.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ve}},He.memo=function(N,U){return{$$typeof:m,type:N,compare:U===void 0?null:U}},He.startTransition=function(N){var U=F.T,$={};F.T=$;try{var te=N(),oe=F.S;oe!==null&&oe($,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(X,fe)}catch(we){fe(we)}finally{U!==null&&$.types!==null&&(U.types=$.types),F.T=U}},He.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},He.use=function(N){return F.H.use(N)},He.useActionState=function(N,U,$){return F.H.useActionState(N,U,$)},He.useCallback=function(N,U){return F.H.useCallback(N,U)},He.useContext=function(N){return F.H.useContext(N)},He.useDebugValue=function(){},He.useDeferredValue=function(N,U){return F.H.useDeferredValue(N,U)},He.useEffect=function(N,U){return F.H.useEffect(N,U)},He.useEffectEvent=function(N){return F.H.useEffectEvent(N)},He.useId=function(){return F.H.useId()},He.useImperativeHandle=function(N,U,$){return F.H.useImperativeHandle(N,U,$)},He.useInsertionEffect=function(N,U){return F.H.useInsertionEffect(N,U)},He.useLayoutEffect=function(N,U){return F.H.useLayoutEffect(N,U)},He.useMemo=function(N,U){return F.H.useMemo(N,U)},He.useOptimistic=function(N,U){return F.H.useOptimistic(N,U)},He.useReducer=function(N,U,$){return F.H.useReducer(N,U,$)},He.useRef=function(N){return F.H.useRef(N)},He.useState=function(N){return F.H.useState(N)},He.useSyncExternalStore=function(N,U,$){return F.H.useSyncExternalStore(N,U,$)},He.useTransition=function(){return F.H.useTransition()},He.version="19.2.1",He}var qh;function zu(){return qh||(qh=1,yu.exports=gy()),yu.exports}var ze=zu();const yy=ku(ze);var vu={exports:{}},Io={},_u={exports:{}},Su={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function vy(){return Ph||(Ph=1,(function(i){function t(Y,J){var ve=Y.length;Y.push(J);e:for(;0<ve;){var fe=ve-1>>>1,K=Y[fe];if(0<r(K,J))Y[fe]=J,Y[ve]=K,ve=fe;else break e}}function l(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var J=Y[0],ve=Y.pop();if(ve!==J){Y[0]=ve;e:for(var fe=0,K=Y.length,N=K>>>1;fe<N;){var U=2*(fe+1)-1,$=Y[U],te=U+1,oe=Y[te];if(0>r($,ve))te<K&&0>r(oe,$)?(Y[fe]=oe,Y[te]=ve,fe=te):(Y[fe]=$,Y[U]=ve,fe=U);else if(te<K&&0>r(oe,ve))Y[fe]=oe,Y[te]=ve,fe=te;else break e}}return J}function r(Y,J){var ve=Y.sortIndex-J.sortIndex;return ve!==0?ve:Y.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var g=[],m=[],v=1,_=null,S=3,T=!1,A=!1,C=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(Y){for(var J=l(m);J!==null;){if(J.callback===null)a(m);else if(J.startTime<=Y)a(m),J.sortIndex=J.expirationTime,t(g,J);else break;J=l(m)}}function q(Y){if(C=!1,B(Y),!A)if(l(g)!==null)A=!0,X||(X=!0,L());else{var J=l(m);J!==null&&ue(q,J.startTime-Y)}}var X=!1,F=-1,re=5,O=-1;function ce(){return I?!0:!(i.unstable_now()-O<re)}function Te(){if(I=!1,X){var Y=i.unstable_now();O=Y;var J=!0;try{e:{A=!1,C&&(C=!1,D(F),F=-1),T=!0;var ve=S;try{t:{for(B(Y),_=l(g);_!==null&&!(_.expirationTime>Y&&ce());){var fe=_.callback;if(typeof fe=="function"){_.callback=null,S=_.priorityLevel;var K=fe(_.expirationTime<=Y);if(Y=i.unstable_now(),typeof K=="function"){_.callback=K,B(Y),J=!0;break t}_===l(g)&&a(g),B(Y)}else a(g);_=l(g)}if(_!==null)J=!0;else{var N=l(m);N!==null&&ue(q,N.startTime-Y),J=!1}}break e}finally{_=null,S=ve,T=!1}J=void 0}}finally{J?L():X=!1}}}var L;if(typeof k=="function")L=function(){k(Te)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,w=ie.port2;ie.port1.onmessage=Te,L=function(){w.postMessage(null)}}else L=function(){R(Te,0)};function ue(Y,J){F=R(function(){Y(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var ve=S;S=J;try{return Y()}finally{S=ve}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=S;S=Y;try{return J()}finally{S=ve}},i.unstable_scheduleCallback=function(Y,J,ve){var fe=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?fe+ve:fe):ve=fe,Y){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ve+K,Y={id:v++,callback:J,priorityLevel:Y,startTime:ve,expirationTime:K,sortIndex:-1},ve>fe?(Y.sortIndex=ve,t(m,Y),l(g)===null&&Y===l(m)&&(C?(D(F),F=-1):C=!0,ue(q,ve-fe))):(Y.sortIndex=K,t(g,Y),A||T||(A=!0,X||(X=!0,L()))),Y},i.unstable_shouldYield=ce,i.unstable_wrapCallback=function(Y){var J=S;return function(){var ve=S;S=J;try{return Y.apply(this,arguments)}finally{S=ve}}}})(Su)),Su}var Bh;function _y(){return Bh||(Bh=1,_u.exports=vy()),_u.exports}var Tu={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function Sy(){if(Hh)return Ot;Hh=1;var i=zu();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ot.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(g,m,null,v)},Ot.flushSync=function(g){var m=d.T,v=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=m,a.p=v,a.d.f()}},Ot.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},Ot.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Ot.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ot.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},Ot.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ot.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=h(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},Ot.requestFormReset=function(g){a.d.r(g)},Ot.unstable_batchedUpdates=function(g,m){return g(m)},Ot.useFormState=function(g,m,v){return d.H.useFormState(g,m,v)},Ot.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ot.version="19.2.1",Ot}var Vh;function Ty(){if(Vh)return Tu.exports;Vh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Tu.exports=Sy(),Tu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function Ey(){if(Oh)return Io;Oh=1;var i=_y(),t=zu(),l=Ty();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(s=p.return,s!==null){o=s;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return g(p),e;if(y===s)return g(p),n;y=y.sibling}throw Error(a(188))}if(o.return!==s.return)o=p,s=y;else{for(var E=!1,M=p.child;M;){if(M===o){E=!0,o=p,s=y;break}if(M===s){E=!0,s=p,o=y;break}M=M.sibling}if(!E){for(M=y.child;M;){if(M===o){E=!0,o=y,s=p;break}if(M===s){E=!0,s=y,o=p;break}M=M.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case R:return"Profiler";case I:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case k:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case B:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case re:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var ue=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},fe=[],K=-1;function N(e){return{current:e}}function U(e){0>K||(e.current=fe[K],fe[K]=null,K--)}function $(e,n){K++,fe[K]=e.current,e.current=n}var te=N(null),oe=N(null),we=N(null),Ue=N(null);function _e(e,n){switch($(we,n),$(oe,e),$(te,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?lh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=lh(n),e=oh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(te),$(te,e)}function Ce(){U(te),U(oe),U(we)}function it(e){e.memoizedState!==null&&$(Ue,e);var n=te.current,o=oh(n,e.type);n!==o&&($(oe,e),$(te,o))}function et(e){oe.current===e&&(U(te),U(oe)),Ue.current===e&&(U(Ue),Co._currentValue=ve)}var kt,zt;function b(e){if(kt===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);kt=n&&n[1]||"",zt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+e+zt}var he=!1;function se(e,n){if(!e||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var ne=ae}Reflect.construct(e,[],me)}else{try{me.call()}catch(ae){ne=ae}e.call(me.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(me=e())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=s.DetermineComponentFrameRoot(),E=y[0],M=y[1];if(E&&M){var P=E.split(`
`),j=M.split(`
`);for(p=s=0;s<P.length&&!P[s].includes("DetermineComponentFrameRoot");)s++;for(;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;if(s===P.length||p===j.length)for(s=P.length-1,p=j.length-1;1<=s&&0<=p&&P[s]!==j[p];)p--;for(;1<=s&&0<=p;s--,p--)if(P[s]!==j[p]){if(s!==1||p!==1)do if(s--,p--,0>p||P[s]!==j[p]){var de=`
`+P[s].replace(" at new "," at ");return e.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",e.displayName)),de}while(1<=s&&0<=p);break}}}finally{he=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?b(o):""}function G(e,n){switch(e.tag){case 26:case 27:case 5:return b(e.type);case 16:return b("Lazy");case 13:return e.child!==n&&n!==null?b("Suspense Fallback"):b("Suspense");case 19:return b("SuspenseList");case 0:case 15:return se(e.type,!1);case 11:return se(e.type.render,!1);case 1:return se(e.type,!0);case 31:return b("Activity");default:return""}}function z(e){try{var n="",o=null;do n+=G(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Z=Object.prototype.hasOwnProperty,ge=i.unstable_scheduleCallback,ye=i.unstable_cancelCallback,ee=i.unstable_shouldYield,Se=i.unstable_requestPaint,xe=i.unstable_now,be=i.unstable_getCurrentPriorityLevel,De=i.unstable_ImmediatePriority,tt=i.unstable_UserBlockingPriority,Fe=i.unstable_NormalPriority,Lt=i.unstable_LowPriority,tn=i.unstable_IdlePriority,Jt=i.log,Mn=i.unstable_setDisableYieldValue,lt=null,xt=null;function H(e){if(typeof Jt=="function"&&Mn(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(lt,e)}catch{}}var le=Math.clz32?Math.clz32:Ve,Ee=Math.log,Ie=Math.LN2;function Ve(e){return e>>>=0,e===0?32:31-(Ee(e)/Ie|0)|0}var qe=256,Pe=262144,Ae=4194304;function Le(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ot(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var p=0,y=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var M=s&134217727;return M!==0?(s=M&~y,s!==0?p=Le(s):(E&=M,E!==0?p=Le(E):o||(o=M&~e,o!==0&&(p=Le(o))))):(M=s&~y,M!==0?p=Le(M):E!==0?p=Le(E):o||(o=s&~e,o!==0&&(p=Le(o)))),p===0?0:n!==0&&n!==p&&(n&y)===0&&(y=p&-p,o=n&-n,y>=o||y===32&&(o&4194048)!==0)?n:p}function Be(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function at(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function Gt(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function cn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dn(e,n,o,s,p,y){var E=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var M=e.entanglements,P=e.expirationTimes,j=e.hiddenUpdates;for(o=E&~o;0<o;){var de=31-le(o),me=1<<de;M[de]=0,P[de]=-1;var ne=j[de];if(ne!==null)for(j[de]=null,de=0;de<ne.length;de++){var ae=ne[de];ae!==null&&(ae.lane&=-536870913)}o&=~me}s!==0&&vt(e,s,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(E&~n))}function vt(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-le(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Ct(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-le(o),p=1<<s;p&n|e[s]&n&&(e[s]|=n),o&=~p}}function fn(e,n){var o=n&-n;return o=(o&42)!==0?1:st(o),(o&(e.suspendedLanes|n))!==0?0:o}function st(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Kt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Un(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Nh(e.type))}function Ki(e,n){var o=J.p;try{return J.p=e,n()}finally{J.p=o}}var ti=Math.random().toString(36).slice(2),qt="__reactFiber$"+ti,Zt="__reactProps$"+ti,Zi="__reactContainer$"+ti,ss="__reactEvents$"+ti,ig="__reactListeners$"+ti,lg="__reactHandles$"+ti,Fu="__reactResources$"+ti,Pl="__reactMarker$"+ti;function rs(e){delete e[qt],delete e[Zt],delete e[ss],delete e[ig],delete e[lg]}function Xi(e){var n=e[qt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Zi]||o[qt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=dh(e);e!==null;){if(o=e[qt])return o;e=dh(e)}return n}e=o,o=e.parentNode}return null}function Qi(e){if(e=e[qt]||e[Zi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Bl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function $i(e){var n=e[Fu];return n||(n=e[Fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Mt(e){e[Pl]=!0}var Yu=new Set,Ju={};function Ni(e,n){Wi(e,n),Wi(e+"Capture",n)}function Wi(e,n){for(Ju[e]=n,e=0;e<n.length;e++)Yu.add(n[e])}var og=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},Zu={};function ag(e){return Z.call(Zu,e)?!0:Z.call(Ku,e)?!1:og.test(e)?Zu[e]=!0:(Ku[e]=!0,!1)}function Lo(e,n,o){if(ag(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Go(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function kn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sg(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,y=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function us(e){if(!e._valueTracker){var n=Xu(e)?"checked":"value";e._valueTracker=sg(e,n,""+e[n])}}function Qu(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Xu(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rg=/[\n"\\]/g;function hn(e){return e.replace(rg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cs(e,n,o,s,p,y,E,M){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),n!=null?E==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+dn(n)):e.value!==""+dn(n)&&(e.value=""+dn(n)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),n!=null?fs(e,E,dn(n)):o!=null?fs(e,E,dn(o)):s!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+dn(M):e.removeAttribute("name")}function $u(e,n,o,s,p,y,E,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||n!=null)){us(e);return}o=o!=null?""+dn(o):"",n=n!=null?""+dn(n):o,M||n===e.value||(e.value=n),e.defaultValue=n}s=s??p,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=M?e.checked:!!s,e.defaultChecked=!!s,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),us(e)}function fs(e,n,o){n==="number"&&qo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ji(e,n,o,s){if(e=e.options,n){n={};for(var p=0;p<o.length;p++)n["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=n.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&s&&(e[o].defaultSelected=!0)}else{for(o=""+dn(o),n=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,s&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Wu(e,n,o){if(n!=null&&(n=""+dn(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+dn(o):""}function ju(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(ue(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=dn(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),us(e)}function el(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var ug=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ec(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||ug.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function tc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var p in n)s=n[p],n.hasOwnProperty(p)&&o[p]!==s&&ec(e,p,s)}else for(var y in n)n.hasOwnProperty(y)&&ec(e,y,n[y])}function ds(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(e){return fg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var hs=null;function ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tl=null,nl=null;function nc(e){var n=Qi(e);if(n&&(e=n.stateNode)){var o=e[Zt]||null;e:switch(e=n.stateNode,n.type){case"input":if(cs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var p=s[Zt]||null;if(!p)throw Error(a(90));cs(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&Qu(s)}break e;case"textarea":Wu(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ji(e,!!o.multiple,n,!1)}}}var ms=!1;function ic(e,n,o){if(ms)return e(n,o);ms=!0;try{var s=e(n);return s}finally{if(ms=!1,(tl!==null||nl!==null)&&(Aa(),tl&&(n=tl,e=nl,nl=tl=null,nc(n),e)))for(n=0;n<e.length;n++)nc(e[n])}}function Hl(e,n){var o=e.stateNode;if(o===null)return null;var s=o[Zt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Ln)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{gs=!1}var ni=null,ys=null,Bo=null;function lc(){if(Bo)return Bo;var e,n=ys,o=n.length,s,p="value"in ni?ni.value:ni.textContent,y=p.length;for(e=0;e<o&&n[e]===p[e];e++);var E=o-e;for(s=1;s<=E&&n[o-s]===p[y-s];s++);return Bo=p.slice(e,1<s?1-s:void 0)}function Ho(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vo(){return!0}function oc(){return!1}function Xt(e){function n(o,s,p,y,E){this._reactName=o,this._targetInst=p,this.type=s,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(o=e[M],this[M]=o?o(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Vo:oc,this.isPropagationStopped=oc,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=Xt(Ri),Ol=_({},Ri,{view:0,detail:0}),dg=Xt(Ol),vs,_s,Fl,Fo=_({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fl&&(Fl&&e.type==="mousemove"?(vs=e.screenX-Fl.screenX,_s=e.screenY-Fl.screenY):_s=vs=0,Fl=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:_s}}),ac=Xt(Fo),hg=_({},Fo,{dataTransfer:0}),pg=Xt(hg),mg=_({},Ol,{relatedTarget:0}),Ss=Xt(mg),gg=_({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),yg=Xt(gg),vg=_({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_g=Xt(vg),Sg=_({},Ri,{data:0}),sc=Xt(Sg),Tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bg[e])?!!n[e]:!1}function Ts(){return xg}var Cg=_({},Ol,{key:function(e){if(e.key){var n=Tg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ag=Xt(Cg),wg=_({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rc=Xt(wg),Ng=_({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Rg=Xt(Ng),Ig=_({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mg=Xt(Ig),Dg=_({},Fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ug=Xt(Dg),kg=_({},Ri,{newState:0,oldState:0}),zg=Xt(kg),Lg=[9,13,27,32],Es=Ln&&"CompositionEvent"in window,Yl=null;Ln&&"documentMode"in document&&(Yl=document.documentMode);var Gg=Ln&&"TextEvent"in window&&!Yl,uc=Ln&&(!Es||Yl&&8<Yl&&11>=Yl),cc=" ",fc=!1;function dc(e,n){switch(e){case"keyup":return Lg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var il=!1;function qg(e,n){switch(e){case"compositionend":return hc(n);case"keypress":return n.which!==32?null:(fc=!0,cc);case"textInput":return e=n.data,e===cc&&fc?null:e;default:return null}}function Pg(e,n){if(il)return e==="compositionend"||!Es&&dc(e,n)?(e=lc(),Bo=ys=ni=null,il=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return uc&&n.locale!=="ko"?null:n.data;default:return null}}var Bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Bg[e.type]:n==="textarea"}function mc(e,n,o,s){tl?nl?nl.push(s):nl=[s]:tl=s,n=Ua(n,"onChange"),0<n.length&&(o=new Oo("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Jl=null,Kl=null;function Hg(e){Wd(e,0)}function Yo(e){var n=Bl(e);if(Qu(n))return e}function gc(e,n){if(e==="change")return n}var yc=!1;if(Ln){var bs;if(Ln){var xs="oninput"in document;if(!xs){var vc=document.createElement("div");vc.setAttribute("oninput","return;"),xs=typeof vc.oninput=="function"}bs=xs}else bs=!1;yc=bs&&(!document.documentMode||9<document.documentMode)}function _c(){Jl&&(Jl.detachEvent("onpropertychange",Sc),Kl=Jl=null)}function Sc(e){if(e.propertyName==="value"&&Yo(Kl)){var n=[];mc(n,Kl,e,ps(e)),ic(Hg,n)}}function Vg(e,n,o){e==="focusin"?(_c(),Jl=n,Kl=o,Jl.attachEvent("onpropertychange",Sc)):e==="focusout"&&_c()}function Og(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yo(Kl)}function Fg(e,n){if(e==="click")return Yo(n)}function Yg(e,n){if(e==="input"||e==="change")return Yo(n)}function Jg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nn=typeof Object.is=="function"?Object.is:Jg;function Zl(e,n){if(nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var p=o[s];if(!Z.call(n,p)||!nn(e[p],n[p]))return!1}return!0}function Tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,n){var o=Tc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tc(o)}}function bc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=qo(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=qo(e.document)}return n}function Cs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Kg=Ln&&"documentMode"in document&&11>=document.documentMode,ll=null,As=null,Xl=null,ws=!1;function Cc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ws||ll==null||ll!==qo(s)||(s=ll,"selectionStart"in s&&Cs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xl&&Zl(Xl,s)||(Xl=s,s=Ua(As,"onSelect"),0<s.length&&(n=new Oo("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=ll)))}function Ii(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var ol={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},Ns={},Ac={};Ln&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function Mi(e){if(Ns[e])return Ns[e];if(!ol[e])return e;var n=ol[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Ac)return Ns[e]=n[o];return e}var wc=Mi("animationend"),Nc=Mi("animationiteration"),Rc=Mi("animationstart"),Zg=Mi("transitionrun"),Xg=Mi("transitionstart"),Qg=Mi("transitioncancel"),Ic=Mi("transitionend"),Mc=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function bn(e,n){Mc.set(e,n),Ni(n,[e])}var Jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pn=[],al=0,Is=0;function Ko(){for(var e=al,n=Is=al=0;n<e;){var o=pn[n];pn[n++]=null;var s=pn[n];pn[n++]=null;var p=pn[n];pn[n++]=null;var y=pn[n];if(pn[n++]=null,s!==null&&p!==null){var E=s.pending;E===null?p.next=p:(p.next=E.next,E.next=p),s.pending=p}y!==0&&Dc(o,p,y)}}function Zo(e,n,o,s){pn[al++]=e,pn[al++]=n,pn[al++]=o,pn[al++]=s,Is|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ms(e,n,o,s){return Zo(e,n,o,s),Xo(e)}function Di(e,n){return Zo(e,null,null,n),Xo(e)}function Dc(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var p=!1,y=e.return;y!==null;)y.childLanes|=o,s=y.alternate,s!==null&&(s.childLanes|=o),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&n!==null&&(p=31-le(o),e=y.hiddenUpdates,s=e[p],s===null?e[p]=[n]:s.push(n),n.lane=o|536870912),y):null}function Xo(e){if(50<vo)throw vo=0,Br=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var sl={};function $g(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,n,o,s){return new $g(e,n,o,s)}function Ds(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gn(e,n){var o=e.alternate;return o===null?(o=ln(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Uc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Qo(e,n,o,s,p,y){var E=0;if(s=e,typeof e=="function")Ds(e)&&(E=1);else if(typeof e=="string")E=ny(e,o,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case O:return e=ln(31,o,n,p),e.elementType=O,e.lanes=y,e;case C:return Ui(o.children,p,y,n);case I:E=8,p|=24;break;case R:return e=ln(12,o,n,p|2),e.elementType=R,e.lanes=y,e;case q:return e=ln(13,o,n,p),e.elementType=q,e.lanes=y,e;case X:return e=ln(19,o,n,p),e.elementType=X,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:E=10;break e;case D:E=9;break e;case B:E=11;break e;case F:E=14;break e;case re:E=16,s=null;break e}E=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=ln(E,o,n,p),n.elementType=e,n.type=s,n.lanes=y,n}function Ui(e,n,o,s){return e=ln(7,e,s,n),e.lanes=o,e}function Us(e,n,o){return e=ln(6,e,null,n),e.lanes=o,e}function kc(e){var n=ln(18,null,null,0);return n.stateNode=e,n}function ks(e,n,o){return n=ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zc=new WeakMap;function mn(e,n){if(typeof e=="object"&&e!==null){var o=zc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:z(n)},zc.set(e,n),n)}return{value:e,source:n,stack:z(n)}}var rl=[],ul=0,$o=null,Ql=0,gn=[],yn=0,ii=null,wn=1,Nn="";function qn(e,n){rl[ul++]=Ql,rl[ul++]=$o,$o=e,Ql=n}function Lc(e,n,o){gn[yn++]=wn,gn[yn++]=Nn,gn[yn++]=ii,ii=e;var s=wn;e=Nn;var p=32-le(s)-1;s&=~(1<<p),o+=1;var y=32-le(n)+p;if(30<y){var E=p-p%5;y=(s&(1<<E)-1).toString(32),s>>=E,p-=E,wn=1<<32-le(n)+p|o<<p|s,Nn=y+e}else wn=1<<y|o<<p|s,Nn=e}function zs(e){e.return!==null&&(qn(e,1),Lc(e,1,0))}function Ls(e){for(;e===$o;)$o=rl[--ul],rl[ul]=null,Ql=rl[--ul],rl[ul]=null;for(;e===ii;)ii=gn[--yn],gn[yn]=null,Nn=gn[--yn],gn[yn]=null,wn=gn[--yn],gn[yn]=null}function Gc(e,n){gn[yn++]=wn,gn[yn++]=Nn,gn[yn++]=ii,wn=n.id,Nn=n.overflow,ii=e}var Pt=null,mt=null,Qe=!1,li=null,vn=!1,Gs=Error(a(519));function oi(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(mn(n,e)),Gs}function qc(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[qt]=e,n[Zt]=s,o){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(o=0;o<So.length;o++)Ke(So[o],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":Ke("invalid",n),$u(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ke("invalid",n);break;case"textarea":Ke("invalid",n),ju(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||nh(n.textContent,o)?(s.popover!=null&&(Ke("beforetoggle",n),Ke("toggle",n)),s.onScroll!=null&&Ke("scroll",n),s.onScrollEnd!=null&&Ke("scrollend",n),s.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||oi(e,!0)}function Pc(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Pt=Pt.return}}function cl(e){if(e!==Pt)return!1;if(!Qe)return Pc(e),Qe=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||tu(e.type,e.memoizedProps)),o=!o),o&&mt&&oi(e),Pc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));mt=fh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));mt=fh(e)}else n===27?(n=mt,_i(e.type)?(e=au,au=null,mt=e):mt=n):mt=Pt?Sn(e.stateNode.nextSibling):null;return!0}function ki(){mt=Pt=null,Qe=!1}function qs(){var e=li;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),li=null),e}function $l(e){li===null?li=[e]:li.push(e)}var Ps=N(null),zi=null,Pn=null;function ai(e,n,o){$(Ps,n._currentValue),n._currentValue=o}function Bn(e){e._currentValue=Ps.current,U(Ps)}function Bs(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Hs(e,n,o,s){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=p;for(var P=0;P<n.length;P++)if(M.context===n[P]){y.lanes|=o,M=y.alternate,M!==null&&(M.lanes|=o),Bs(y.return,o,e),s||(E=null);break e}y=M.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(a(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),Bs(E,o,e),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===e){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function fl(e,n,o,s){e=null;for(var p=n,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var M=p.type;nn(p.pendingProps.value,E.value)||(e!==null?e.push(M):e=[M])}}else if(p===Ue.current){if(E=p.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Co):e=[Co])}p=p.return}e!==null&&Hs(n,e,o,s),n.flags|=262144}function Wo(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Li(e){zi=e,Pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return Bc(zi,e)}function jo(e,n){return zi===null&&Li(e),Bc(e,n)}function Bc(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Pn===null){if(e===null)throw Error(a(308));Pn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pn=Pn.next=n;return o}var Wg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},jg=i.unstable_scheduleCallback,e0=i.unstable_NormalPriority,At={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vs(){return{controller:new Wg,data:new Map,refCount:0}}function Wl(e){e.refCount--,e.refCount===0&&jg(e0,function(){e.controller.abort()})}var jl=null,Os=0,dl=0,hl=null;function t0(e,n){if(jl===null){var o=jl=[];Os=0,dl=Jr(),hl={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Os++,n.then(Hc,Hc),n}function Hc(){if(--Os===0&&jl!==null){hl!==null&&(hl.status="fulfilled");var e=jl;jl=null,dl=0,hl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function n0(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var p=0;p<o.length;p++)(0,o[p])(n)},function(p){for(s.status="rejected",s.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),s}var Vc=Y.S;Y.S=function(e,n){Ad=xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&t0(e,n),Vc!==null&&Vc(e,n)};var Gi=N(null);function Fs(){var e=Gi.current;return e!==null?e:ht.pooledCache}function ea(e,n){n===null?$(Gi,Gi.current):$(Gi,n.pool)}function Oc(){var e=Fs();return e===null?null:{parent:At._currentValue,pool:e}}var pl=Error(a(460)),Ys=Error(a(474)),ta=Error(a(542)),na={then:function(){}};function Fc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yc(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(zn,zn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kc(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=s}},function(s){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kc(e),e}throw Pi=n,pl}}function qi(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pi=o,pl):o}}var Pi=null;function Jc(){if(Pi===null)throw Error(a(459));var e=Pi;return Pi=null,e}function Kc(e){if(e===pl||e===ta)throw Error(a(483))}var ml=null,eo=0;function ia(e){var n=eo;return eo+=1,ml===null&&(ml=[]),Yc(ml,e,n)}function to(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function la(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zc(e){function n(Q,V){if(e){var W=Q.deletions;W===null?(Q.deletions=[V],Q.flags|=16):W.push(V)}}function o(Q,V){if(!e)return null;for(;V!==null;)n(Q,V),V=V.sibling;return null}function s(Q){for(var V=new Map;Q!==null;)Q.key!==null?V.set(Q.key,Q):V.set(Q.index,Q),Q=Q.sibling;return V}function p(Q,V){return Q=Gn(Q,V),Q.index=0,Q.sibling=null,Q}function y(Q,V,W){return Q.index=W,e?(W=Q.alternate,W!==null?(W=W.index,W<V?(Q.flags|=67108866,V):W):(Q.flags|=67108866,V)):(Q.flags|=1048576,V)}function E(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function M(Q,V,W,pe){return V===null||V.tag!==6?(V=Us(W,Q.mode,pe),V.return=Q,V):(V=p(V,W),V.return=Q,V)}function P(Q,V,W,pe){var ke=W.type;return ke===C?de(Q,V,W.props.children,pe,W.key):V!==null&&(V.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===re&&qi(ke)===V.type)?(V=p(V,W.props),to(V,W),V.return=Q,V):(V=Qo(W.type,W.key,W.props,null,Q.mode,pe),to(V,W),V.return=Q,V)}function j(Q,V,W,pe){return V===null||V.tag!==4||V.stateNode.containerInfo!==W.containerInfo||V.stateNode.implementation!==W.implementation?(V=ks(W,Q.mode,pe),V.return=Q,V):(V=p(V,W.children||[]),V.return=Q,V)}function de(Q,V,W,pe,ke){return V===null||V.tag!==7?(V=Ui(W,Q.mode,pe,ke),V.return=Q,V):(V=p(V,W),V.return=Q,V)}function me(Q,V,W){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Us(""+V,Q.mode,W),V.return=Q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return W=Qo(V.type,V.key,V.props,null,Q.mode,W),to(W,V),W.return=Q,W;case A:return V=ks(V,Q.mode,W),V.return=Q,V;case re:return V=qi(V),me(Q,V,W)}if(ue(V)||L(V))return V=Ui(V,Q.mode,W,null),V.return=Q,V;if(typeof V.then=="function")return me(Q,ia(V),W);if(V.$$typeof===k)return me(Q,jo(Q,V),W);la(Q,V)}return null}function ne(Q,V,W,pe){var ke=V!==null?V.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ke!==null?null:M(Q,V,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case T:return W.key===ke?P(Q,V,W,pe):null;case A:return W.key===ke?j(Q,V,W,pe):null;case re:return W=qi(W),ne(Q,V,W,pe)}if(ue(W)||L(W))return ke!==null?null:de(Q,V,W,pe,null);if(typeof W.then=="function")return ne(Q,V,ia(W),pe);if(W.$$typeof===k)return ne(Q,V,jo(Q,W),pe);la(Q,W)}return null}function ae(Q,V,W,pe,ke){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Q=Q.get(W)||null,M(V,Q,""+pe,ke);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case T:return Q=Q.get(pe.key===null?W:pe.key)||null,P(V,Q,pe,ke);case A:return Q=Q.get(pe.key===null?W:pe.key)||null,j(V,Q,pe,ke);case re:return pe=qi(pe),ae(Q,V,W,pe,ke)}if(ue(pe)||L(pe))return Q=Q.get(W)||null,de(V,Q,pe,ke,null);if(typeof pe.then=="function")return ae(Q,V,W,ia(pe),ke);if(pe.$$typeof===k)return ae(Q,V,W,jo(V,pe),ke);la(V,pe)}return null}function Re(Q,V,W,pe){for(var ke=null,$e=null,Me=V,Ye=V=0,Xe=null;Me!==null&&Ye<W.length;Ye++){Me.index>Ye?(Xe=Me,Me=null):Xe=Me.sibling;var We=ne(Q,Me,W[Ye],pe);if(We===null){Me===null&&(Me=Xe);break}e&&Me&&We.alternate===null&&n(Q,Me),V=y(We,V,Ye),$e===null?ke=We:$e.sibling=We,$e=We,Me=Xe}if(Ye===W.length)return o(Q,Me),Qe&&qn(Q,Ye),ke;if(Me===null){for(;Ye<W.length;Ye++)Me=me(Q,W[Ye],pe),Me!==null&&(V=y(Me,V,Ye),$e===null?ke=Me:$e.sibling=Me,$e=Me);return Qe&&qn(Q,Ye),ke}for(Me=s(Me);Ye<W.length;Ye++)Xe=ae(Me,Q,Ye,W[Ye],pe),Xe!==null&&(e&&Xe.alternate!==null&&Me.delete(Xe.key===null?Ye:Xe.key),V=y(Xe,V,Ye),$e===null?ke=Xe:$e.sibling=Xe,$e=Xe);return e&&Me.forEach(function(xi){return n(Q,xi)}),Qe&&qn(Q,Ye),ke}function Ge(Q,V,W,pe){if(W==null)throw Error(a(151));for(var ke=null,$e=null,Me=V,Ye=V=0,Xe=null,We=W.next();Me!==null&&!We.done;Ye++,We=W.next()){Me.index>Ye?(Xe=Me,Me=null):Xe=Me.sibling;var xi=ne(Q,Me,We.value,pe);if(xi===null){Me===null&&(Me=Xe);break}e&&Me&&xi.alternate===null&&n(Q,Me),V=y(xi,V,Ye),$e===null?ke=xi:$e.sibling=xi,$e=xi,Me=Xe}if(We.done)return o(Q,Me),Qe&&qn(Q,Ye),ke;if(Me===null){for(;!We.done;Ye++,We=W.next())We=me(Q,We.value,pe),We!==null&&(V=y(We,V,Ye),$e===null?ke=We:$e.sibling=We,$e=We);return Qe&&qn(Q,Ye),ke}for(Me=s(Me);!We.done;Ye++,We=W.next())We=ae(Me,Q,Ye,We.value,pe),We!==null&&(e&&We.alternate!==null&&Me.delete(We.key===null?Ye:We.key),V=y(We,V,Ye),$e===null?ke=We:$e.sibling=We,$e=We);return e&&Me.forEach(function(hy){return n(Q,hy)}),Qe&&qn(Q,Ye),ke}function dt(Q,V,W,pe){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case T:e:{for(var ke=W.key;V!==null;){if(V.key===ke){if(ke=W.type,ke===C){if(V.tag===7){o(Q,V.sibling),pe=p(V,W.props.children),pe.return=Q,Q=pe;break e}}else if(V.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===re&&qi(ke)===V.type){o(Q,V.sibling),pe=p(V,W.props),to(pe,W),pe.return=Q,Q=pe;break e}o(Q,V);break}else n(Q,V);V=V.sibling}W.type===C?(pe=Ui(W.props.children,Q.mode,pe,W.key),pe.return=Q,Q=pe):(pe=Qo(W.type,W.key,W.props,null,Q.mode,pe),to(pe,W),pe.return=Q,Q=pe)}return E(Q);case A:e:{for(ke=W.key;V!==null;){if(V.key===ke)if(V.tag===4&&V.stateNode.containerInfo===W.containerInfo&&V.stateNode.implementation===W.implementation){o(Q,V.sibling),pe=p(V,W.children||[]),pe.return=Q,Q=pe;break e}else{o(Q,V);break}else n(Q,V);V=V.sibling}pe=ks(W,Q.mode,pe),pe.return=Q,Q=pe}return E(Q);case re:return W=qi(W),dt(Q,V,W,pe)}if(ue(W))return Re(Q,V,W,pe);if(L(W)){if(ke=L(W),typeof ke!="function")throw Error(a(150));return W=ke.call(W),Ge(Q,V,W,pe)}if(typeof W.then=="function")return dt(Q,V,ia(W),pe);if(W.$$typeof===k)return dt(Q,V,jo(Q,W),pe);la(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,V!==null&&V.tag===6?(o(Q,V.sibling),pe=p(V,W),pe.return=Q,Q=pe):(o(Q,V),pe=Us(W,Q.mode,pe),pe.return=Q,Q=pe),E(Q)):o(Q,V)}return function(Q,V,W,pe){try{eo=0;var ke=dt(Q,V,W,pe);return ml=null,ke}catch(Me){if(Me===pl||Me===ta)throw Me;var $e=ln(29,Me,null,Q.mode);return $e.lanes=pe,$e.return=Q,$e}finally{}}}var Bi=Zc(!0),Xc=Zc(!1),si=!1;function Js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ks(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ui(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(nt&2)!==0){var p=s.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),s.pending=n,n=Xo(e),Dc(e,null,o),n}return Zo(e,s,n,o),Xo(e)}function no(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Ct(e,o)}}function Zs(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?p=y=n:y=y.next=n}else p=y=n;o={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Xs=!1;function io(){if(Xs){var e=hl;if(e!==null)throw e}}function lo(e,n,o,s){Xs=!1;var p=e.updateQueue;si=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var P=M,j=P.next;P.next=null,E===null?y=j:E.next=j,E=P;var de=e.alternate;de!==null&&(de=de.updateQueue,M=de.lastBaseUpdate,M!==E&&(M===null?de.firstBaseUpdate=j:M.next=j,de.lastBaseUpdate=P))}if(y!==null){var me=p.baseState;E=0,de=j=P=null,M=y;do{var ne=M.lane&-536870913,ae=ne!==M.lane;if(ae?(Ze&ne)===ne:(s&ne)===ne){ne!==0&&ne===dl&&(Xs=!0),de!==null&&(de=de.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Re=e,Ge=M;ne=n;var dt=o;switch(Ge.tag){case 1:if(Re=Ge.payload,typeof Re=="function"){me=Re.call(dt,me,ne);break e}me=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ge.payload,ne=typeof Re=="function"?Re.call(dt,me,ne):Re,ne==null)break e;me=_({},me,ne);break e;case 2:si=!0}}ne=M.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},de===null?(j=de=ae,P=me):de=de.next=ae,E|=ne;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);de===null&&(P=me),p.baseState=P,p.firstBaseUpdate=j,p.lastBaseUpdate=de,y===null&&(p.shared.lanes=0),pi|=E,e.lanes=E,e.memoizedState=me}}function Qc(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $c(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Qc(o[e],n)}var gl=N(null),oa=N(0);function Wc(e,n){e=Xn,$(oa,e),$(gl,n),Xn=e|n.baseLanes}function Qs(){$(oa,Xn),$(gl,gl.current)}function $s(){Xn=oa.current,U(gl),U(oa)}var on=N(null),_n=null;function ci(e){var n=e.alternate;$(Et,Et.current&1),$(on,e),_n===null&&(n===null||gl.current!==null||n.memoizedState!==null)&&(_n=e)}function Ws(e){$(Et,Et.current),$(on,e),_n===null&&(_n=e)}function jc(e){e.tag===22?($(Et,Et.current),$(on,e),_n===null&&(_n=e)):fi()}function fi(){$(Et,Et.current),$(on,on.current)}function an(e){U(on),_n===e&&(_n=null),U(Et)}var Et=N(0);function aa(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||lu(o)||ou(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hn=0,Oe=null,ct=null,wt=null,sa=!1,yl=!1,Hi=!1,ra=0,oo=0,vl=null,i0=0;function St(){throw Error(a(321))}function js(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!nn(e[o],n[o]))return!1;return!0}function er(e,n,o,s,p,y){return Hn=y,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?Gf:mr,Hi=!1,y=o(s,p),Hi=!1,yl&&(y=tf(n,o,s,p)),ef(e),y}function ef(e){Y.H=ro;var n=ct!==null&&ct.next!==null;if(Hn=0,wt=ct=Oe=null,sa=!1,oo=0,vl=null,n)throw Error(a(300));e===null||Nt||(e=e.dependencies,e!==null&&Wo(e)&&(Nt=!0))}function tf(e,n,o,s){Oe=e;var p=0;do{if(yl&&(vl=null),oo=0,yl=!1,25<=p)throw Error(a(301));if(p+=1,wt=ct=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=qf,y=n(o,s)}while(yl);return y}function l0(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?ao(n):n,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Oe.flags|=1024),n}function tr(){var e=ra!==0;return ra=0,e}function nr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function ir(e){if(sa){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}sa=!1}Hn=0,wt=ct=Oe=null,yl=!1,oo=ra=0,vl=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Oe.memoizedState=wt=e:wt=wt.next=e,wt}function bt(){if(ct===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var n=wt===null?Oe.memoizedState:wt.next;if(n!==null)wt=n,ct=e;else{if(e===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},wt===null?Oe.memoizedState=wt=e:wt=wt.next=e}return wt}function ua(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(e){var n=oo;return oo+=1,vl===null&&(vl=[]),e=Yc(vl,e,n),n=Oe,(wt===null?n.memoizedState:wt.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Gf:mr),e}function ca(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ao(e);if(e.$$typeof===k)return Bt(e)}throw Error(a(438,String(e)))}function lr(e){var n=null,o=Oe.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=Oe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=ua(),Oe.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=ce;return n.index++,o}function Vn(e,n){return typeof n=="function"?n(e):n}function fa(e){var n=bt();return or(n,ct,e)}function or(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var p=e.baseQueue,y=s.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}n.baseQueue=p=y,s.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{n=p.next;var M=E=null,P=null,j=n,de=!1;do{var me=j.lane&-536870913;if(me!==j.lane?(Ze&me)===me:(Hn&me)===me){var ne=j.revertLane;if(ne===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),me===dl&&(de=!0);else if((Hn&ne)===ne){j=j.next,ne===dl&&(de=!0);continue}else me={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},P===null?(M=P=me,E=y):P=P.next=me,Oe.lanes|=ne,pi|=ne;me=j.action,Hi&&o(y,me),y=j.hasEagerState?j.eagerState:o(y,me)}else ne={lane:me,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},P===null?(M=P=ne,E=y):P=P.next=ne,Oe.lanes|=me,pi|=me;j=j.next}while(j!==null&&j!==n);if(P===null?E=y:P.next=M,!nn(y,e.memoizedState)&&(Nt=!0,de&&(o=hl,o!==null)))throw o;e.memoizedState=y,e.baseState=E,e.baseQueue=P,s.lastRenderedState=y}return p===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ar(e){var n=bt(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,p=o.pending,y=n.memoizedState;if(p!==null){o.pending=null;var E=p=p.next;do y=e(y,E.action),E=E.next;while(E!==p);nn(y,n.memoizedState)||(Nt=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),o.lastRenderedState=y}return[y,s]}function nf(e,n,o){var s=Oe,p=bt(),y=Qe;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=n();var E=!nn((ct||p).memoizedState,o);if(E&&(p.memoizedState=o,Nt=!0),p=p.queue,ur(af.bind(null,s,p,e),[e]),p.getSnapshot!==n||E||wt!==null&&wt.memoizedState.tag&1){if(s.flags|=2048,_l(9,{destroy:void 0},of.bind(null,s,p,o,n),null),ht===null)throw Error(a(349));y||(Hn&127)!==0||lf(s,n,o)}return o}function lf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Oe.updateQueue,n===null?(n=ua(),Oe.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function of(e,n,o,s){n.value=o,n.getSnapshot=s,sf(n)&&rf(e)}function af(e,n,o){return o(function(){sf(n)&&rf(e)})}function sf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!nn(e,o)}catch{return!0}}function rf(e){var n=Di(e,2);n!==null&&en(n,e,2)}function sr(e){var n=Yt();if(typeof e=="function"){var o=e;if(e=o(),Hi){H(!0);try{o()}finally{H(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},n}function uf(e,n,o,s){return e.baseState=o,or(e,ct,typeof s=="function"?s:Vn)}function o0(e,n,o,s,p){if(pa(e))throw Error(a(485));if(e=n.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};Y.T!==null?o(!0):y.isTransition=!1,s(y),o=n.pending,o===null?(y.next=n.pending=y,cf(n,y)):(y.next=o.next,n.pending=o.next=y)}}function cf(e,n){var o=n.action,s=n.payload,p=e.state;if(n.isTransition){var y=Y.T,E={};Y.T=E;try{var M=o(p,s),P=Y.S;P!==null&&P(E,M),ff(e,n,M)}catch(j){rr(e,n,j)}finally{y!==null&&E.types!==null&&(y.types=E.types),Y.T=y}}else try{y=o(p,s),ff(e,n,y)}catch(j){rr(e,n,j)}}function ff(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){df(e,n,s)},function(s){return rr(e,n,s)}):df(e,n,o)}function df(e,n,o){n.status="fulfilled",n.value=o,hf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,cf(e,o)))}function rr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,hf(n),n=n.next;while(n!==s)}e.action=null}function hf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pf(e,n){return n}function mf(e,n){if(Qe){var o=ht.formState;if(o!==null){e:{var s=Oe;if(Qe){if(mt){t:{for(var p=mt,y=vn;p.nodeType!==8;){if(!y){p=null;break t}if(p=Sn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){mt=Sn(p.nextSibling),s=p.data==="F!";break e}}oi(s)}s=!1}s&&(n=o[0])}}return o=Yt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:n},o.queue=s,o=kf.bind(null,Oe,s),s.dispatch=o,s=sr(!1),y=pr.bind(null,Oe,!1,s.queue),s=Yt(),p={state:n,dispatch:null,action:e,pending:null},s.queue=p,o=o0.bind(null,Oe,p,y,o),p.dispatch=o,s.memoizedState=e,[n,o,!1]}function gf(e){var n=bt();return yf(n,ct,e)}function yf(e,n,o){if(n=or(e,n,pf)[0],e=fa(Vn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=ao(n)}catch(E){throw E===pl?ta:E}else s=n;n=bt();var p=n.queue,y=p.dispatch;return o!==n.memoizedState&&(Oe.flags|=2048,_l(9,{destroy:void 0},a0.bind(null,p,o),null)),[s,y,e]}function a0(e,n){e.action=n}function vf(e){var n=bt(),o=ct;if(o!==null)return yf(n,o,e);bt(),n=n.memoizedState,o=bt();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function _l(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=ua(),Oe.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function _f(){return bt().memoizedState}function da(e,n,o,s){var p=Yt();Oe.flags|=e,p.memoizedState=_l(1|n,{destroy:void 0},o,s===void 0?null:s)}function ha(e,n,o,s){var p=bt();s=s===void 0?null:s;var y=p.memoizedState.inst;ct!==null&&s!==null&&js(s,ct.memoizedState.deps)?p.memoizedState=_l(n,y,o,s):(Oe.flags|=e,p.memoizedState=_l(1|n,y,o,s))}function Sf(e,n){da(8390656,8,e,n)}function ur(e,n){ha(2048,8,e,n)}function s0(e){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=ua(),Oe.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Tf(e){var n=bt().memoizedState;return s0({ref:n,nextImpl:e}),function(){if((nt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ef(e,n){return ha(4,2,e,n)}function bf(e,n){return ha(4,4,e,n)}function xf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cf(e,n,o){o=o!=null?o.concat([e]):null,ha(4,4,xf.bind(null,n,e),o)}function cr(){}function Af(e,n){var o=bt();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&js(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function wf(e,n){var o=bt();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&js(n,s[1]))return s[0];if(s=e(),Hi){H(!0);try{e()}finally{H(!1)}}return o.memoizedState=[s,n],s}function fr(e,n,o){return o===void 0||(Hn&1073741824)!==0&&(Ze&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=Nd(),Oe.lanes|=e,pi|=e,o)}function Nf(e,n,o,s){return nn(o,n)?o:gl.current!==null?(e=fr(e,o,s),nn(e,n)||(Nt=!0),e):(Hn&42)===0||(Hn&1073741824)!==0&&(Ze&261930)===0?(Nt=!0,e.memoizedState=o):(e=Nd(),Oe.lanes|=e,pi|=e,n)}function Rf(e,n,o,s,p){var y=J.p;J.p=y!==0&&8>y?y:8;var E=Y.T,M={};Y.T=M,pr(e,!1,n,o);try{var P=p(),j=Y.S;if(j!==null&&j(M,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var de=n0(P,s);so(e,n,de,un(e))}else so(e,n,s,un(e))}catch(me){so(e,n,{then:function(){},status:"rejected",reason:me},un())}finally{J.p=y,E!==null&&M.types!==null&&(E.types=M.types),Y.T=E}}function r0(){}function dr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var p=If(e).queue;Rf(e,p,n,ve,o===null?r0:function(){return Mf(e),o(s)})}function If(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:ve},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mf(e){var n=If(e);n.next===null&&(n=e.alternate.memoizedState),so(e,n.next.queue,{},un())}function hr(){return Bt(Co)}function Df(){return bt().memoizedState}function Uf(){return bt().memoizedState}function u0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=un();e=ri(o);var s=ui(n,e,o);s!==null&&(en(s,n,o),no(s,n,o)),n={cache:Vs()},e.payload=n;return}n=n.return}}function c0(e,n,o){var s=un();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},pa(e)?zf(n,o):(o=Ms(e,n,o,s),o!==null&&(en(o,e,s),Lf(o,n,s)))}function kf(e,n,o){var s=un();so(e,n,o,s)}function so(e,n,o,s){var p={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(pa(e))zf(n,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var E=n.lastRenderedState,M=y(E,o);if(p.hasEagerState=!0,p.eagerState=M,nn(M,E))return Zo(e,n,p,0),ht===null&&Ko(),!1}catch{}finally{}if(o=Ms(e,n,p,s),o!==null)return en(o,e,s),Lf(o,n,s),!0}return!1}function pr(e,n,o,s){if(s={lane:2,revertLane:Jr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},pa(e)){if(n)throw Error(a(479))}else n=Ms(e,o,s,2),n!==null&&en(n,e,2)}function pa(e){var n=e.alternate;return e===Oe||n!==null&&n===Oe}function zf(e,n){yl=sa=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Lf(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Ct(e,o)}}var ro={readContext:Bt,use:ca,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};ro.useEffectEvent=St;var Gf={readContext:Bt,use:ca,useCallback:function(e,n){return Yt().memoizedState=[e,n===void 0?null:n],e},useContext:Bt,useEffect:Sf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,da(4194308,4,xf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return da(4194308,4,e,n)},useInsertionEffect:function(e,n){da(4,2,e,n)},useMemo:function(e,n){var o=Yt();n=n===void 0?null:n;var s=e();if(Hi){H(!0);try{e()}finally{H(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=Yt();if(o!==void 0){var p=o(n);if(Hi){H(!0);try{o(n)}finally{H(!1)}}}else p=n;return s.memoizedState=s.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},s.queue=e,e=e.dispatch=c0.bind(null,Oe,e),[s.memoizedState,e]},useRef:function(e){var n=Yt();return e={current:e},n.memoizedState=e},useState:function(e){e=sr(e);var n=e.queue,o=kf.bind(null,Oe,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:cr,useDeferredValue:function(e,n){var o=Yt();return fr(o,e,n)},useTransition:function(){var e=sr(!1);return e=Rf.bind(null,Oe,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=Oe,p=Yt();if(Qe){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),ht===null)throw Error(a(349));(Ze&127)!==0||lf(s,n,o)}p.memoizedState=o;var y={value:o,getSnapshot:n};return p.queue=y,Sf(af.bind(null,s,y,e),[e]),s.flags|=2048,_l(9,{destroy:void 0},of.bind(null,s,y,o,n),null),o},useId:function(){var e=Yt(),n=ht.identifierPrefix;if(Qe){var o=Nn,s=wn;o=(s&~(1<<32-le(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=ra++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=i0++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hr,useFormState:mf,useActionState:mf,useOptimistic:function(e){var n=Yt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=pr.bind(null,Oe,!0,o),o.dispatch=n,[e,n]},useMemoCache:lr,useCacheRefresh:function(){return Yt().memoizedState=u0.bind(null,Oe)},useEffectEvent:function(e){var n=Yt(),o={impl:e};return n.memoizedState=o,function(){if((nt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},mr={readContext:Bt,use:ca,useCallback:Af,useContext:Bt,useEffect:ur,useImperativeHandle:Cf,useInsertionEffect:Ef,useLayoutEffect:bf,useMemo:wf,useReducer:fa,useRef:_f,useState:function(){return fa(Vn)},useDebugValue:cr,useDeferredValue:function(e,n){var o=bt();return Nf(o,ct.memoizedState,e,n)},useTransition:function(){var e=fa(Vn)[0],n=bt().memoizedState;return[typeof e=="boolean"?e:ao(e),n]},useSyncExternalStore:nf,useId:Df,useHostTransitionStatus:hr,useFormState:gf,useActionState:gf,useOptimistic:function(e,n){var o=bt();return uf(o,ct,e,n)},useMemoCache:lr,useCacheRefresh:Uf};mr.useEffectEvent=Tf;var qf={readContext:Bt,use:ca,useCallback:Af,useContext:Bt,useEffect:ur,useImperativeHandle:Cf,useInsertionEffect:Ef,useLayoutEffect:bf,useMemo:wf,useReducer:ar,useRef:_f,useState:function(){return ar(Vn)},useDebugValue:cr,useDeferredValue:function(e,n){var o=bt();return ct===null?fr(o,e,n):Nf(o,ct.memoizedState,e,n)},useTransition:function(){var e=ar(Vn)[0],n=bt().memoizedState;return[typeof e=="boolean"?e:ao(e),n]},useSyncExternalStore:nf,useId:Df,useHostTransitionStatus:hr,useFormState:vf,useActionState:vf,useOptimistic:function(e,n){var o=bt();return ct!==null?uf(o,ct,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:lr,useCacheRefresh:Uf};qf.useEffectEvent=Tf;function gr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:_({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var yr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=un(),p=ri(s);p.payload=n,o!=null&&(p.callback=o),n=ui(e,p,s),n!==null&&(en(n,e,s),no(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=un(),p=ri(s);p.tag=1,p.payload=n,o!=null&&(p.callback=o),n=ui(e,p,s),n!==null&&(en(n,e,s),no(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=un(),s=ri(o);s.tag=2,n!=null&&(s.callback=n),n=ui(e,s,o),n!==null&&(en(n,e,o),no(n,e,o))}};function Pf(e,n,o,s,p,y,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,y,E):n.prototype&&n.prototype.isPureReactComponent?!Zl(o,s)||!Zl(p,y):!0}function Bf(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&yr.enqueueReplaceState(n,n.state,null)}function Vi(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=_({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function Hf(e){Jo(e)}function Vf(e){console.error(e)}function Of(e){Jo(e)}function ma(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Ff(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function vr(e,n,o){return o=ri(o),o.tag=3,o.payload={element:null},o.callback=function(){ma(e,n)},o}function Yf(e){return e=ri(e),e.tag=3,e}function Jf(e,n,o,s){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=s.value;e.payload=function(){return p(y)},e.callback=function(){Ff(n,o,s)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Ff(n,o,s),typeof p!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var M=s.stack;this.componentDidCatch(s.value,{componentStack:M!==null?M:""})})}function f0(e,n,o,s,p){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&fl(n,o,p,!0),o=on.current,o!==null){switch(o.tag){case 31:case 13:return _n===null?wa():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,s===na?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Or(e,s,p)),!1;case 22:return o.flags|=65536,s===na?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Or(e,s,p)),!1}throw Error(a(435,o.tag))}return Or(e,s,p),wa(),!1}if(Qe)return n=on.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,s!==Gs&&(e=Error(a(422),{cause:s}),$l(mn(e,o)))):(s!==Gs&&(n=Error(a(423),{cause:s}),$l(mn(n,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,s=mn(s,o),p=vr(e.stateNode,s,p),Zs(e,p),Tt!==4&&(Tt=2)),!1;var y=Error(a(520),{cause:s});if(y=mn(y,o),yo===null?yo=[y]:yo.push(y),Tt!==4&&(Tt=2),n===null)return!0;s=mn(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=vr(o.stateNode,s,e),Zs(o,e),!1;case 1:if(n=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mi===null||!mi.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Yf(p),Jf(p,e,o,s),Zs(o,p),!1}o=o.return}while(o!==null);return!1}var _r=Error(a(461)),Nt=!1;function Ht(e,n,o,s){n.child=e===null?Xc(n,null,o,s):Bi(n,e.child,o,s)}function Kf(e,n,o,s,p){o=o.render;var y=n.ref;if("ref"in s){var E={};for(var M in s)M!=="ref"&&(E[M]=s[M])}else E=s;return Li(n),s=er(e,n,o,E,y,p),M=tr(),e!==null&&!Nt?(nr(e,n,p),On(e,n,p)):(Qe&&M&&zs(n),n.flags|=1,Ht(e,n,s,p),n.child)}function Zf(e,n,o,s,p){if(e===null){var y=o.type;return typeof y=="function"&&!Ds(y)&&y.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=y,Xf(e,n,y,s,p)):(e=Qo(o.type,null,s,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!wr(e,p)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:Zl,o(E,s)&&e.ref===n.ref)return On(e,n,p)}return n.flags|=1,e=Gn(y,s),e.ref=n.ref,e.return=n,n.child=e}function Xf(e,n,o,s,p){if(e!==null){var y=e.memoizedProps;if(Zl(y,s)&&e.ref===n.ref)if(Nt=!1,n.pendingProps=s=y,wr(e,p))(e.flags&131072)!==0&&(Nt=!0);else return n.lanes=e.lanes,On(e,n,p)}return Sr(e,n,o,s,p)}function Qf(e,n,o,s){var p=s.children,y=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,e!==null){for(s=n.child=e.child,p=0;s!==null;)p=p|s.lanes|s.childLanes,s=s.sibling;s=p&~y}else s=0,n.child=null;return $f(e,n,y,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ea(n,y!==null?y.cachePool:null),y!==null?Wc(n,y):Qs(),jc(n);else return s=n.lanes=536870912,$f(e,n,y!==null?y.baseLanes|o:o,o,s)}else y!==null?(ea(n,y.cachePool),Wc(n,y),fi(),n.memoizedState=null):(e!==null&&ea(n,null),Qs(),fi());return Ht(e,n,p,o),n.child}function uo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $f(e,n,o,s,p){var y=Fs();return y=y===null?null:{parent:At._currentValue,pool:y},n.memoizedState={baseLanes:o,cachePool:y},e!==null&&ea(n,null),Qs(),jc(n),e!==null&&fl(e,n,s,!0),n.childLanes=p,null}function ga(e,n){return n=va({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Wf(e,n,o){return Bi(n,e.child,null,o),e=ga(n,n.pendingProps),e.flags|=2,an(n),n.memoizedState=null,e}function d0(e,n,o){var s=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qe){if(s.mode==="hidden")return e=ga(n,s),n.lanes=536870912,uo(null,e);if(Ws(n),(e=mt)?(e=ch(e,vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:wn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},o=kc(e),o.return=n,n.child=o,Pt=n,mt=null)):e=null,e===null)throw oi(n);return n.lanes=536870912,null}return ga(n,s)}var y=e.memoizedState;if(y!==null){var E=y.dehydrated;if(Ws(n),p)if(n.flags&256)n.flags&=-257,n=Wf(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Nt||fl(e,n,o,!1),p=(o&e.childLanes)!==0,Nt||p){if(s=ht,s!==null&&(E=fn(s,o),E!==0&&E!==y.retryLane))throw y.retryLane=E,Di(e,E),en(s,e,E),_r;wa(),n=Wf(e,n,o)}else e=y.treeContext,mt=Sn(E.nextSibling),Pt=n,Qe=!0,li=null,vn=!1,e!==null&&Gc(n,e),n=ga(n,s),n.flags|=4096;return n}return e=Gn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ya(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Sr(e,n,o,s,p){return Li(n),o=er(e,n,o,s,void 0,p),s=tr(),e!==null&&!Nt?(nr(e,n,p),On(e,n,p)):(Qe&&s&&zs(n),n.flags|=1,Ht(e,n,o,p),n.child)}function jf(e,n,o,s,p,y){return Li(n),n.updateQueue=null,o=tf(n,s,o,p),ef(e),s=tr(),e!==null&&!Nt?(nr(e,n,y),On(e,n,y)):(Qe&&s&&zs(n),n.flags|=1,Ht(e,n,o,y),n.child)}function ed(e,n,o,s,p){if(Li(n),n.stateNode===null){var y=sl,E=o.contextType;typeof E=="object"&&E!==null&&(y=Bt(E)),y=new o(s,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=yr,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=s,y.state=n.memoizedState,y.refs={},Js(n),E=o.contextType,y.context=typeof E=="object"&&E!==null?Bt(E):sl,y.state=n.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(gr(n,o,E,s),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&yr.enqueueReplaceState(y,y.state,null),lo(n,s,y,p),io(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){y=n.stateNode;var M=n.memoizedProps,P=Vi(o,M);y.props=P;var j=y.context,de=o.contextType;E=sl,typeof de=="object"&&de!==null&&(E=Bt(de));var me=o.getDerivedStateFromProps;de=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||j!==E)&&Bf(n,y,s,E),si=!1;var ne=n.memoizedState;y.state=ne,lo(n,s,y,p),io(),j=n.memoizedState,M||ne!==j||si?(typeof me=="function"&&(gr(n,o,me,s),j=n.memoizedState),(P=si||Pf(n,o,P,s,ne,j,E))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=j),y.props=s,y.state=j,y.context=E,s=P):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{y=n.stateNode,Ks(e,n),E=n.memoizedProps,de=Vi(o,E),y.props=de,me=n.pendingProps,ne=y.context,j=o.contextType,P=sl,typeof j=="object"&&j!==null&&(P=Bt(j)),M=o.getDerivedStateFromProps,(j=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==me||ne!==P)&&Bf(n,y,s,P),si=!1,ne=n.memoizedState,y.state=ne,lo(n,s,y,p),io();var ae=n.memoizedState;E!==me||ne!==ae||si||e!==null&&e.dependencies!==null&&Wo(e.dependencies)?(typeof M=="function"&&(gr(n,o,M,s),ae=n.memoizedState),(de=si||Pf(n,o,de,s,ne,ae,P)||e!==null&&e.dependencies!==null&&Wo(e.dependencies))?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,ae,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,ae,P)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=ae),y.props=s,y.state=ae,y.context=P,s=de):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),s=!1)}return y=s,ya(e,n),s=(n.flags&128)!==0,y||s?(y=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&s?(n.child=Bi(n,e.child,null,p),n.child=Bi(n,null,o,p)):Ht(e,n,o,p),n.memoizedState=y.state,e=n.child):e=On(e,n,p),e}function td(e,n,o,s){return ki(),n.flags|=256,Ht(e,n,o,s),n.child}var Tr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Er(e){return{baseLanes:e,cachePool:Oc()}}function br(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=rn),e}function nd(e,n,o){var s=n.pendingProps,p=!1,y=(n.flags&128)!==0,E;if((E=y)||(E=e!==null&&e.memoizedState===null?!1:(Et.current&2)!==0),E&&(p=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qe){if(p?ci(n):fi(),(e=mt)?(e=ch(e,vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:wn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},o=kc(e),o.return=n,n.child=o,Pt=n,mt=null)):e=null,e===null)throw oi(n);return ou(e)?n.lanes=32:n.lanes=536870912,null}var M=s.children;return s=s.fallback,p?(fi(),p=n.mode,M=va({mode:"hidden",children:M},p),s=Ui(s,p,o,null),M.return=n,s.return=n,M.sibling=s,n.child=M,s=n.child,s.memoizedState=Er(o),s.childLanes=br(e,E,o),n.memoizedState=Tr,uo(null,s)):(ci(n),xr(n,M))}var P=e.memoizedState;if(P!==null&&(M=P.dehydrated,M!==null)){if(y)n.flags&256?(ci(n),n.flags&=-257,n=Cr(e,n,o)):n.memoizedState!==null?(fi(),n.child=e.child,n.flags|=128,n=null):(fi(),M=s.fallback,p=n.mode,s=va({mode:"visible",children:s.children},p),M=Ui(M,p,o,null),M.flags|=2,s.return=n,M.return=n,s.sibling=M,n.child=s,Bi(n,e.child,null,o),s=n.child,s.memoizedState=Er(o),s.childLanes=br(e,E,o),n.memoizedState=Tr,n=uo(null,s));else if(ci(n),ou(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var j=E.dgst;E=j,s=Error(a(419)),s.stack="",s.digest=E,$l({value:s,source:null,stack:null}),n=Cr(e,n,o)}else if(Nt||fl(e,n,o,!1),E=(o&e.childLanes)!==0,Nt||E){if(E=ht,E!==null&&(s=fn(E,o),s!==0&&s!==P.retryLane))throw P.retryLane=s,Di(e,s),en(E,e,s),_r;lu(M)||wa(),n=Cr(e,n,o)}else lu(M)?(n.flags|=192,n.child=e.child,n=null):(e=P.treeContext,mt=Sn(M.nextSibling),Pt=n,Qe=!0,li=null,vn=!1,e!==null&&Gc(n,e),n=xr(n,s.children),n.flags|=4096);return n}return p?(fi(),M=s.fallback,p=n.mode,P=e.child,j=P.sibling,s=Gn(P,{mode:"hidden",children:s.children}),s.subtreeFlags=P.subtreeFlags&65011712,j!==null?M=Gn(j,M):(M=Ui(M,p,o,null),M.flags|=2),M.return=n,s.return=n,s.sibling=M,n.child=s,uo(null,s),s=n.child,M=e.child.memoizedState,M===null?M=Er(o):(p=M.cachePool,p!==null?(P=At._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=Oc(),M={baseLanes:M.baseLanes|o,cachePool:p}),s.memoizedState=M,s.childLanes=br(e,E,o),n.memoizedState=Tr,uo(e.child,s)):(ci(n),o=e.child,e=o.sibling,o=Gn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(E=n.deletions,E===null?(n.deletions=[e],n.flags|=16):E.push(e)),n.child=o,n.memoizedState=null,o)}function xr(e,n){return n=va({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function va(e,n){return e=ln(22,e,null,n),e.lanes=0,e}function Cr(e,n,o){return Bi(n,e.child,null,o),e=xr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function id(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Bs(e.return,n,o)}function Ar(e,n,o,s,p,y){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:p,treeForkCount:y}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=s,E.tail=o,E.tailMode=p,E.treeForkCount=y)}function ld(e,n,o){var s=n.pendingProps,p=s.revealOrder,y=s.tail;s=s.children;var E=Et.current,M=(E&2)!==0;if(M?(E=E&1|2,n.flags|=128):E&=1,$(Et,E),Ht(e,n,s,o),s=Qe?Ql:0,!M&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&id(e,o,n);else if(e.tag===19)id(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=n.child,p=null;o!==null;)e=o.alternate,e!==null&&aa(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=n.child,n.child=null):(p=o.sibling,o.sibling=null),Ar(n,!1,p,o,y,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&aa(e)===null){n.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}Ar(n,!0,o,null,y,s);break;case"together":Ar(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function On(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),pi|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(fl(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=Gn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Gn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function wr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Wo(e)))}function h0(e,n,o){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),ai(n,At,e.memoizedState.cache),ki();break;case 27:case 5:it(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:ai(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ws(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(ci(n),n.flags|=128,null):(o&n.child.childLanes)!==0?nd(e,n,o):(ci(n),e=On(e,n,o),e!==null?e.sibling:null);ci(n);break;case 19:var p=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(fl(e,n,o,!1),s=(o&n.childLanes)!==0),p){if(s)return ld(e,n,o);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),$(Et,Et.current),s)break;return null;case 22:return n.lanes=0,Qf(e,n,o,n.pendingProps);case 24:ai(n,At,e.memoizedState.cache)}return On(e,n,o)}function od(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Nt=!0;else{if(!wr(e,o)&&(n.flags&128)===0)return Nt=!1,h0(e,n,o);Nt=(e.flags&131072)!==0}else Nt=!1,Qe&&(n.flags&1048576)!==0&&Lc(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=qi(n.elementType),n.type=e,typeof e=="function")Ds(e)?(s=Vi(e,s),n.tag=1,n=ed(null,n,e,s,o)):(n.tag=0,n=Sr(null,n,e,s,o));else{if(e!=null){var p=e.$$typeof;if(p===B){n.tag=11,n=Kf(null,n,e,s,o);break e}else if(p===F){n.tag=14,n=Zf(null,n,e,s,o);break e}}throw n=w(e)||e,Error(a(306,n,""))}}return n;case 0:return Sr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,p=Vi(s,n.pendingProps),ed(e,n,s,p,o);case 3:e:{if(_e(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var y=n.memoizedState;p=y.element,Ks(e,n),lo(n,s,null,o);var E=n.memoizedState;if(s=E.cache,ai(n,At,s),s!==y.cache&&Hs(n,[At],o,!0),io(),s=E.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=td(e,n,s,o);break e}else if(s!==p){p=mn(Error(a(424)),n),$l(p),n=td(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mt=Sn(e.firstChild),Pt=n,Qe=!0,li=null,vn=!0,o=Xc(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ki(),s===p){n=On(e,n,o);break e}Ht(e,n,s,o)}n=n.child}return n;case 26:return ya(e,n),e===null?(o=gh(n.type,null,n.pendingProps,null))?n.memoizedState=o:Qe||(o=n.type,e=n.pendingProps,s=ka(we.current).createElement(o),s[qt]=n,s[Zt]=e,Vt(s,o,e),Mt(s),n.stateNode=s):n.memoizedState=gh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return it(n),e===null&&Qe&&(s=n.stateNode=hh(n.type,n.pendingProps,we.current),Pt=n,vn=!0,p=mt,_i(n.type)?(au=p,mt=Sn(s.firstChild)):mt=p),Ht(e,n,n.pendingProps.children,o),ya(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qe&&((p=s=mt)&&(s=O0(s,n.type,n.pendingProps,vn),s!==null?(n.stateNode=s,Pt=n,mt=Sn(s.firstChild),vn=!1,p=!0):p=!1),p||oi(n)),it(n),p=n.type,y=n.pendingProps,E=e!==null?e.memoizedProps:null,s=y.children,tu(p,y)?s=null:E!==null&&tu(p,E)&&(n.flags|=32),n.memoizedState!==null&&(p=er(e,n,l0,null,null,o),Co._currentValue=p),ya(e,n),Ht(e,n,s,o),n.child;case 6:return e===null&&Qe&&((e=o=mt)&&(o=F0(o,n.pendingProps,vn),o!==null?(n.stateNode=o,Pt=n,mt=null,e=!0):e=!1),e||oi(n)),null;case 13:return nd(e,n,o);case 4:return _e(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Bi(n,null,s,o):Ht(e,n,s,o),n.child;case 11:return Kf(e,n,n.type,n.pendingProps,o);case 7:return Ht(e,n,n.pendingProps,o),n.child;case 8:return Ht(e,n,n.pendingProps.children,o),n.child;case 12:return Ht(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,ai(n,n.type,s.value),Ht(e,n,s.children,o),n.child;case 9:return p=n.type._context,s=n.pendingProps.children,Li(n),p=Bt(p),s=s(p),n.flags|=1,Ht(e,n,s,o),n.child;case 14:return Zf(e,n,n.type,n.pendingProps,o);case 15:return Xf(e,n,n.type,n.pendingProps,o);case 19:return ld(e,n,o);case 31:return d0(e,n,o);case 22:return Qf(e,n,o,n.pendingProps);case 24:return Li(n),s=Bt(At),e===null?(p=Fs(),p===null&&(p=ht,y=Vs(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),n.memoizedState={parent:s,cache:p},Js(n),ai(n,At,p)):((e.lanes&o)!==0&&(Ks(e,n),lo(n,null,null,o),io()),p=e.memoizedState,y=n.memoizedState,p.parent!==s?(p={parent:s,cache:s},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),ai(n,At,s)):(s=y.cache,ai(n,At,s),s!==p.cache&&Hs(n,[At],o,!0))),Ht(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fn(e){e.flags|=4}function Nr(e,n,o,s,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(Dd())e.flags|=8192;else throw Pi=na,Ys}else e.flags&=-16777217}function ad(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Th(n))if(Dd())e.flags|=8192;else throw Pi=na,Ys}function _a(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pt():536870912,e.lanes|=n,bl|=n)}function co(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,s|=p.subtreeFlags&65011712,s|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function p0(e,n,o){var s=n.pendingProps;switch(Ls(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bn(At),Ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(cl(n)?Fn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qs())),gt(n),null;case 26:var p=n.type,y=n.memoizedState;return e===null?(Fn(n),y!==null?(gt(n),ad(n,y)):(gt(n),Nr(n,p,null,s,o))):y?y!==e.memoizedState?(Fn(n),gt(n),ad(n,y)):(gt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Fn(n),gt(n),Nr(n,p,e,s,o)),null;case 27:if(et(n),o=we.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Fn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return gt(n),null}e=te.current,cl(n)?qc(n):(e=hh(p,s,o),n.stateNode=e,Fn(n))}return gt(n),null;case 5:if(et(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Fn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return gt(n),null}if(y=te.current,cl(n))qc(n);else{var E=ka(we.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof s.is=="string"?E.createElement("select",{is:s.is}):E.createElement("select"),s.multiple?y.multiple=!0:s.size&&(y.size=s.size);break;default:y=typeof s.is=="string"?E.createElement(p,{is:s.is}):E.createElement(p)}}y[qt]=n,y[Zt]=s;e:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break e;for(;E.sibling===null;){if(E.return===null||E.return===n)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=y;e:switch(Vt(y,p,s),p){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Fn(n)}}return gt(n),Nr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Fn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=we.current,cl(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,p=Pt,p!==null)switch(p.tag){case 27:case 5:s=p.memoizedProps}e[qt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||nh(e.nodeValue,o)),e||oi(n,!0)}else e=ka(e).createTextNode(s),e[qt]=n,n.stateNode=e}return gt(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=cl(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[qt]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),e=!1}else o=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(an(n),n):(an(n),null);if((n.flags&128)!==0)throw Error(a(558))}return gt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=cl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[qt]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),p=!1}else p=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(an(n),n):(an(n),null)}return an(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,p=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(p=s.alternate.memoizedState.cachePool.pool),y=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==p&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),_a(n,n.updateQueue),gt(n),null);case 4:return Ce(),e===null&&Qr(n.stateNode.containerInfo),gt(n),null;case 10:return Bn(n.type),gt(n),null;case 19:if(U(Et),s=n.memoizedState,s===null)return gt(n),null;if(p=(n.flags&128)!==0,y=s.rendering,y===null)if(p)co(s,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=aa(e),y!==null){for(n.flags|=128,co(s,!1),e=y.updateQueue,n.updateQueue=e,_a(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Uc(o,e),o=o.sibling;return $(Et,Et.current&1|2),Qe&&qn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&xe()>xa&&(n.flags|=128,p=!0,co(s,!1),n.lanes=4194304)}else{if(!p)if(e=aa(y),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,_a(n,e),co(s,!0),s.tail===null&&s.tailMode==="hidden"&&!y.alternate&&!Qe)return gt(n),null}else 2*xe()-s.renderingStartTime>xa&&o!==536870912&&(n.flags|=128,p=!0,co(s,!1),n.lanes=4194304);s.isBackwards?(y.sibling=n.child,n.child=y):(e=s.last,e!==null?e.sibling=y:n.child=y,s.last=y)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,o=Et.current,$(Et,p?o&1|2:o&1),Qe&&qn(n,s.treeForkCount),e):(gt(n),null);case 22:case 23:return an(n),$s(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),o=n.updateQueue,o!==null&&_a(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&U(Gi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bn(At),gt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function m0(e,n){switch(Ls(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bn(At),Ce(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return et(n),null;case 31:if(n.memoizedState!==null){if(an(n),n.alternate===null)throw Error(a(340));ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(an(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(Et),null;case 4:return Ce(),null;case 10:return Bn(n.type),null;case 22:case 23:return an(n),$s(),e!==null&&U(Gi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bn(At),null;case 25:return null;default:return null}}function sd(e,n){switch(Ls(n),n.tag){case 3:Bn(At),Ce();break;case 26:case 27:case 5:et(n);break;case 4:Ce();break;case 31:n.memoizedState!==null&&an(n);break;case 13:an(n);break;case 19:U(Et);break;case 10:Bn(n.type);break;case 22:case 23:an(n),$s(),e!==null&&U(Gi);break;case 24:Bn(At)}}function fo(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var p=s.next;o=p;do{if((o.tag&e)===e){s=void 0;var y=o.create,E=o.inst;s=y(),E.destroy=s}o=o.next}while(o!==p)}}catch(M){ut(n,n.return,M)}}function di(e,n,o){try{var s=n.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var y=p.next;s=y;do{if((s.tag&e)===e){var E=s.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,p=n;var P=o,j=M;try{j()}catch(de){ut(p,P,de)}}}s=s.next}while(s!==y)}}catch(de){ut(n,n.return,de)}}function rd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{$c(n,o)}catch(s){ut(e,e.return,s)}}}function ud(e,n,o){o.props=Vi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){ut(e,n,s)}}function ho(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(p){ut(e,n,p)}}function Rn(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(p){ut(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){ut(e,n,p)}else o.current=null}function cd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(p){ut(e,e.return,p)}}function Rr(e,n,o){try{var s=e.stateNode;G0(s,e.type,o,n),s[Zt]=n}catch(p){ut(e,e.return,p)}}function fd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_i(e.type)||e.tag===4}function Ir(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_i(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=zn));else if(s!==4&&(s===27&&_i(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Mr(e,n,o),e=e.sibling;e!==null;)Mr(e,n,o),e=e.sibling}function Sa(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&_i(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Sa(e,n,o),e=e.sibling;e!==null;)Sa(e,n,o),e=e.sibling}function dd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Vt(n,s,o),n[qt]=e,n[Zt]=o}catch(y){ut(e,e.return,y)}}var Yn=!1,Rt=!1,Dr=!1,hd=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function g0(e,n){if(e=e.containerInfo,jr=Ha,e=xc(e),Cs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var p=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,M=-1,P=-1,j=0,de=0,me=e,ne=null;t:for(;;){for(var ae;me!==o||p!==0&&me.nodeType!==3||(M=E+p),me!==y||s!==0&&me.nodeType!==3||(P=E+s),me.nodeType===3&&(E+=me.nodeValue.length),(ae=me.firstChild)!==null;)ne=me,me=ae;for(;;){if(me===e)break t;if(ne===o&&++j===p&&(M=E),ne===y&&++de===s&&(P=E),(ae=me.nextSibling)!==null)break;me=ne,ne=me.parentNode}me=ae}o=M===-1||P===-1?null:{start:M,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(eu={focusedElem:e,selectionRange:o},Ha=!1,Dt=n;Dt!==null;)if(n=Dt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Dt=e;else for(;Dt!==null;){switch(n=Dt,y=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,o=n,p=y.memoizedProps,y=y.memoizedState,s=o.stateNode;try{var Re=Vi(o.type,p);e=s.getSnapshotBeforeUpdate(Re,y),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ge){ut(o,o.return,Ge)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)iu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Dt=e;break}Dt=n.return}}function pd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:Kn(e,o),s&4&&fo(5,o);break;case 1:if(Kn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(E){ut(o,o.return,E)}else{var p=Vi(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ut(o,o.return,E)}}s&64&&rd(o),s&512&&ho(o,o.return);break;case 3:if(Kn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{$c(e,n)}catch(E){ut(o,o.return,E)}}break;case 27:n===null&&s&4&&dd(o);case 26:case 5:Kn(e,o),n===null&&s&4&&cd(o),s&512&&ho(o,o.return);break;case 12:Kn(e,o);break;case 31:Kn(e,o),s&4&&yd(e,o);break;case 13:Kn(e,o),s&4&&vd(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=C0.bind(null,o),Y0(e,o))));break;case 22:if(s=o.memoizedState!==null||Yn,!s){n=n!==null&&n.memoizedState!==null||Rt,p=Yn;var y=Rt;Yn=s,(Rt=n)&&!y?Zn(e,o,(o.subtreeFlags&8772)!==0):Kn(e,o),Yn=p,Rt=y}break;case 30:break;default:Kn(e,o)}}function md(e){var n=e.alternate;n!==null&&(e.alternate=null,md(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&rs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _t=null,Qt=!1;function Jn(e,n,o){for(o=o.child;o!==null;)gd(e,n,o),o=o.sibling}function gd(e,n,o){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(lt,o)}catch{}switch(o.tag){case 26:Rt||Rn(o,n),Jn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||Rn(o,n);var s=_t,p=Qt;_i(o.type)&&(_t=o.stateNode,Qt=!1),Jn(e,n,o),Eo(o.stateNode),_t=s,Qt=p;break;case 5:Rt||Rn(o,n);case 6:if(s=_t,p=Qt,_t=null,Jn(e,n,o),_t=s,Qt=p,_t!==null)if(Qt)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(y){ut(o,n,y)}else try{_t.removeChild(o.stateNode)}catch(y){ut(o,n,y)}break;case 18:_t!==null&&(Qt?(e=_t,rh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Ml(e)):rh(_t,o.stateNode));break;case 4:s=_t,p=Qt,_t=o.stateNode.containerInfo,Qt=!0,Jn(e,n,o),_t=s,Qt=p;break;case 0:case 11:case 14:case 15:di(2,o,n),Rt||di(4,o,n),Jn(e,n,o);break;case 1:Rt||(Rn(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&ud(o,n,s)),Jn(e,n,o);break;case 21:Jn(e,n,o);break;case 22:Rt=(s=Rt)||o.memoizedState!==null,Jn(e,n,o),Rt=s;break;default:Jn(e,n,o)}}function yd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ml(e)}catch(o){ut(n,n.return,o)}}}function vd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ml(e)}catch(o){ut(n,n.return,o)}}function y0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hd),n;default:throw Error(a(435,e.tag))}}function Ta(e,n){var o=y0(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var p=A0.bind(null,e,s);s.then(p,p)}})}function $t(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var p=o[s],y=e,E=n,M=E;e:for(;M!==null;){switch(M.tag){case 27:if(_i(M.type)){_t=M.stateNode,Qt=!1;break e}break;case 5:_t=M.stateNode,Qt=!1;break e;case 3:case 4:_t=M.stateNode.containerInfo,Qt=!0;break e}M=M.return}if(_t===null)throw Error(a(160));gd(y,E,p),_t=null,Qt=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_d(n,e),n=n.sibling}var xn=null;function _d(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(n,e),Wt(e),s&4&&(di(3,e,e.return),fo(3,e),di(5,e,e.return));break;case 1:$t(n,e),Wt(e),s&512&&(Rt||o===null||Rn(o,o.return)),s&64&&Yn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var p=xn;if($t(n,e),Wt(e),s&512&&(Rt||o===null||Rn(o,o.return)),s&4){var y=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,p=p.ownerDocument||p;t:switch(s){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Pl]||y[qt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(s),p.head.insertBefore(y,p.querySelector("head > title"))),Vt(y,s,o),y[qt]=e,Mt(y),s=y;break e;case"link":var E=_h("link","href",p).get(s+(o.href||""));if(E){for(var M=0;M<E.length;M++)if(y=E[M],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(M,1);break t}}y=p.createElement(s),Vt(y,s,o),p.head.appendChild(y);break;case"meta":if(E=_h("meta","content",p).get(s+(o.content||""))){for(M=0;M<E.length;M++)if(y=E[M],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(M,1);break t}}y=p.createElement(s),Vt(y,s,o),p.head.appendChild(y);break;default:throw Error(a(468,s))}y[qt]=e,Mt(y),s=y}e.stateNode=s}else Sh(p,e.type,e.stateNode);else e.stateNode=vh(p,s,e.memoizedProps);else y!==s?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,s===null?Sh(p,e.type,e.stateNode):vh(p,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Rr(e,e.memoizedProps,o.memoizedProps)}break;case 27:$t(n,e),Wt(e),s&512&&(Rt||o===null||Rn(o,o.return)),o!==null&&s&4&&Rr(e,e.memoizedProps,o.memoizedProps);break;case 5:if($t(n,e),Wt(e),s&512&&(Rt||o===null||Rn(o,o.return)),e.flags&32){p=e.stateNode;try{el(p,"")}catch(Re){ut(e,e.return,Re)}}s&4&&e.stateNode!=null&&(p=e.memoizedProps,Rr(e,p,o!==null?o.memoizedProps:p)),s&1024&&(Dr=!0);break;case 6:if($t(n,e),Wt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(Re){ut(e,e.return,Re)}}break;case 3:if(Ga=null,p=xn,xn=za(n.containerInfo),$t(n,e),xn=p,Wt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Ml(n.containerInfo)}catch(Re){ut(e,e.return,Re)}Dr&&(Dr=!1,Sd(e));break;case 4:s=xn,xn=za(e.stateNode.containerInfo),$t(n,e),Wt(e),xn=s;break;case 12:$t(n,e),Wt(e);break;case 31:$t(n,e),Wt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ta(e,s)));break;case 13:$t(n,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ba=xe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ta(e,s)));break;case 22:p=e.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,j=Yn,de=Rt;if(Yn=j||p,Rt=de||P,$t(n,e),Rt=de,Yn=j,Wt(e),s&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(o===null||P||Yn||Rt||Oi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){P=o=n;try{if(y=P.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=P.stateNode;var me=P.memoizedProps.style,ne=me!=null&&me.hasOwnProperty("display")?me.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Re){ut(P,P.return,Re)}}}else if(n.tag===6){if(o===null){P=n;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(Re){ut(P,P.return,Re)}}}else if(n.tag===18){if(o===null){P=n;try{var ae=P.stateNode;p?uh(ae,!0):uh(P.stateNode,!1)}catch(Re){ut(P,P.return,Re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Ta(e,o))));break;case 19:$t(n,e),Wt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ta(e,s)));break;case 30:break;case 21:break;default:$t(n,e),Wt(e)}}function Wt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(fd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,y=Ir(e);Sa(e,y,p);break;case 5:var E=o.stateNode;o.flags&32&&(el(E,""),o.flags&=-33);var M=Ir(e);Sa(e,M,E);break;case 3:case 4:var P=o.stateNode.containerInfo,j=Ir(e);Mr(e,j,P);break;default:throw Error(a(161))}}catch(de){ut(e,e.return,de)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Kn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pd(e,n.alternate,n),n=n.sibling}function Oi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:di(4,n,n.return),Oi(n);break;case 1:Rn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&ud(n,n.return,o),Oi(n);break;case 27:Eo(n.stateNode);case 26:case 5:Rn(n,n.return),Oi(n);break;case 22:n.memoizedState===null&&Oi(n);break;case 30:Oi(n);break;default:Oi(n)}e=e.sibling}}function Zn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,p=e,y=n,E=y.flags;switch(y.tag){case 0:case 11:case 15:Zn(p,y,o),fo(4,y);break;case 1:if(Zn(p,y,o),s=y,p=s.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(j){ut(s,s.return,j)}if(s=y,p=s.updateQueue,p!==null){var M=s.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)Qc(P[p],M)}catch(j){ut(s,s.return,j)}}o&&E&64&&rd(y),ho(y,y.return);break;case 27:dd(y);case 26:case 5:Zn(p,y,o),o&&s===null&&E&4&&cd(y),ho(y,y.return);break;case 12:Zn(p,y,o);break;case 31:Zn(p,y,o),o&&E&4&&yd(p,y);break;case 13:Zn(p,y,o),o&&E&4&&vd(p,y);break;case 22:y.memoizedState===null&&Zn(p,y,o),ho(y,y.return);break;case 30:break;default:Zn(p,y,o)}n=n.sibling}}function Ur(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Wl(o))}function kr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Wl(e))}function Cn(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Td(e,n,o,s),n=n.sibling}function Td(e,n,o,s){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Cn(e,n,o,s),p&2048&&fo(9,n);break;case 1:Cn(e,n,o,s);break;case 3:Cn(e,n,o,s),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Wl(e)));break;case 12:if(p&2048){Cn(e,n,o,s),e=n.stateNode;try{var y=n.memoizedProps,E=y.id,M=y.onPostCommit;typeof M=="function"&&M(E,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){ut(n,n.return,P)}}else Cn(e,n,o,s);break;case 31:Cn(e,n,o,s);break;case 13:Cn(e,n,o,s);break;case 23:break;case 22:y=n.stateNode,E=n.alternate,n.memoizedState!==null?y._visibility&2?Cn(e,n,o,s):po(e,n):y._visibility&2?Cn(e,n,o,s):(y._visibility|=2,Sl(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),p&2048&&Ur(E,n);break;case 24:Cn(e,n,o,s),p&2048&&kr(n.alternate,n);break;default:Cn(e,n,o,s)}}function Sl(e,n,o,s,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var y=e,E=n,M=o,P=s,j=E.flags;switch(E.tag){case 0:case 11:case 15:Sl(y,E,M,P,p),fo(8,E);break;case 23:break;case 22:var de=E.stateNode;E.memoizedState!==null?de._visibility&2?Sl(y,E,M,P,p):po(y,E):(de._visibility|=2,Sl(y,E,M,P,p)),p&&j&2048&&Ur(E.alternate,E);break;case 24:Sl(y,E,M,P,p),p&&j&2048&&kr(E.alternate,E);break;default:Sl(y,E,M,P,p)}n=n.sibling}}function po(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,p=s.flags;switch(s.tag){case 22:po(o,s),p&2048&&Ur(s.alternate,s);break;case 24:po(o,s),p&2048&&kr(s.alternate,s);break;default:po(o,s)}n=n.sibling}}var mo=8192;function Tl(e,n,o){if(e.subtreeFlags&mo)for(e=e.child;e!==null;)Ed(e,n,o),e=e.sibling}function Ed(e,n,o){switch(e.tag){case 26:Tl(e,n,o),e.flags&mo&&e.memoizedState!==null&&iy(o,xn,e.memoizedState,e.memoizedProps);break;case 5:Tl(e,n,o);break;case 3:case 4:var s=xn;xn=za(e.stateNode.containerInfo),Tl(e,n,o),xn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=mo,mo=16777216,Tl(e,n,o),mo=s):Tl(e,n,o));break;default:Tl(e,n,o)}}function bd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function go(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Dt=s,Cd(s,e)}bd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xd(e),e=e.sibling}function xd(e){switch(e.tag){case 0:case 11:case 15:go(e),e.flags&2048&&di(9,e,e.return);break;case 3:go(e);break;case 12:go(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ea(e)):go(e);break;default:go(e)}}function Ea(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Dt=s,Cd(s,e)}bd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:di(8,n,n.return),Ea(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Ea(n));break;default:Ea(n)}e=e.sibling}}function Cd(e,n){for(;Dt!==null;){var o=Dt;switch(o.tag){case 0:case 11:case 15:di(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Wl(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,Dt=s;else e:for(o=e;Dt!==null;){s=Dt;var p=s.sibling,y=s.return;if(md(s),s===o){Dt=null;break e}if(p!==null){p.return=y,Dt=p;break e}Dt=y}}}var v0={getCacheForType:function(e){var n=Bt(At),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return Bt(At).controller.signal}},_0=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Je=null,Ze=0,rt=0,sn=null,hi=!1,El=!1,zr=!1,Xn=0,Tt=0,pi=0,Fi=0,Lr=0,rn=0,bl=0,yo=null,jt=null,Gr=!1,ba=0,Ad=0,xa=1/0,Ca=null,mi=null,It=0,gi=null,xl=null,Qn=0,qr=0,Pr=null,wd=null,vo=0,Br=null;function un(){return(nt&2)!==0&&Ze!==0?Ze&-Ze:Y.T!==null?Jr():Un()}function Nd(){if(rn===0)if((Ze&536870912)===0||Qe){var e=Pe;Pe<<=1,(Pe&3932160)===0&&(Pe=262144),rn=e}else rn=536870912;return e=on.current,e!==null&&(e.flags|=32),rn}function en(e,n,o){(e===ht&&(rt===2||rt===9)||e.cancelPendingCommit!==null)&&(Cl(e,0),yi(e,Ze,rn,!1)),cn(e,o),((nt&2)===0||e!==ht)&&(e===ht&&((nt&2)===0&&(Fi|=o),Tt===4&&yi(e,Ze,rn,!1)),In(e))}function Rd(e,n,o){if((nt&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||Be(e,n),p=s?E0(e,n):Vr(e,n,!0),y=s;do{if(p===0){El&&!s&&yi(e,n,0,!1);break}else{if(o=e.current.alternate,y&&!S0(o)){p=Vr(e,n,!1),y=!1;continue}if(p===2){if(y=n,e.errorRecoveryDisabledLanes&y)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;e:{var M=e;p=yo;var P=M.current.memoizedState.isDehydrated;if(P&&(Cl(M,E).flags|=256),E=Vr(M,E,!1),E!==2){if(zr&&!P){M.errorRecoveryDisabledLanes|=y,Fi|=y,p=4;break e}y=jt,jt=p,y!==null&&(jt===null?jt=y:jt.push.apply(jt,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){Cl(e,0),yi(e,n,0,!0);break}e:{switch(s=e,y=p,y){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:yi(s,n,rn,!hi);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(p=ba+300-xe(),10<p)){if(yi(s,n,rn,!hi),ot(s,0,!0)!==0)break e;Qn=n,s.timeoutHandle=ah(Id.bind(null,s,o,jt,Ca,Gr,n,rn,Fi,bl,hi,y,"Throttled",-0,0),p);break e}Id(s,o,jt,Ca,Gr,n,rn,Fi,bl,hi,y,null,-0,0)}}break}while(!0);In(e)}function Id(e,n,o,s,p,y,E,M,P,j,de,me,ne,ae){if(e.timeoutHandle=-1,me=n.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Ed(n,y,me);var Re=(y&62914560)===y?ba-xe():(y&4194048)===y?Ad-xe():0;if(Re=ly(me,Re),Re!==null){Qn=y,e.cancelPendingCommit=Re(qd.bind(null,e,n,y,o,s,p,E,M,P,de,me,null,ne,ae)),yi(e,y,E,!j);return}}qd(e,n,y,o,s,p,E,M,P)}function S0(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var p=o[s],y=p.getSnapshot;p=p.value;try{if(!nn(y(),p))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yi(e,n,o,s){n&=~Lr,n&=~Fi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var p=n;0<p;){var y=31-le(p),E=1<<y;s[y]=-1,p&=~E}o!==0&&vt(e,o,n)}function Aa(){return(nt&6)===0?(_o(0),!1):!0}function Hr(){if(Je!==null){if(rt===0)var e=Je.return;else e=Je,Pn=zi=null,ir(e),ml=null,eo=0,e=Je;for(;e!==null;)sd(e.alternate,e),e=e.return;Je=null}}function Cl(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,B0(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Qn=0,Hr(),ht=e,Je=o=Gn(e.current,null),Ze=n,rt=0,sn=null,hi=!1,El=Be(e,n),zr=!1,bl=rn=Lr=Fi=pi=Tt=0,jt=yo=null,Gr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var p=31-le(s),y=1<<p;n|=e[p],s&=~y}return Xn=n,Ko(),o}function Md(e,n){Oe=null,Y.H=ro,n===pl||n===ta?(n=Jc(),rt=3):n===Ys?(n=Jc(),rt=4):rt=n===_r?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sn=n,Je===null&&(Tt=1,ma(e,mn(n,e.current)))}function Dd(){var e=on.current;return e===null?!0:(Ze&4194048)===Ze?_n===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?e===_n:!1}function Ud(){var e=Y.H;return Y.H=ro,e===null?ro:e}function kd(){var e=Y.A;return Y.A=v0,e}function wa(){Tt=4,hi||(Ze&4194048)!==Ze&&on.current!==null||(El=!0),(pi&134217727)===0&&(Fi&134217727)===0||ht===null||yi(ht,Ze,rn,!1)}function Vr(e,n,o){var s=nt;nt|=2;var p=Ud(),y=kd();(ht!==e||Ze!==n)&&(Ca=null,Cl(e,n)),n=!1;var E=Tt;e:do try{if(rt!==0&&Je!==null){var M=Je,P=sn;switch(rt){case 8:Hr(),E=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(n=!0);var j=rt;if(rt=0,sn=null,Al(e,M,P,j),o&&El){E=0;break e}break;default:j=rt,rt=0,sn=null,Al(e,M,P,j)}}T0(),E=Tt;break}catch(de){Md(e,de)}while(!0);return n&&e.shellSuspendCounter++,Pn=zi=null,nt=s,Y.H=p,Y.A=y,Je===null&&(ht=null,Ze=0,Ko()),E}function T0(){for(;Je!==null;)zd(Je)}function E0(e,n){var o=nt;nt|=2;var s=Ud(),p=kd();ht!==e||Ze!==n?(Ca=null,xa=xe()+500,Cl(e,n)):El=Be(e,n);e:do try{if(rt!==0&&Je!==null){n=Je;var y=sn;t:switch(rt){case 1:rt=0,sn=null,Al(e,n,y,1);break;case 2:case 9:if(Fc(y)){rt=0,sn=null,Ld(n);break}n=function(){rt!==2&&rt!==9||ht!==e||(rt=7),In(e)},y.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Fc(y)?(rt=0,sn=null,Ld(n)):(rt=0,sn=null,Al(e,n,y,7));break;case 5:var E=null;switch(Je.tag){case 26:E=Je.memoizedState;case 5:case 27:var M=Je;if(E?Th(E):M.stateNode.complete){rt=0,sn=null;var P=M.sibling;if(P!==null)Je=P;else{var j=M.return;j!==null?(Je=j,Na(j)):Je=null}break t}}rt=0,sn=null,Al(e,n,y,5);break;case 6:rt=0,sn=null,Al(e,n,y,6);break;case 8:Hr(),Tt=6;break e;default:throw Error(a(462))}}b0();break}catch(de){Md(e,de)}while(!0);return Pn=zi=null,Y.H=s,Y.A=p,nt=o,Je!==null?0:(ht=null,Ze=0,Ko(),Tt)}function b0(){for(;Je!==null&&!ee();)zd(Je)}function zd(e){var n=od(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,n===null?Na(e):Je=n}function Ld(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=jf(o,n,n.pendingProps,n.type,void 0,Ze);break;case 11:n=jf(o,n,n.pendingProps,n.type.render,n.ref,Ze);break;case 5:ir(n);default:sd(o,n),n=Je=Uc(n,Xn),n=od(o,n,Xn)}e.memoizedProps=e.pendingProps,n===null?Na(e):Je=n}function Al(e,n,o,s){Pn=zi=null,ir(n),ml=null,eo=0;var p=n.return;try{if(f0(e,p,n,o,Ze)){Tt=1,ma(e,mn(o,e.current)),Je=null;return}}catch(y){if(p!==null)throw Je=p,y;Tt=1,ma(e,mn(o,e.current)),Je=null;return}n.flags&32768?(Qe||s===1?e=!0:El||(Ze&536870912)!==0?e=!1:(hi=e=!0,(s===2||s===9||s===3||s===6)&&(s=on.current,s!==null&&s.tag===13&&(s.flags|=16384))),Gd(n,e)):Na(n)}function Na(e){var n=e;do{if((n.flags&32768)!==0){Gd(n,hi);return}e=n.return;var o=p0(n.alternate,n,Xn);if(o!==null){Je=o;return}if(n=n.sibling,n!==null){Je=n;return}Je=n=e}while(n!==null);Tt===0&&(Tt=5)}function Gd(e,n){do{var o=m0(e.alternate,e);if(o!==null){o.flags&=32767,Je=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Je=e;return}Je=e=o}while(e!==null);Tt=6,Je=null}function qd(e,n,o,s,p,y,E,M,P){e.cancelPendingCommit=null;do Ra();while(It!==0);if((nt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(y=n.lanes|n.childLanes,y|=Is,Dn(e,o,y,E,M,P),e===ht&&(Je=ht=null,Ze=0),xl=n,gi=e,Qn=o,qr=y,Pr=p,wd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w0(Fe,function(){return Od(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null,p=J.p,J.p=2,E=nt,nt|=4;try{g0(e,n,o)}finally{nt=E,J.p=p,Y.T=s}}It=1,Pd(),Bd(),Hd()}}function Pd(){if(It===1){It=0;var e=gi,n=xl,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var s=J.p;J.p=2;var p=nt;nt|=4;try{_d(n,e);var y=eu,E=xc(e.containerInfo),M=y.focusedElem,P=y.selectionRange;if(E!==M&&M&&M.ownerDocument&&bc(M.ownerDocument.documentElement,M)){if(P!==null&&Cs(M)){var j=P.start,de=P.end;if(de===void 0&&(de=j),"selectionStart"in M)M.selectionStart=j,M.selectionEnd=Math.min(de,M.value.length);else{var me=M.ownerDocument||document,ne=me&&me.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Re=M.textContent.length,Ge=Math.min(P.start,Re),dt=P.end===void 0?Ge:Math.min(P.end,Re);!ae.extend&&Ge>dt&&(E=dt,dt=Ge,Ge=E);var Q=Ec(M,Ge),V=Ec(M,dt);if(Q&&V&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==V.node||ae.focusOffset!==V.offset)){var W=me.createRange();W.setStart(Q.node,Q.offset),ae.removeAllRanges(),Ge>dt?(ae.addRange(W),ae.extend(V.node,V.offset)):(W.setEnd(V.node,V.offset),ae.addRange(W))}}}}for(me=[],ae=M;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<me.length;M++){var pe=me[M];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Ha=!!jr,eu=jr=null}finally{nt=p,J.p=s,Y.T=o}}e.current=n,It=2}}function Bd(){if(It===2){It=0;var e=gi,n=xl,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var s=J.p;J.p=2;var p=nt;nt|=4;try{pd(e,n.alternate,n)}finally{nt=p,J.p=s,Y.T=o}}It=3}}function Hd(){if(It===4||It===3){It=0,Se();var e=gi,n=xl,o=Qn,s=wd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?It=5:(It=0,xl=gi=null,Vd(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(mi=null),Kt(o),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(lt,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=Y.T,p=J.p,J.p=2,Y.T=null;try{for(var y=e.onRecoverableError,E=0;E<s.length;E++){var M=s[E];y(M.value,{componentStack:M.stack})}}finally{Y.T=n,J.p=p}}(Qn&3)!==0&&Ra(),In(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===Br?vo++:(vo=0,Br=e):vo=0,_o(0)}}function Vd(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Wl(n)))}function Ra(){return Pd(),Bd(),Hd(),Od()}function Od(){if(It!==5)return!1;var e=gi,n=qr;qr=0;var o=Kt(Qn),s=Y.T,p=J.p;try{J.p=32>o?32:o,Y.T=null,o=Pr,Pr=null;var y=gi,E=Qn;if(It=0,xl=gi=null,Qn=0,(nt&6)!==0)throw Error(a(331));var M=nt;if(nt|=4,xd(y.current),Td(y,y.current,E,o),nt=M,_o(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(lt,y)}catch{}return!0}finally{J.p=p,Y.T=s,Vd(e,n)}}function Fd(e,n,o){n=mn(o,n),n=vr(e.stateNode,n,2),e=ui(e,n,2),e!==null&&(cn(e,2),In(e))}function ut(e,n,o){if(e.tag===3)Fd(e,e,o);else for(;n!==null;){if(n.tag===3){Fd(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mi===null||!mi.has(s))){e=mn(o,e),o=Yf(2),s=ui(n,o,2),s!==null&&(Jf(o,s,n,e),cn(s,2),In(s));break}}n=n.return}}function Or(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new _0;var p=new Set;s.set(n,p)}else p=s.get(n),p===void 0&&(p=new Set,s.set(n,p));p.has(o)||(zr=!0,p.add(o),e=x0.bind(null,e,n,o),n.then(e,e))}function x0(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,ht===e&&(Ze&o)===o&&(Tt===4||Tt===3&&(Ze&62914560)===Ze&&300>xe()-ba?(nt&2)===0&&Cl(e,0):Lr|=o,bl===Ze&&(bl=0)),In(e)}function Yd(e,n){n===0&&(n=pt()),e=Di(e,n),e!==null&&(cn(e,n),In(e))}function C0(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Yd(e,o)}function A0(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Yd(e,o)}function w0(e,n){return ge(e,n)}var Ia=null,wl=null,Fr=!1,Ma=!1,Yr=!1,vi=0;function In(e){e!==wl&&e.next===null&&(wl===null?Ia=wl=e:wl=wl.next=e),Ma=!0,Fr||(Fr=!0,R0())}function _o(e,n){if(!Yr&&Ma){Yr=!0;do for(var o=!1,s=Ia;s!==null;){if(e!==0){var p=s.pendingLanes;if(p===0)var y=0;else{var E=s.suspendedLanes,M=s.pingedLanes;y=(1<<31-le(42|e)+1)-1,y&=p&~(E&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Xd(s,y))}else y=Ze,y=ot(s,s===ht?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(y&3)===0||Be(s,y)||(o=!0,Xd(s,y));s=s.next}while(o);Yr=!1}}function N0(){Jd()}function Jd(){Ma=Fr=!1;var e=0;vi!==0&&P0()&&(e=vi);for(var n=xe(),o=null,s=Ia;s!==null;){var p=s.next,y=Kd(s,n);y===0?(s.next=null,o===null?Ia=p:o.next=p,p===null&&(wl=o)):(o=s,(e!==0||(y&3)!==0)&&(Ma=!0)),s=p}It!==0&&It!==5||_o(e),vi!==0&&(vi=0)}function Kd(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var E=31-le(y),M=1<<E,P=p[E];P===-1?((M&o)===0||(M&s)!==0)&&(p[E]=at(M,n)):P<=n&&(e.expiredLanes|=M),y&=~M}if(n=ht,o=Ze,o=ot(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(rt===2||rt===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ye(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Be(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&ye(s),Kt(o)){case 2:case 8:o=tt;break;case 32:o=Fe;break;case 268435456:o=tn;break;default:o=Fe}return s=Zd.bind(null,e),o=ge(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&ye(s),e.callbackPriority=2,e.callbackNode=null,2}function Zd(e,n){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ra()&&e.callbackNode!==o)return null;var s=Ze;return s=ot(e,e===ht?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Rd(e,s,n),Kd(e,xe()),e.callbackNode!=null&&e.callbackNode===o?Zd.bind(null,e):null)}function Xd(e,n){if(Ra())return null;Rd(e,n,!0)}function R0(){H0(function(){(nt&6)!==0?ge(De,N0):Jd()})}function Jr(){if(vi===0){var e=dl;e===0&&(e=qe,qe<<=1,(qe&261888)===0&&(qe=256)),vi=e}return vi}function Qd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Po(""+e)}function $d(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function I0(e,n,o,s,p){if(n==="submit"&&o&&o.stateNode===p){var y=Qd((p[Zt]||null).action),E=s.submitter;E&&(n=(n=E[Zt]||null)?Qd(n.formAction):E.getAttribute("formAction"),n!==null&&(y=n,E=null));var M=new Oo("action","action",null,s,p);e.push({event:M,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(vi!==0){var P=E?$d(p,E):new FormData(p);dr(o,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(M.preventDefault(),P=E?$d(p,E):new FormData(p),dr(o,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var Kr=0;Kr<Rs.length;Kr++){var Zr=Rs[Kr],M0=Zr.toLowerCase(),D0=Zr[0].toUpperCase()+Zr.slice(1);bn(M0,"on"+D0)}bn(wc,"onAnimationEnd"),bn(Nc,"onAnimationIteration"),bn(Rc,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(Zg,"onTransitionRun"),bn(Xg,"onTransitionStart"),bn(Qg,"onTransitionCancel"),bn(Ic,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(So));function Wd(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],p=s.event;s=s.listeners;e:{var y=void 0;if(n)for(var E=s.length-1;0<=E;E--){var M=s[E],P=M.instance,j=M.currentTarget;if(M=M.listener,P!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=j;try{y(p)}catch(de){Jo(de)}p.currentTarget=null,y=P}else for(E=0;E<s.length;E++){if(M=s[E],P=M.instance,j=M.currentTarget,M=M.listener,P!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=j;try{y(p)}catch(de){Jo(de)}p.currentTarget=null,y=P}}}}function Ke(e,n){var o=n[ss];o===void 0&&(o=n[ss]=new Set);var s=e+"__bubble";o.has(s)||(jd(n,e,2,!1),o.add(s))}function Xr(e,n,o){var s=0;n&&(s|=4),jd(o,e,s,n)}var Da="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Da]){e[Da]=!0,Yu.forEach(function(o){o!=="selectionchange"&&(U0.has(o)||Xr(o,!1,e),Xr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Da]||(n[Da]=!0,Xr("selectionchange",!1,n))}}function jd(e,n,o,s){switch(Nh(n)){case 2:var p=sy;break;case 8:p=ry;break;default:p=fu}o=p.bind(null,n,o,e),p=void 0,!gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),s?p!==void 0?e.addEventListener(n,o,{capture:!0,passive:p}):e.addEventListener(n,o,!0):p!==void 0?e.addEventListener(n,o,{passive:p}):e.addEventListener(n,o,!1)}function $r(e,n,o,s,p){var y=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var E=s.tag;if(E===3||E===4){var M=s.stateNode.containerInfo;if(M===p)break;if(E===4)for(E=s.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;M!==null;){if(E=Xi(M),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){s=y=E;continue e}M=M.parentNode}}s=s.return}ic(function(){var j=y,de=ps(o),me=[];e:{var ne=Mc.get(e);if(ne!==void 0){var ae=Oo,Re=e;switch(e){case"keypress":if(Ho(o)===0)break e;case"keydown":case"keyup":ae=Ag;break;case"focusin":Re="focus",ae=Ss;break;case"focusout":Re="blur",ae=Ss;break;case"beforeblur":case"afterblur":ae=Ss;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Rg;break;case wc:case Nc:case Rc:ae=yg;break;case Ic:ae=Mg;break;case"scroll":case"scrollend":ae=dg;break;case"wheel":ae=Ug;break;case"copy":case"cut":case"paste":ae=_g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=rc;break;case"toggle":case"beforetoggle":ae=zg}var Ge=(n&4)!==0,dt=!Ge&&(e==="scroll"||e==="scrollend"),Q=Ge?ne!==null?ne+"Capture":null:ne;Ge=[];for(var V=j,W;V!==null;){var pe=V;if(W=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||W===null||Q===null||(pe=Hl(V,Q),pe!=null&&Ge.push(To(V,pe,W))),dt)break;V=V.return}0<Ge.length&&(ne=new ae(ne,Re,null,o,de),me.push({event:ne,listeners:Ge}))}}if((n&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&o!==hs&&(Re=o.relatedTarget||o.fromElement)&&(Xi(Re)||Re[Zi]))break e;if((ae||ne)&&(ne=de.window===de?de:(ne=de.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Re=o.relatedTarget||o.toElement,ae=j,Re=Re?Xi(Re):null,Re!==null&&(dt=c(Re),Ge=Re.tag,Re!==dt||Ge!==5&&Ge!==27&&Ge!==6)&&(Re=null)):(ae=null,Re=j),ae!==Re)){if(Ge=ac,pe="onMouseLeave",Q="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Ge=rc,pe="onPointerLeave",Q="onPointerEnter",V="pointer"),dt=ae==null?ne:Bl(ae),W=Re==null?ne:Bl(Re),ne=new Ge(pe,V+"leave",ae,o,de),ne.target=dt,ne.relatedTarget=W,pe=null,Xi(de)===j&&(Ge=new Ge(Q,V+"enter",Re,o,de),Ge.target=W,Ge.relatedTarget=dt,pe=Ge),dt=pe,ae&&Re)t:{for(Ge=k0,Q=ae,V=Re,W=0,pe=Q;pe;pe=Ge(pe))W++;pe=0;for(var ke=V;ke;ke=Ge(ke))pe++;for(;0<W-pe;)Q=Ge(Q),W--;for(;0<pe-W;)V=Ge(V),pe--;for(;W--;){if(Q===V||V!==null&&Q===V.alternate){Ge=Q;break t}Q=Ge(Q),V=Ge(V)}Ge=null}else Ge=null;ae!==null&&eh(me,ne,ae,Ge,!1),Re!==null&&dt!==null&&eh(me,dt,Re,Ge,!0)}}e:{if(ne=j?Bl(j):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var $e=gc;else if(pc(ne))if(yc)$e=Yg;else{$e=Og;var Me=Vg}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?j&&ds(j.elementType)&&($e=gc):$e=Fg;if($e&&($e=$e(e,j))){mc(me,$e,o,de);break e}Me&&Me(e,ne,j),e==="focusout"&&j&&ne.type==="number"&&j.memoizedProps.value!=null&&fs(ne,"number",ne.value)}switch(Me=j?Bl(j):window,e){case"focusin":(pc(Me)||Me.contentEditable==="true")&&(ll=Me,As=j,Xl=null);break;case"focusout":Xl=As=ll=null;break;case"mousedown":ws=!0;break;case"contextmenu":case"mouseup":case"dragend":ws=!1,Cc(me,o,de);break;case"selectionchange":if(Kg)break;case"keydown":case"keyup":Cc(me,o,de)}var Ye;if(Es)e:{switch(e){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else il?dc(e,o)&&(Xe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Xe="onCompositionStart");Xe&&(uc&&o.locale!=="ko"&&(il||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&il&&(Ye=lc()):(ni=de,ys="value"in ni?ni.value:ni.textContent,il=!0)),Me=Ua(j,Xe),0<Me.length&&(Xe=new sc(Xe,e,null,o,de),me.push({event:Xe,listeners:Me}),Ye?Xe.data=Ye:(Ye=hc(o),Ye!==null&&(Xe.data=Ye)))),(Ye=Gg?qg(e,o):Pg(e,o))&&(Xe=Ua(j,"onBeforeInput"),0<Xe.length&&(Me=new sc("onBeforeInput","beforeinput",null,o,de),me.push({event:Me,listeners:Xe}),Me.data=Ye)),I0(me,e,j,o,de)}Wd(me,n)})}function To(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ua(e,n){for(var o=n+"Capture",s=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Hl(e,o),p!=null&&s.unshift(To(e,p,y)),p=Hl(e,n),p!=null&&s.push(To(e,p,y))),e.tag===3)return s;e=e.return}return[]}function k0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function eh(e,n,o,s,p){for(var y=n._reactName,E=[];o!==null&&o!==s;){var M=o,P=M.alternate,j=M.stateNode;if(M=M.tag,P!==null&&P===s)break;M!==5&&M!==26&&M!==27||j===null||(P=j,p?(j=Hl(o,y),j!=null&&E.unshift(To(o,j,P))):p||(j=Hl(o,y),j!=null&&E.push(To(o,j,P)))),o=o.return}E.length!==0&&e.push({event:n,listeners:E})}var z0=/\r\n?/g,L0=/\u0000|\uFFFD/g;function th(e){return(typeof e=="string"?e:""+e).replace(z0,`
`).replace(L0,"")}function nh(e,n){return n=th(n),th(e)===n}function ft(e,n,o,s,p,y){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||el(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&el(e,""+s);break;case"className":Go(e,"class",s);break;case"tabIndex":Go(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Go(e,o,s);break;case"style":tc(e,s,y);break;case"data":if(n!=="object"){Go(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Po(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(n!=="input"&&ft(e,n,"name",p.name,p,null),ft(e,n,"formEncType",p.formEncType,p,null),ft(e,n,"formMethod",p.formMethod,p,null),ft(e,n,"formTarget",p.formTarget,p,null)):(ft(e,n,"encType",p.encType,p,null),ft(e,n,"method",p.method,p,null),ft(e,n,"target",p.target,p,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Po(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=zn);break;case"onScroll":s!=null&&Ke("scroll",e);break;case"onScrollEnd":s!=null&&Ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Po(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Ke("beforetoggle",e),Ke("toggle",e),Lo(e,"popover",s);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Lo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=cg.get(o)||o,Lo(e,o,s))}}function Wr(e,n,o,s,p,y){switch(o){case"style":tc(e,s,y);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?el(e,s):(typeof s=="number"||typeof s=="bigint")&&el(e,""+s);break;case"onScroll":s!=null&&Ke("scroll",e);break;case"onScrollEnd":s!=null&&Ke("scrollend",e);break;case"onClick":s!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ju.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),n=o.slice(2,p?o.length-7:void 0),y=e[Zt]||null,y=y!=null?y[o]:null,typeof y=="function"&&e.removeEventListener(n,y,p),typeof s=="function")){typeof y!="function"&&y!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,p);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):Lo(e,o,s)}}}function Vt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",e),Ke("load",e);var s=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":s=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(e,n,y,E,o,null)}}p&&ft(e,n,"srcSet",o.srcSet,o,null),s&&ft(e,n,"src",o.src,o,null);return;case"input":Ke("invalid",e);var M=y=E=p=null,P=null,j=null;for(s in o)if(o.hasOwnProperty(s)){var de=o[s];if(de!=null)switch(s){case"name":p=de;break;case"type":E=de;break;case"checked":P=de;break;case"defaultChecked":j=de;break;case"value":y=de;break;case"defaultValue":M=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,n));break;default:ft(e,n,s,de,o,null)}}$u(e,y,M,P,j,E,p,!1);return;case"select":Ke("invalid",e),s=E=y=null;for(p in o)if(o.hasOwnProperty(p)&&(M=o[p],M!=null))switch(p){case"value":y=M;break;case"defaultValue":E=M;break;case"multiple":s=M;default:ft(e,n,p,M,o,null)}n=y,o=E,e.multiple=!!s,n!=null?ji(e,!!s,n,!1):o!=null&&ji(e,!!s,o,!0);return;case"textarea":Ke("invalid",e),y=p=s=null;for(E in o)if(o.hasOwnProperty(E)&&(M=o[E],M!=null))switch(E){case"value":s=M;break;case"defaultValue":p=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:ft(e,n,E,M,o,null)}ju(e,s,p,y);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(s=o[P],s!=null))switch(P){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ft(e,n,P,s,o,null)}return;case"dialog":Ke("beforetoggle",e),Ke("toggle",e),Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":Ke("load",e);break;case"video":case"audio":for(s=0;s<So.length;s++)Ke(So[s],e);break;case"image":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"embed":case"source":case"link":Ke("error",e),Ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in o)if(o.hasOwnProperty(j)&&(s=o[j],s!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(e,n,j,s,o,null)}return;default:if(ds(n)){for(de in o)o.hasOwnProperty(de)&&(s=o[de],s!==void 0&&Wr(e,n,de,s,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(s=o[M],s!=null&&ft(e,n,M,s,o,null))}function G0(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,M=null,P=null,j=null,de=null;for(ae in o){var me=o[ae];if(o.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":P=me;default:s.hasOwnProperty(ae)||ft(e,n,ae,null,s,me)}}for(var ne in s){var ae=s[ne];if(me=o[ne],s.hasOwnProperty(ne)&&(ae!=null||me!=null))switch(ne){case"type":y=ae;break;case"name":p=ae;break;case"checked":j=ae;break;case"defaultChecked":de=ae;break;case"value":E=ae;break;case"defaultValue":M=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,n));break;default:ae!==me&&ft(e,n,ne,ae,s,me)}}cs(e,E,M,P,j,de,y,p);return;case"select":ae=E=M=ne=null;for(y in o)if(P=o[y],o.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":ae=P;default:s.hasOwnProperty(y)||ft(e,n,y,null,s,P)}for(p in s)if(y=s[p],P=o[p],s.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":ne=y;break;case"defaultValue":M=y;break;case"multiple":E=y;default:y!==P&&ft(e,n,p,y,s,P)}n=M,o=E,s=ae,ne!=null?ji(e,!!o,ne,!1):!!s!=!!o&&(n!=null?ji(e,!!o,n,!0):ji(e,!!o,o?[]:"",!1));return;case"textarea":ae=ne=null;for(M in o)if(p=o[M],o.hasOwnProperty(M)&&p!=null&&!s.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:ft(e,n,M,null,s,p)}for(E in s)if(p=s[E],y=o[E],s.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":ne=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==y&&ft(e,n,E,p,s,y)}Wu(e,ne,ae);return;case"option":for(var Re in o)if(ne=o[Re],o.hasOwnProperty(Re)&&ne!=null&&!s.hasOwnProperty(Re))switch(Re){case"selected":e.selected=!1;break;default:ft(e,n,Re,null,s,ne)}for(P in s)if(ne=s[P],ae=o[P],s.hasOwnProperty(P)&&ne!==ae&&(ne!=null||ae!=null))switch(P){case"selected":e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:ft(e,n,P,ne,s,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in o)ne=o[Ge],o.hasOwnProperty(Ge)&&ne!=null&&!s.hasOwnProperty(Ge)&&ft(e,n,Ge,null,s,ne);for(j in s)if(ne=s[j],ae=o[j],s.hasOwnProperty(j)&&ne!==ae&&(ne!=null||ae!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,n));break;default:ft(e,n,j,ne,s,ae)}return;default:if(ds(n)){for(var dt in o)ne=o[dt],o.hasOwnProperty(dt)&&ne!==void 0&&!s.hasOwnProperty(dt)&&Wr(e,n,dt,void 0,s,ne);for(de in s)ne=s[de],ae=o[de],!s.hasOwnProperty(de)||ne===ae||ne===void 0&&ae===void 0||Wr(e,n,de,ne,s,ae);return}}for(var Q in o)ne=o[Q],o.hasOwnProperty(Q)&&ne!=null&&!s.hasOwnProperty(Q)&&ft(e,n,Q,null,s,ne);for(me in s)ne=s[me],ae=o[me],!s.hasOwnProperty(me)||ne===ae||ne==null&&ae==null||ft(e,n,me,ne,s,ae)}function ih(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var p=o[s],y=p.transferSize,E=p.initiatorType,M=p.duration;if(y&&M&&ih(E)){for(E=0,M=p.responseEnd,s+=1;s<o.length;s++){var P=o[s],j=P.startTime;if(j>M)break;var de=P.transferSize,me=P.initiatorType;de&&ih(me)&&(P=P.responseEnd,E+=de*(P<M?1:(M-j)/(P-j)))}if(--s,n+=8*(y+E)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jr=null,eu=null;function ka(e){return e.nodeType===9?e:e.ownerDocument}function lh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function tu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nu=null;function P0(){var e=window.event;return e&&e.type==="popstate"?e===nu?!1:(nu=e,!0):(nu=null,!1)}var ah=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,H0=typeof queueMicrotask=="function"?queueMicrotask:typeof sh<"u"?function(e){return sh.resolve(null).then(e).catch(V0)}:ah;function V0(e){setTimeout(function(){throw e})}function _i(e){return e==="head"}function rh(e,n){var o=n,s=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(p),Ml(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Eo(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Eo(o);for(var y=o.firstChild;y;){var E=y.nextSibling,M=y.nodeName;y[Pl]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=E}}else o==="body"&&Eo(e.ownerDocument.body);o=p}while(o);Ml(n)}function uh(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function iu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":iu(o),rs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function O0(e,n,o,s){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Pl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Sn(e.nextSibling),e===null)break}return null}function F0(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Sn(e.nextSibling),e===null))return null;return e}function ch(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Sn(e.nextSibling),e===null))return null;return e}function lu(e){return e.data==="$?"||e.data==="$~"}function ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Y0(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Sn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var au=null;function fh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Sn(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function dh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function hh(e,n,o){switch(n=ka(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Eo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);rs(e)}var Tn=new Map,ph=new Set;function za(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $n=J.d;J.d={f:J0,r:K0,D:Z0,C:X0,L:Q0,m:$0,X:j0,S:W0,M:ey};function J0(){var e=$n.f(),n=Aa();return e||n}function K0(e){var n=Qi(e);n!==null&&n.tag===5&&n.type==="form"?Mf(n):$n.r(e)}var Nl=typeof document>"u"?null:document;function mh(e,n,o){var s=Nl;if(s&&typeof n=="string"&&n){var p=hn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),ph.has(p)||(ph.add(p),e={rel:e,crossOrigin:o,href:n},s.querySelector(p)===null&&(n=s.createElement("link"),Vt(n,"link",e),Mt(n),s.head.appendChild(n)))}}function Z0(e){$n.D(e),mh("dns-prefetch",e,null)}function X0(e,n){$n.C(e,n),mh("preconnect",e,n)}function Q0(e,n,o){$n.L(e,n,o);var s=Nl;if(s&&e&&n){var p='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+hn(o.imageSizes)+'"]')):p+='[href="'+hn(e)+'"]';var y=p;switch(n){case"style":y=Rl(e);break;case"script":y=Il(e)}Tn.has(y)||(e=_({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Tn.set(y,e),s.querySelector(p)!==null||n==="style"&&s.querySelector(bo(y))||n==="script"&&s.querySelector(xo(y))||(n=s.createElement("link"),Vt(n,"link",e),Mt(n),s.head.appendChild(n)))}}function $0(e,n){$n.m(e,n);var o=Nl;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+hn(s)+'"][href="'+hn(e)+'"]',y=p;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Il(e)}if(!Tn.has(y)&&(e=_({rel:"modulepreload",href:e},n),Tn.set(y,e),o.querySelector(p)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(xo(y)))return}s=o.createElement("link"),Vt(s,"link",e),Mt(s),o.head.appendChild(s)}}}function W0(e,n,o){$n.S(e,n,o);var s=Nl;if(s&&e){var p=$i(s).hoistableStyles,y=Rl(e);n=n||"default";var E=p.get(y);if(!E){var M={loading:0,preload:null};if(E=s.querySelector(bo(y)))M.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Tn.get(y))&&su(e,o);var P=E=s.createElement("link");Mt(P),Vt(P,"link",e),P._p=new Promise(function(j,de){P.onload=j,P.onerror=de}),P.addEventListener("load",function(){M.loading|=1}),P.addEventListener("error",function(){M.loading|=2}),M.loading|=4,La(E,n,s)}E={type:"stylesheet",instance:E,count:1,state:M},p.set(y,E)}}}function j0(e,n){$n.X(e,n);var o=Nl;if(o&&e){var s=$i(o).hoistableScripts,p=Il(e),y=s.get(p);y||(y=o.querySelector(xo(p)),y||(e=_({src:e,async:!0},n),(n=Tn.get(p))&&ru(e,n),y=o.createElement("script"),Mt(y),Vt(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function ey(e,n){$n.M(e,n);var o=Nl;if(o&&e){var s=$i(o).hoistableScripts,p=Il(e),y=s.get(p);y||(y=o.querySelector(xo(p)),y||(e=_({src:e,async:!0,type:"module"},n),(n=Tn.get(p))&&ru(e,n),y=o.createElement("script"),Mt(y),Vt(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function gh(e,n,o,s){var p=(p=we.current)?za(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Rl(o.href),o=$i(p).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Rl(o.href);var y=$i(p).hoistableStyles,E=y.get(e);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,E),(y=p.querySelector(bo(e)))&&!y._p&&(E.instance=y,E.state.loading=5),Tn.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Tn.set(e,o),y||ty(p,e,o,E.state))),n&&s===null)throw Error(a(528,""));return E}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Il(o),o=$i(p).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Rl(e){return'href="'+hn(e)+'"'}function bo(e){return'link[rel="stylesheet"]['+e+"]"}function yh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function ty(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Vt(n,"link",o),Mt(n),e.head.appendChild(n))}function Il(e){return'[src="'+hn(e)+'"]'}function xo(e){return"script[async]"+e}function vh(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+hn(o.href)+'"]');if(s)return n.instance=s,Mt(s),s;var p=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Mt(s),Vt(s,"style",p),La(s,o.precedence,e),n.instance=s;case"stylesheet":p=Rl(o.href);var y=e.querySelector(bo(p));if(y)return n.state.loading|=4,n.instance=y,Mt(y),y;s=yh(o),(p=Tn.get(p))&&su(s,p),y=(e.ownerDocument||e).createElement("link"),Mt(y);var E=y;return E._p=new Promise(function(M,P){E.onload=M,E.onerror=P}),Vt(y,"link",s),n.state.loading|=4,La(y,o.precedence,e),n.instance=y;case"script":return y=Il(o.src),(p=e.querySelector(xo(y)))?(n.instance=p,Mt(p),p):(s=o,(p=Tn.get(y))&&(s=_({},o),ru(s,p)),e=e.ownerDocument||e,p=e.createElement("script"),Mt(p),Vt(p,"link",s),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,La(s,o.precedence,e));return n.instance}function La(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=s.length?s[s.length-1]:null,y=p,E=0;E<s.length;E++){var M=s[E];if(M.dataset.precedence===n)y=M;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function su(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ru(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ga=null;function _h(e,n,o){if(Ga===null){var s=new Map,p=Ga=new Map;p.set(o,s)}else p=Ga,s=p.get(o),s||(s=new Map,p.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var y=o[p];if(!(y[Pl]||y[qt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(n)||"";E=e+E;var M=s.get(E);M?M.push(y):s.set(E,[y])}}return s}function Sh(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function ny(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Th(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iy(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Rl(s.href),y=n.querySelector(bo(p));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=qa.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=y,Mt(y);return}y=n.ownerDocument||n,s=yh(s),(p=Tn.get(p))&&su(s,p),y=y.createElement("link"),Mt(y);var E=y;E._p=new Promise(function(M,P){E.onload=M,E.onerror=P}),Vt(y,"link",s),o.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=qa.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var uu=0;function ly(e,n){return e.stylesheets&&e.count===0&&Ba(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Ba(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+n);0<e.imgBytes&&uu===0&&(uu=62500*q0());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ba(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>uu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(p)}}:null}function qa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ba(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pa=null;function Ba(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pa=new Map,n.forEach(oy,e),Pa=null,qa.call(e))}function oy(e,n){if(!(n.state.loading&4)){var o=Pa.get(e);if(o)var s=o.get(null);else{o=new Map,Pa.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),s=E)}s&&o.set(null,s)}p=n.instance,E=p.getAttribute("data-precedence"),y=o.get(E)||s,y===s&&o.set(null,p),o.set(E,p),this.count++,s=qa.bind(this),p.addEventListener("load",s),p.addEventListener("error",s),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Co={$$typeof:k,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function ay(e,n,o,s,p,y,E,M,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=s,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Eh(e,n,o,s,p,y,E,M,P,j,de,me){return e=new ay(e,n,o,E,P,j,de,me,M),n=1,y===!0&&(n|=24),y=ln(3,null,null,n),e.current=y,y.stateNode=e,n=Vs(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:s,isDehydrated:o,cache:n},Js(y),e}function bh(e){return e?(e=sl,e):sl}function xh(e,n,o,s,p,y){p=bh(p),s.context===null?s.context=p:s.pendingContext=p,s=ri(n),s.payload={element:o},y=y===void 0?null:y,y!==null&&(s.callback=y),o=ui(e,s,n),o!==null&&(en(o,e,n),no(o,e,n))}function Ch(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function cu(e,n){Ch(e,n),(e=e.alternate)&&Ch(e,n)}function Ah(e){if(e.tag===13||e.tag===31){var n=Di(e,67108864);n!==null&&en(n,e,67108864),cu(e,67108864)}}function wh(e){if(e.tag===13||e.tag===31){var n=un();n=st(n);var o=Di(e,n);o!==null&&en(o,e,n),cu(e,n)}}var Ha=!0;function sy(e,n,o,s){var p=Y.T;Y.T=null;var y=J.p;try{J.p=2,fu(e,n,o,s)}finally{J.p=y,Y.T=p}}function ry(e,n,o,s){var p=Y.T;Y.T=null;var y=J.p;try{J.p=8,fu(e,n,o,s)}finally{J.p=y,Y.T=p}}function fu(e,n,o,s){if(Ha){var p=du(s);if(p===null)$r(e,n,s,Va,o),Rh(e,s);else if(cy(p,e,n,o,s))s.stopPropagation();else if(Rh(e,s),n&4&&-1<uy.indexOf(e)){for(;p!==null;){var y=Qi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Le(y.pendingLanes);if(E!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var P=1<<31-le(E);M.entanglements[1]|=P,E&=~P}In(y),(nt&6)===0&&(xa=xe()+500,_o(0))}}break;case 31:case 13:M=Di(y,2),M!==null&&en(M,y,2),Aa(),cu(y,2)}if(y=du(s),y===null&&$r(e,n,s,Va,o),y===p)break;p=y}p!==null&&s.stopPropagation()}else $r(e,n,s,null,o)}}function du(e){return e=ps(e),hu(e)}var Va=null;function hu(e){if(Va=null,e=Xi(e),e!==null){var n=c(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=d(n),e!==null)return e;e=null}else if(o===31){if(e=h(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Va=e,null}function Nh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case De:return 2;case tt:return 8;case Fe:case Lt:return 32;case tn:return 268435456;default:return 32}default:return 32}}var pu=!1,Si=null,Ti=null,Ei=null,Ao=new Map,wo=new Map,bi=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rh(e,n){switch(e){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(n.pointerId)}}function No(e,n,o,s,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:y,targetContainers:[p]},n!==null&&(n=Qi(n),n!==null&&Ah(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function cy(e,n,o,s,p){switch(n){case"focusin":return Si=No(Si,e,n,o,s,p),!0;case"dragenter":return Ti=No(Ti,e,n,o,s,p),!0;case"mouseover":return Ei=No(Ei,e,n,o,s,p),!0;case"pointerover":var y=p.pointerId;return Ao.set(y,No(Ao.get(y)||null,e,n,o,s,p)),!0;case"gotpointercapture":return y=p.pointerId,wo.set(y,No(wo.get(y)||null,e,n,o,s,p)),!0}return!1}function Ih(e){var n=Xi(e.target);if(n!==null){var o=c(n);if(o!==null){if(n=o.tag,n===13){if(n=d(o),n!==null){e.blockedOn=n,Ki(e.priority,function(){wh(o)});return}}else if(n===31){if(n=h(o),n!==null){e.blockedOn=n,Ki(e.priority,function(){wh(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=du(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);hs=s,o.target.dispatchEvent(s),hs=null}else return n=Qi(o),n!==null&&Ah(n),e.blockedOn=o,!1;n.shift()}return!0}function Mh(e,n,o){Oa(e)&&o.delete(n)}function fy(){pu=!1,Si!==null&&Oa(Si)&&(Si=null),Ti!==null&&Oa(Ti)&&(Ti=null),Ei!==null&&Oa(Ei)&&(Ei=null),Ao.forEach(Mh),wo.forEach(Mh)}function Fa(e,n){e.blockedOn===n&&(e.blockedOn=null,pu||(pu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fy)))}var Ya=null;function Dh(e){Ya!==e&&(Ya=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ya===e&&(Ya=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],p=e[n+2];if(typeof s!="function"){if(hu(s||o)===null)continue;break}var y=Qi(o);y!==null&&(e.splice(n,3),n-=3,dr(y,{pending:!0,data:p,method:o.method,action:s},s,p))}}))}function Ml(e){function n(P){return Fa(P,e)}Si!==null&&Fa(Si,e),Ti!==null&&Fa(Ti,e),Ei!==null&&Fa(Ei,e),Ao.forEach(n),wo.forEach(n);for(var o=0;o<bi.length;o++){var s=bi[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<bi.length&&(o=bi[0],o.blockedOn===null);)Ih(o),o.blockedOn===null&&bi.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var p=o[s],y=o[s+1],E=p[Zt]||null;if(typeof y=="function")E||Dh(o);else if(E){var M=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[Zt]||null)M=E.formAction;else if(hu(p)!==null)continue}else M=E.action;typeof M=="function"?o[s+1]=M:(o.splice(s,3),s-=3),Dh(o)}}}function Uh(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function mu(e){this._internalRoot=e}Ja.prototype.render=mu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=un();xh(o,s,e,n,null,null)},Ja.prototype.unmount=mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xh(e.current,2,null,e,null,null),Aa(),n[Zi]=null}};function Ja(e){this._internalRoot=e}Ja.prototype.unstable_scheduleHydration=function(e){if(e){var n=Un();e={blockedOn:null,target:e,priority:n};for(var o=0;o<bi.length&&n!==0&&n<bi[o].priority;o++);bi.splice(o,0,e),o===0&&Ih(e)}};var kh=t.version;if(kh!=="19.2.1")throw Error(a(527,kh,"19.2.1"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var dy={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{lt=Ka.inject(dy),xt=Ka}catch{}}return Io.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",p=Hf,y=Vf,E=Of;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=Eh(e,1,!1,null,null,o,s,null,p,y,E,Uh),e[Zi]=n.current,Qr(e),new mu(n)},Io.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,p="",y=Hf,E=Vf,M=Of,P=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),n=Eh(e,1,!0,n,o??null,s,p,P,y,E,M,Uh),n.context=bh(null),o=n.current,s=un(),s=st(s),p=ri(s),p.callback=null,ui(o,p,s),o=s,n.current.lanes=o,cn(n,o),In(n),e[Zi]=n.current,Qr(e),new Ja(n)},Io.version="19.2.1",Io}var Fh;function by(){if(Fh)return vu.exports;Fh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),vu.exports=Ey(),vu.exports}var xy=by();const Cy=ku(xy);var Ci=(i=>(i.KEY="KEY",i.NOTE="NOTE",i.TOOL="TOOL",i.CLUE="CLUE",i))(Ci||{});const Ay={meta:{name:"",author:"Mystery Games Inc.",version:"1.0.0",description:""},marketing:{iconUrl:"",bannerUrl:""},initialState:{currentSceneId:"lobby",inventory:[],flags:{},log:["1984","40",""],gameOver:!1,gameWon:!1},items:{flashlight:{id:"flashlight",name:"",description:"",type:Ci.TOOL,icon:"",image:"./assets/item_flashlight.png"},crowbar:{id:"crowbar",name:"",description:"",type:Ci.TOOL,icon:"",image:"./assets/item_crowbar.png"},diary:{id:"diary",name:"",description:"10301984",type:Ci.NOTE,icon:"",image:"./assets/item_diary.png"},research_note:{id:"research_note",name:"",description:"003",type:Ci.NOTE,icon:"",image:"./assets/item_research_note.png"},fuse:{id:"fuse",name:"",description:"",type:Ci.TOOL,icon:"",image:"./assets/item_fuse.png"},silver_key:{id:"silver_key",name:"",description:"",type:Ci.KEY,icon:"",image:"./assets/item_silver_key.png"},mysterious_artifact:{id:"mysterious_artifact",name:"",description:"",type:Ci.CLUE,icon:"",image:"./assets/item_mysterious_artifact.png"}},puzzles:{safe_code:{id:"safe_code",description:"",answer:"1984",rewardFlag:"safe_open",rewardMessage:"40"}},scenes:{lobby:{id:"lobby",title:"",imageUrl:"./assets/scene_lobby.png",description:"",interactables:[{id:"painting",name:"",description:"",x:25,y:25,width:15,height:25,icon:"",image:"./assets/item_painting.png",dialogue:["","1940 - 1984(?)"]},{id:"basement_door",name:"",description:"",x:60,y:55,width:15,height:35,icon:"",image:"./assets/item_basement_door.png",requiredItemId:"crowbar",flagReward:"basement_unlocked",hiddenIfFlag:"basement_unlocked",lockedMessage:" ** ",dialogue:["",""]}],exits:[{direction:"north",targetSceneId:"office",label:""},{direction:"east",targetSceneId:"hallway",label:""},{direction:"south",targetSceneId:"basement",label:"",requiredFlag:"basement_unlocked"}]},office:{id:"office",title:"",imageUrl:"./assets/scene_office.png",description:"",interactables:[{id:"desk_drawer",name:"",description:"",x:35,y:60,width:20,height:15,icon:"",image:"./assets/item_desk_drawer.png",itemRewardId:"flashlight",hiddenIfFlag:"found_flashlight",dialogue:[""]},{id:"research_papers",name:"",description:"",x:55,y:65,width:15,height:10,icon:"",itemRewardId:"research_note",hiddenIfFlag:"found_research_note",dialogue:["",""]},{id:"safe",name:"",description:"",x:80,y:40,width:12,height:12,icon:"",image:"./assets/item_safe.png",hiddenIfFlag:"safe_open",isPuzzle:!0,puzzleId:"safe_code"},{id:"open_safe",name:"",description:"",x:80,y:40,width:12,height:12,icon:"",image:"./assets/item_open_safe.png",requiredFlag:"safe_open",itemRewardId:"fuse",hiddenIfFlag:"found_fuse",dialogue:["",""]}],exits:[{direction:"south",targetSceneId:"lobby",label:""}]},hallway:{id:"hallway",title:"",imageUrl:"./assets/scene_hallway.png",description:"",conditionalVariant:{targetSceneId:"hallway_lit",requiredItemId:"flashlight"},interactables:[{id:"darkness_msg",name:"",description:"",x:40,y:40,width:20,height:20,icon:"",image:"./assets/item_darkness_msg.png",dialogue:[""]}],exits:[{direction:"west",targetSceneId:"lobby",label:""}]},hallway_lit:{id:"hallway_lit",title:"",imageUrl:"./assets/scene_hallway_lit.png",description:"",interactables:[{id:"lab_door",name:"",description:"",x:45,y:30,width:15,height:40,icon:"",image:"./assets/item_lab_door.png",requiredItemId:"silver_key",flagReward:"lab_unlocked",lockedMessage:"",dialogue:["",""]}],exits:[{direction:"west",targetSceneId:"lobby",label:""},{direction:"east",targetSceneId:"library",label:""},{direction:"north",targetSceneId:"lab",label:"",requiredFlag:"lab_unlocked",locked:!0}]},library:{id:"library",title:"",imageUrl:"./assets/scene_library.png",description:"",interactables:[{id:"bookshelf",name:"",description:"... ",x:20,y:30,width:30,height:40,icon:"",image:"./assets/item_bookshelf.png",itemRewardId:"diary",hiddenIfFlag:"found_diary",dialogue:[""]},{id:"toolbox",name:"",description:"",x:70,y:70,width:15,height:15,icon:"",image:"./assets/item_toolbox.png",itemRewardId:"crowbar",hiddenIfFlag:"found_crowbar",dialogue:[""]}],exits:[{direction:"west",targetSceneId:"hallway_lit",label:""}]},basement:{id:"basement",title:"",imageUrl:"./assets/scene_basement.png",description:"",interactables:[{id:"fuse_box",name:"",description:"",x:30,y:40,width:10,height:15,icon:"",image:"./assets/item_fuse_box.png",requiredItemId:"fuse",flagReward:"power_on",lockedMessage:"",dialogue:["","40",""]},{id:"workbench_key",name:"",description:"",x:60,y:60,width:25,height:20,icon:"",image:"./assets/item_workbench_key.png",requiredFlag:"power_on",itemRewardId:"silver_key",hiddenIfFlag:"found_key",dialogue:["",""]}],exits:[{direction:"north",targetSceneId:"lobby",label:""}]},lab:{id:"lab",title:"",imageUrl:"./assets/scene_lab.png",description:"",interactables:[{id:"artifact",name:"",description:"",x:45,y:45,width:10,height:10,icon:"",image:"./assets/item_artifact.png",itemRewardId:"mysterious_artifact",dialogue:["","",""]}],exits:[{direction:"south",targetSceneId:"hallway_lit",label:""}]}}},wy=Ay;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ny,Ry;function Iy(){return{geminiUrl:Ny,vertexUrl:Ry}}function My(i,t,l,a){var r,c;if(!(i!=null&&i.baseUrl)){const d=Iy();return t?(r=d.vertexUrl)!==null&&r!==void 0?r:l:(c=d.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jn{}function Ne(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,l){for(let c=0;c<t.length-1;c++){const d=t[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in i))if(Array.isArray(l))i[h]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(i[h])){const g=i[h];if(Array.isArray(l))for(let m=0;m<g.length;m++){const v=g[m];f(v,t.slice(c+1),l[m])}else for(const m of g)f(m,t.slice(c+1),l)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in i||(i[h]=[{}]);const g=i[h];f(g[0],t.slice(c+1),l);return}(!i[d]||typeof i[d]!="object")&&(i[d]={}),i=i[d]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const d=i[c];return Array.isArray(d)?d.map(h=>u(h,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function Dy(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),c=a.split("."),d=new Set;let h=-1;for(let g=0;g<r.length;g++)if(r[g]==="*"){h=g;break}if(h!==-1&&c.length>h)for(let g=h;g<c.length;g++){const m=c[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}Cu(i,r,c,0,d)}}function Cu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const d=c.slice(0,-2),h=i;if(d in h&&Array.isArray(h[d]))for(const g of h[d])Cu(g,t,l,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const d=i,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!r.has(m)),g={};for(const m of h)g[m]=d[m];for(const[m,v]of Object.entries(g)){const _=[];for(const S of l.slice(a))S==="*"?_.push(m):_.push(S);f(d,_,v)}for(const m of h)delete d[m]}}else{const d=i;c in d&&Cu(d[c],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uy(i){const t={},l=u(i,["operationName"]);l!=null&&f(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function ky(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],Ly(d)),t}function zy(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],Gy(d)),t}function Ly(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>qy(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Gy(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Py(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function qy(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],Yy(l)),t}function Py(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],Jy(l)),t}function By(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function Hy(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function Vy(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],Oy(d)),t}function Oy(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Em(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],Fy(d)),t}function Fy(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Yy(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Lu(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function Jy(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Lu(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Yh||(Yh={}));var Jh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Jh||(Jh={}));var Kh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Kh||(Kh={}));var Ai;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Ai||(Ai={}));var Zh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Zh||(Zh={}));var Xh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Xh||(Xh={}));var Qh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Qh||(Qh={}));var $h;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})($h||($h={}));var Wh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Wh||(Wh={}));var jh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(jh||(jh={}));var ep;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ep||(ep={}));var tp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(tp||(tp={}));var np;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(np||(np={}));var ip;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(ip||(ip={}));var lp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(lp||(lp={}));var op;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(op||(op={}));var ap;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ap||(ap={}));var sp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(sp||(sp={}));var rp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rp||(rp={}));var ja;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ja||(ja={}));var up;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(up||(up={}));var cp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(cp||(cp={}));var fp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(fp||(fp={}));var Au;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Au||(Au={}));var dp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(dp||(dp={}));var hp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hp||(hp={}));var pp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(pp||(pp={}));var mp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(mp||(mp={}));var gp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(gp||(gp={}));var yp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(yp||(yp={}));var vp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(vp||(vp={}));var _p;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(_p||(_p={}));var Sp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Sp||(Sp={}));var Tp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Tp||(Tp={}));var Ep;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ep||(Ep={}));var bp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bp||(bp={}));var xp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xp||(xp={}));var Cp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Cp||(Cp={}));var Ap;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Ap||(Ap={}));var wp;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(wp||(wp={}));var Np;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Np||(Np={}));var Rp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Rp||(Rp={}));var Ip;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ip||(Ip={}));var Mp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Mp||(Mp={}));var Dp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Dp||(Dp={}));var Up;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Up||(Up={}));var kp;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(kp||(kp={}));var zp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(zp||(zp={}));var Lp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Lp||(Lp={}));var Gp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Gp||(Gp={}));var qp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(qp||(qp={}));var Pp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Pp||(Pp={}));var Bp;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Bp||(Bp={}));var Hp;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Hp||(Hp={}));var Dl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Dl||(Dl={}));class wu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Mo{get text(){var t,l,a,r,c,d,h,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const S of(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[T,A]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(A!==null||A!==void 0)&&_.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,c,d,h,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,T]of Object.entries(_))S!=="inlineData"&&(T!==null||T!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,c,d,h,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,a,r,c,d,h,g,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,c,d,h,g,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Vp{}class Op{}class Ky{}class Zy{}class Xy{}class Qy{}class Fp{}class Yp{}class Jp{}class $y{}class es{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new es;let r;const c=t;return l?r=zy(c):r=ky(c),Object.assign(a,r),a}}class Kp{}class Zp{}class Xp{}class Qp{}class Wy{}class jy{}class ev{}class Gu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Gu,c=Vy(t);return Object.assign(a,c),a}}class tv{}class nv{}class iv{}class $p{}class lv{get text(){var t,l,a;let r="",c=!1;const d=[];for(const h of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,r+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,l,a;let r="";const c=[];for(const d of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&g!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(r+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ov{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class qu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new qu,c=Em(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function je(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function bm(i,t){const l=je(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function xm(i){return Array.isArray(i)?i.map(t=>ts(t)):[ts(i)]}function ts(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Cm(i){const t=ts(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Am(i){const t=ts(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Wp(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function wm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Wp(t)):[Wp(i)]}function Nu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function jp(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function em(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Ft(i){if(i==null)throw new Error("ContentUnion is required");return Nu(i)?i:{role:"user",parts:wm(i)}}function Pu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=Ft(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=Ft(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Ft(l)):[Ft(t)]}function En(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(jp(i)||em(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ft(i)]}const t=[],l=[],a=Nu(i[0]);for(const r of i){const c=Nu(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(jp(r)||em(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:wm(l)}),t}function av(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Ai).includes(l[0].toUpperCase())?l[0].toUpperCase():Ai.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Ai).includes(a.toUpperCase())?a.toUpperCase():Ai.TYPE_UNSPECIFIED})}}function Ul(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&av(i.type,t);for(const[d,h]of Object.entries(i))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(Ai).includes(h.toUpperCase())?h.toUpperCase():Ai.TYPE_UNSPECIFIED}else if(l.includes(d))t[d]=Ul(h);else if(a.includes(d)){const g=[];for(const m of h){if(m.type=="null"){t.nullable=!0;continue}g.push(Ul(m))}t[d]=g}else if(r.includes(d)){const g={};for(const[m,v]of Object.entries(h))g[m]=Ul(v);t[d]=g}else{if(d==="additionalProperties")continue;t[d]=h}return t}function Bu(i){return Ul(i)}function Hu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Vu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ll(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ul(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ul(t.response));return i}function Gl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function sv(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function ei(i,t){if(typeof t!="string")throw new Error("name must be a string");return sv(i,t,"cachedContents")}function Nm(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function wi(i){return Lu(i)}function rv(i){return i!=null&&typeof i=="object"&&"name"in i}function uv(i){return i!=null&&typeof i=="object"&&"video"in i}function cv(i){return i!=null&&typeof i=="object"&&"uri"in i}function Rm(i){var t;let l;if(rv(i)&&(l=i.name),!(cv(i)&&(l=i.uri,l===void 0))&&!(uv(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Im(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function Mm(i){for(const t of["models","tunedModels","publisherModels"])if(fv(i,t))return i[t];return[]}function fv(i,t){return i!==null&&typeof i=="object"&&t in i}function dv(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function hv(i,t={}){const l=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const d=dv(r,t);d.functionDeclarations&&l.push(...d.functionDeclarations)}return{functionDeclarations:l}}function Dm(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function pv(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Um(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const d of r){if(typeof d!="object"||d===null)continue;const g=d.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function ql(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function km(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mv(i){const t={},l=u(i,["responsesFile"]);l!=null&&f(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Xv(d))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["inlinedEmbedContentResponses"],c)}return t}function gv(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function yv(i){const t={},l=u(i,["format"]);l!=null&&f(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function $a(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],km(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const d=u(i,["metadata","endTime"]);d!=null&&f(t,["endTime"],d);const h=u(i,["metadata","updateTime"]);h!=null&&f(t,["updateTime"],h);const g=u(i,["metadata","model"]);g!=null&&f(t,["model"],g);const m=u(i,["metadata","output"]);return m!=null&&f(t,["dest"],mv(Um(m))),t}function Ru(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],km(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["createTime"]);d!=null&&f(t,["createTime"],d);const h=u(i,["startTime"]);h!=null&&f(t,["startTime"],h);const g=u(i,["endTime"]);g!=null&&f(t,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(t,["updateTime"],m);const v=u(i,["model"]);v!=null&&f(t,["model"],v);const _=u(i,["inputConfig"]);_!=null&&f(t,["src"],vv(_));const S=u(i,["outputConfig"]);S!=null&&f(t,["dest"],gv(Um(S)));const T=u(i,["completionStats"]);return T!=null&&f(t,["completionStats"],T),t}function vv(i){const t={},l=u(i,["instancesFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function _v(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Zv(i,d))),f(l,["requests","requests"],c)}return l}function Sv(i){const t={},l=u(i,["format"]);l!=null&&f(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Tv(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Ev(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function bv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function xv(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],Cv(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const d=u(i,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const h=u(i,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const g=u(i,["index"]);g!=null&&f(t,["index"],g);const m=u(i,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),f(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(t,["urlContextMetadata"],_),t}function Cv(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function zm(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>n_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function Av(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function wv(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],yv(pv(r))),l}function tm(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],_v(i,Dm(i,r)));const c=u(t,["config"]);return c!=null&&Av(c,l),l}function Nv(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],je(i,a));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],Sv(Dm(i,r)));const c=u(t,["config"]);return c!=null&&wv(c,l),l}function Rv(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),l}function Iv(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],Gv(i,r));const c=u(t,["config"]);return c!=null&&Rv(c,l),l}function Mv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Dv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Uv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function kv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function zv(i,t){const l={},a=u(t,["contents"]);if(a!=null){let c=Pu(i,a);Array.isArray(c)&&(c=c.map(d=>d)),f(l,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],Lv(r,l)),Dy(l,{"requests[].*":"requests[].request.*"})),l}function Lv(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Gv(i,t){const l={},a=u(t,["fileName"]);a!=null&&f(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],zv(i,r)),l}function qv(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Pv(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Bv(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Hv(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],zm(Ft(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const h=u(t,["topK"]);h!=null&&f(a,["topK"],h);const g=u(t,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const T=u(t,["presencePenalty"]);T!=null&&f(a,["presencePenalty"],T);const A=u(t,["frequencyPenalty"]);A!=null&&f(a,["frequencyPenalty"],A);const C=u(t,["seed"]);C!=null&&f(a,["seed"],C);const I=u(t,["responseMimeType"]);I!=null&&f(a,["responseMimeType"],I);const R=u(t,["responseSchema"]);R!=null&&f(a,["responseSchema"],Bu(R));const D=u(t,["responseJsonSchema"]);if(D!=null&&f(a,["responseJsonSchema"],D),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(t,["safetySettings"]);if(l!==void 0&&k!=null){let L=k;Array.isArray(L)&&(L=L.map(ie=>i_(ie))),f(l,["safetySettings"],L)}const B=u(t,["tools"]);if(l!==void 0&&B!=null){let L=Gl(B);Array.isArray(L)&&(L=L.map(ie=>o_(Ll(ie)))),f(l,["tools"],L)}const q=u(t,["toolConfig"]);if(l!==void 0&&q!=null&&f(l,["toolConfig"],l_(q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);l!==void 0&&X!=null&&f(l,["cachedContent"],ei(i,X));const F=u(t,["responseModalities"]);F!=null&&f(a,["responseModalities"],F);const re=u(t,["mediaResolution"]);re!=null&&f(a,["mediaResolution"],re);const O=u(t,["speechConfig"]);if(O!=null&&f(a,["speechConfig"],Hu(O)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(t,["thinkingConfig"]);ce!=null&&f(a,["thinkingConfig"],ce);const Te=u(t,["imageConfig"]);return Te!=null&&f(a,["imageConfig"],Kv(Te)),a}function Vv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>xv(m))),f(t,["candidates"],g)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const d=u(i,["responseId"]);d!=null&&f(t,["responseId"],d);const h=u(i,["usageMetadata"]);return h!=null&&f(t,["usageMetadata"],h),t}function Ov(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Fv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Yv(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function Jv(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function Kv(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Zv(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["request","model"],je(i,a));const r=u(t,["contents"]);if(r!=null){let h=En(r);Array.isArray(h)&&(h=h.map(g=>zm(g))),f(l,["request","contents"],h)}const c=u(t,["metadata"]);c!=null&&f(l,["metadata"],c);const d=u(t,["config"]);return d!=null&&f(l,["request","generationConfig"],Hv(i,d,u(l,["request"],{}))),l}function Xv(i){const t={},l=u(i,["response"]);l!=null&&f(t,["response"],Vv(l));const a=u(i,["error"]);return a!=null&&f(t,["error"],a),t}function Qv(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function $v(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),l}function Wv(i){const t={},l=u(i,["config"]);return l!=null&&Qv(l,t),t}function jv(i){const t={},l=u(i,["config"]);return l!=null&&$v(l,t),t}function e_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>$a(d))),f(t,["batchJobs"],c)}return t}function t_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ru(d))),f(t,["batchJobs"],c)}return t}function n_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],qv(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],Pv(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],Tv(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function i_(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function l_(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],Bv(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function o_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],Yv(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],Jv(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Wn||(Wn={}));class Ji{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,c;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!a||Object.keys(a).length===0?d={config:{}}:typeof a=="object"?d=Object.assign({},a):d=a,d.config&&(d.config.pageToken=l.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(r=d.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a_ extends jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Wn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=tm(this.apiClient,t),a=l._url,r=Ne("{model}:batchGenerateContent",a),h=l.batch.inputConfig.requests,g=h.requests,m=[];for(const v of g){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=S,_.request=T}m.push(_)}return h.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),d=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(d)a.dest=`${d}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Nv(this.apiClient,t);return h=Ne("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Ru(v))}else{const m=tm(this.apiClient,t);return h=Ne("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>$a(v))}}async createEmbeddingsInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Iv(this.apiClient,t);return c=Ne("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>$a(g))}}async get(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Fv(this.apiClient,t);return h=Ne("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Ru(v))}else{const m=Ov(this.apiClient,t);return h=Ne("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>$a(v))}}async cancel(t){var l,a,r,c;let d="",h={};if(this.apiClient.isVertexAI()){const g=bv(this.apiClient,t);d=Ne("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const g=Ev(this.apiClient,t);d=Ne("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=jv(t);return h=Ne("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=t_(v),S=new $p;return Object.assign(S,_),S})}else{const m=Wv(t);return h=Ne("batches",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=e_(v),S=new $p;return Object.assign(S,_),S})}}async delete(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Dv(this.apiClient,t);return h=Ne("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>kv(v))}else{const m=Mv(this.apiClient,t);return h=Ne("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Uv(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function nm(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>I_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function r_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let v=En(d);Array.isArray(v)&&(v=v.map(_=>nm(_))),f(t,["contents"],v)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],nm(Ft(h)));const g=u(i,["tools"]);if(t!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(_=>D_(_))),f(t,["tools"],v)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],M_(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function u_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let _=En(d);Array.isArray(_)&&(_=_.map(S=>S)),f(t,["contents"],_)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],Ft(h));const g=u(i,["tools"]);if(t!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>U_(S))),f(t,["tools"],_)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),l}function c_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],bm(i,a));const r=u(t,["config"]);return r!=null&&r_(r,l),l}function f_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],bm(i,a));const r=u(t,["config"]);return r!=null&&u_(r,l),l}function d_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function h_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function p_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function m_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function g_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function y_(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function v_(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function __(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const h=u(i,["responseJsonSchema"]);return h!=null&&f(t,["responseJsonSchema"],h),t}function S_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function T_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function E_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function b_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function x_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function C_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function A_(i){const t={},l=u(i,["config"]);return l!=null&&x_(l,t),t}function w_(i){const t={},l=u(i,["config"]);return l!=null&&C_(l,t),t}function N_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function R_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function I_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],g_(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],y_(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],s_(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function M_(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],v_(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function D_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],E_(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],b_(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function U_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>__(S))),f(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const h=u(i,["enterpriseWebSearch"]);h!=null&&f(t,["enterpriseWebSearch"],h);const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function k_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function z_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function L_(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],ei(i,a));const r=u(t,["config"]);return r!=null&&k_(r,l),l}function G_(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],ei(i,a));const r=u(t,["config"]);return r!=null&&z_(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q_ extends jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Wn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=f_(this.apiClient,t);return h=Ne("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=c_(this.apiClient,t);return h=Ne("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=T_(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=S_(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=h_(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=m_(v),S=new Xp;return Object.assign(S,_),S})}else{const m=d_(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=p_(v),S=new Xp;return Object.assign(S,_),S})}}async update(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=G_(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=L_(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=w_(t);return h=Ne("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=R_(v),S=new Qp;return Object.assign(S,_),S})}else{const m=A_(t);return h=Ne("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=N_(v),S=new Qp;return Object.assign(S,_),S})}}}function im(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(i){return this instanceof yt?(this.v=i,this):new yt(i)}function kl(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),r[Symbol.asyncIterator]=function(){return this},r;function d(T){return function(A){return Promise.resolve(A).then(T,_)}}function h(T,A){a[T]&&(r[T]=function(C){return new Promise(function(I,R){c.push([T,C,I,R])>1||g(T,C)})},A&&(r[T]=A(r[T])))}function g(T,A){try{m(a[T](A))}catch(C){S(c[0][3],C)}}function m(T){T.value instanceof yt?Promise.resolve(T.value.v).then(v,_):S(c[0][2],T)}function v(T){g("next",T)}function _(T){g("throw",T)}function S(T,A){T(A),c.shift(),c.length&&g(c[0][0],c[0][1])}}function ko(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof im=="function"?im(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(c){l[c]=i[c]&&function(d){return new Promise(function(h,g){d=i[c](d),r(h,g,d.done,d.value)})}}function r(c,d,h,g){Promise.resolve(g).then(function(m){c({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P_(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:Lm(l)}function Lm(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function B_(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function lm(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),c&&!Lm(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class H_{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new V_(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class V_{constructor(t,l,a,r={},c=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),B_(c)}async sendMessage(t){var l;await this.sendPromise;const a=Ft(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,d,h;const g=await r,m=(d=(c=g.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(_))!==null&&h!==void 0?h:[]);const T=m?[m]:[];this.recordHistory(a,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=Ft(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const l=t?lm(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){var a,r;return kl(this,arguments,function*(){var d,h,g,m;const v=[];try{for(var _=!0,S=ko(t),T;T=yield yt(S.next()),d=T.done,!d;_=!0){m=T.value,_=!1;const A=m;if(P_(A)){const C=(r=(a=A.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;C!==void 0&&v.push(C)}yield yield yt(A)}}catch(A){h={error:A}}finally{try{!_&&!d&&(g=S.return)&&(yield yt(g.call(S)))}finally{if(h)throw h.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(c=>c.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...lm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class is extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,is.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O_(i){const t={},l=u(i,["file"]);return l!=null&&f(t,["file"],l),t}function F_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function Y_(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],Rm(l)),t}function J_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function K_(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],Rm(l)),t}function Z_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function X_(i){const t={},l=u(i,["config"]);return l!=null&&Z_(l,t),t}function Q_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["files"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $_ extends jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Wn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=X_(t);return c=Ne("files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=Q_(g),v=new tv;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=O_(t);return c=Ne("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=F_(g),v=new nv;return Object.assign(v,m),v})}}async get(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=K_(t);return c=Ne("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Y_(t);return c=Ne("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=J_(g),v=new iv;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wa(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function W_(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>pS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function j_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function eS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const h=u(i,["responseJsonSchema"]);return h!=null&&f(t,["responseJsonSchema"],h),t}function nS(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const h=u(i,["frequencyPenalty"]);h!=null&&f(t,["frequencyPenalty"],h);const g=u(i,["logprobs"]);g!=null&&f(t,["logprobs"],g);const m=u(i,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&f(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const T=u(i,["responseMimeType"]);T!=null&&f(t,["responseMimeType"],T);const A=u(i,["responseModalities"]);A!=null&&f(t,["responseModalities"],A);const C=u(i,["responseSchema"]);C!=null&&f(t,["responseSchema"],C);const I=u(i,["routingConfig"]);I!=null&&f(t,["routingConfig"],I);const R=u(i,["seed"]);R!=null&&f(t,["seed"],R);const D=u(i,["speechConfig"]);D!=null&&f(t,["speechConfig"],Gm(D));const k=u(i,["stopSequences"]);k!=null&&f(t,["stopSequences"],k);const B=u(i,["temperature"]);B!=null&&f(t,["temperature"],B);const q=u(i,["thinkingConfig"]);q!=null&&f(t,["thinkingConfig"],q);const X=u(i,["topK"]);X!=null&&f(t,["topK"],X);const F=u(i,["topP"]);if(F!=null&&f(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function iS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function lS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function oS(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=u(i,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const g=u(i,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],Vu(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const T=u(i,["enableAffectiveDialog"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],T);const A=u(i,["systemInstruction"]);t!==void 0&&A!=null&&f(t,["setup","systemInstruction"],W_(Ft(A)));const C=u(i,["tools"]);if(t!==void 0&&C!=null){let X=Gl(C);Array.isArray(X)&&(X=X.map(F=>gS(Ll(F)))),f(t,["setup","tools"],X)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],mS(I));const R=u(i,["inputAudioTranscription"]);t!==void 0&&R!=null&&f(t,["setup","inputAudioTranscription"],R);const D=u(i,["outputAudioTranscription"]);t!==void 0&&D!=null&&f(t,["setup","outputAudioTranscription"],D);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&f(t,["setup","realtimeInputConfig"],k);const B=u(i,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],B);const q=u(i,["proactivity"]);return t!==void 0&&q!=null&&f(t,["setup","proactivity"],q),l}function aS(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],nS(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=u(i,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const g=u(i,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],Gm(Vu(_)));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const T=u(i,["enableAffectiveDialog"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],T);const A=u(i,["systemInstruction"]);t!==void 0&&A!=null&&f(t,["setup","systemInstruction"],Ft(A));const C=u(i,["tools"]);if(t!==void 0&&C!=null){let X=Gl(C);Array.isArray(X)&&(X=X.map(F=>yS(Ll(F)))),f(t,["setup","tools"],X)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],I);const R=u(i,["inputAudioTranscription"]);t!==void 0&&R!=null&&f(t,["setup","inputAudioTranscription"],R);const D=u(i,["outputAudioTranscription"]);t!==void 0&&D!=null&&f(t,["setup","outputAudioTranscription"],D);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&f(t,["setup","realtimeInputConfig"],k);const B=u(i,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],B);const q=u(i,["proactivity"]);return t!==void 0&&q!=null&&f(t,["setup","proactivity"],q),l}function sS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],je(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],oS(r,l)),l}function rS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],je(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],aS(r,l)),l}function uS(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function cS(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function fS(i){const t={},l=u(i,["media"]);if(l!=null){let m=xm(l);Array.isArray(m)&&(m=m.map(v=>Wa(v))),f(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Wa(Am(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Wa(Cm(c)));const d=u(i,["text"]);d!=null&&f(t,["text"],d);const h=u(i,["activityStart"]);h!=null&&f(t,["activityStart"],h);const g=u(i,["activityEnd"]);return g!=null&&f(t,["activityEnd"],g),t}function dS(i){const t={},l=u(i,["media"]);if(l!=null){let m=xm(l);Array.isArray(m)&&(m=m.map(v=>v)),f(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Am(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Cm(c));const d=u(i,["text"]);d!=null&&f(t,["text"],d);const h=u(i,["activityStart"]);h!=null&&f(t,["activityStart"],h);const g=u(i,["activityEnd"]);return g!=null&&f(t,["activityEnd"],g),t}function hS(i){const t={},l=u(i,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const d=u(i,["usageMetadata"]);d!=null&&f(t,["usageMetadata"],vS(d));const h=u(i,["goAway"]);h!=null&&f(t,["goAway"],h);const g=u(i,["sessionResumptionUpdate"]);return g!=null&&f(t,["sessionResumptionUpdate"],g),t}function pS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],j_(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],eS(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],Wa(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function mS(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Gm(i){const t={},l=u(i,["languageCode"]);l!=null&&f(t,["languageCode"],l);const a=u(i,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function gS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],iS(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],lS(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function yS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>tS(S))),f(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const h=u(i,["enterpriseWebSearch"]);h!=null&&f(t,["enterpriseWebSearch"],h);const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function vS(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const d=u(i,["thoughtsTokenCount"]);d!=null&&f(t,["thoughtsTokenCount"],d);const h=u(i,["totalTokenCount"]);h!=null&&f(t,["totalTokenCount"],h);const g=u(i,["promptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["promptTokensDetails"],T)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["cacheTokensDetails"],T)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["responseTokensDetails"],T)}const _=u(i,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["toolUsePromptTokensDetails"],T)}const S=u(i,["trafficType"]);return S!=null&&f(t,["trafficType"],S),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function SS(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],TS(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const d=u(i,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const h=u(i,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const g=u(i,["index"]);g!=null&&f(t,["index"],g);const m=u(i,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),f(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(t,["urlContextMetadata"],_),t}function TS(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function ES(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["contents"]);if(r!=null){let c=En(r);Array.isArray(c)&&(c=c.map(d=>d)),f(l,["contents"],c)}return l}function bS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["tokensInfo"],r)}return t}function xS(i){const t={},l=u(i,["values"]);l!=null&&f(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&f(t,["statistics"],CS(a)),t}function CS(i){const t={},l=u(i,["truncated"]);l!=null&&f(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&f(t,["tokenCount"],a),t}function ls(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>kT(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function AS(i){const t={},l=u(i,["controlType"]);l!=null&&f(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&f(t,["computeControl"],a),t}function wS(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function NS(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],Ft(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>Vm(h))),f(t,["tools"],d)}const c=u(i,["generationConfig"]);return t!==void 0&&c!=null&&f(t,["generationConfig"],_T(c)),l}function RS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["contents"]);if(r!=null){let d=En(r);Array.isArray(d)&&(d=d.map(h=>ls(h))),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&wS(c),l}function IS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["contents"]);if(r!=null){let d=En(r);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&NS(c,l),l}function MS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&f(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function DS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&f(t,["totalTokens"],a),t}function US(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],je(i,a)),l}function kS(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],je(i,a)),l}function zS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function LS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function GS(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const h=u(i,["guidanceScale"]);t!==void 0&&h!=null&&f(t,["parameters","guidanceScale"],h);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const T=u(i,["language"]);t!==void 0&&T!=null&&f(t,["parameters","language"],T);const A=u(i,["outputMimeType"]);t!==void 0&&A!=null&&f(t,["parameters","outputOptions","mimeType"],A);const C=u(i,["outputCompressionQuality"]);t!==void 0&&C!=null&&f(t,["parameters","outputOptions","compressionQuality"],C);const I=u(i,["addWatermark"]);t!==void 0&&I!=null&&f(t,["parameters","addWatermark"],I);const R=u(i,["labels"]);t!==void 0&&R!=null&&f(t,["labels"],R);const D=u(i,["editMode"]);t!==void 0&&D!=null&&f(t,["parameters","editMode"],D);const k=u(i,["baseSteps"]);return t!==void 0&&k!=null&&f(t,["parameters","editConfig","baseSteps"],k),l}function qS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>BT(g))),f(l,["instances[0]","referenceImages"],h)}const d=u(t,["config"]);return d!=null&&GS(d,l),l}function PS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>os(c))),f(t,["generatedImages"],r)}return t}function BS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function HS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const c=u(i,["outputDimensionality"]);t!==void 0&&c!=null&&f(t,["parameters","outputDimensionality"],c);const d=u(i,["mimeType"]);t!==void 0&&d!=null&&f(t,["instances[]","mimeType"],d);const h=u(i,["autoTruncate"]);return t!==void 0&&h!=null&&f(t,["parameters","autoTruncate"],h),l}function VS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["contents"]);if(r!=null){let h=Pu(i,r);Array.isArray(h)&&(h=h.map(g=>g)),f(l,["requests[]","content"],h)}const c=u(t,["config"]);c!=null&&BS(c,l);const d=u(t,["model"]);return d!==void 0&&f(l,["requests[]","model"],je(i,d)),l}function OS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["contents"]);if(r!=null){let d=Pu(i,r);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["instances[]","content"],d)}const c=u(t,["config"]);return c!=null&&HS(c,l),l}function FS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function YS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>xS(d))),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function JS(i){const t={},l=u(i,["endpoint"]);l!=null&&f(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&f(t,["deployedModelId"],a),t}function KS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function ZS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function XS(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function QS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const h=u(i,["responseJsonSchema"]);return h!=null&&f(t,["responseJsonSchema"],h),t}function $S(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],ls(Ft(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const h=u(t,["topK"]);h!=null&&f(a,["topK"],h);const g=u(t,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const T=u(t,["presencePenalty"]);T!=null&&f(a,["presencePenalty"],T);const A=u(t,["frequencyPenalty"]);A!=null&&f(a,["frequencyPenalty"],A);const C=u(t,["seed"]);C!=null&&f(a,["seed"],C);const I=u(t,["responseMimeType"]);I!=null&&f(a,["responseMimeType"],I);const R=u(t,["responseSchema"]);R!=null&&f(a,["responseSchema"],Bu(R));const D=u(t,["responseJsonSchema"]);if(D!=null&&f(a,["responseJsonSchema"],D),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(t,["safetySettings"]);if(l!==void 0&&k!=null){let L=k;Array.isArray(L)&&(L=L.map(ie=>HT(ie))),f(l,["safetySettings"],L)}const B=u(t,["tools"]);if(l!==void 0&&B!=null){let L=Gl(B);Array.isArray(L)&&(L=L.map(ie=>ZT(Ll(ie)))),f(l,["tools"],L)}const q=u(t,["toolConfig"]);if(l!==void 0&&q!=null&&f(l,["toolConfig"],KT(q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);l!==void 0&&X!=null&&f(l,["cachedContent"],ei(i,X));const F=u(t,["responseModalities"]);F!=null&&f(a,["responseModalities"],F);const re=u(t,["mediaResolution"]);re!=null&&f(a,["mediaResolution"],re);const O=u(t,["speechConfig"]);if(O!=null&&f(a,["speechConfig"],Hu(O)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(t,["thinkingConfig"]);ce!=null&&f(a,["thinkingConfig"],ce);const Te=u(t,["imageConfig"]);return Te!=null&&f(a,["imageConfig"],xT(Te)),a}function WS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],Ft(r));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const h=u(t,["topK"]);h!=null&&f(a,["topK"],h);const g=u(t,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const T=u(t,["presencePenalty"]);T!=null&&f(a,["presencePenalty"],T);const A=u(t,["frequencyPenalty"]);A!=null&&f(a,["frequencyPenalty"],A);const C=u(t,["seed"]);C!=null&&f(a,["seed"],C);const I=u(t,["responseMimeType"]);I!=null&&f(a,["responseMimeType"],I);const R=u(t,["responseSchema"]);R!=null&&f(a,["responseSchema"],Bu(R));const D=u(t,["responseJsonSchema"]);D!=null&&f(a,["responseJsonSchema"],D);const k=u(t,["routingConfig"]);k!=null&&f(a,["routingConfig"],k);const B=u(t,["modelSelectionConfig"]);B!=null&&f(a,["modelConfig"],B);const q=u(t,["safetySettings"]);if(l!==void 0&&q!=null){let Y=q;Array.isArray(Y)&&(Y=Y.map(J=>J)),f(l,["safetySettings"],Y)}const X=u(t,["tools"]);if(l!==void 0&&X!=null){let Y=Gl(X);Array.isArray(Y)&&(Y=Y.map(J=>Vm(Ll(J)))),f(l,["tools"],Y)}const F=u(t,["toolConfig"]);l!==void 0&&F!=null&&f(l,["toolConfig"],F);const re=u(t,["labels"]);l!==void 0&&re!=null&&f(l,["labels"],re);const O=u(t,["cachedContent"]);l!==void 0&&O!=null&&f(l,["cachedContent"],ei(i,O));const ce=u(t,["responseModalities"]);ce!=null&&f(a,["responseModalities"],ce);const Te=u(t,["mediaResolution"]);Te!=null&&f(a,["mediaResolution"],Te);const L=u(t,["speechConfig"]);L!=null&&f(a,["speechConfig"],Hm(Hu(L)));const ie=u(t,["audioTimestamp"]);ie!=null&&f(a,["audioTimestamp"],ie);const w=u(t,["thinkingConfig"]);w!=null&&f(a,["thinkingConfig"],w);const ue=u(t,["imageConfig"]);return ue!=null&&f(a,["imageConfig"],CT(ue)),a}function om(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["contents"]);if(r!=null){let d=En(r);Array.isArray(d)&&(d=d.map(h=>ls(h))),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],$S(i,c,l)),l}function am(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["contents"]);if(r!=null){let d=En(r);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],WS(i,c,l)),l}function sm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>SS(m))),f(t,["candidates"],g)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const d=u(i,["responseId"]);d!=null&&f(t,["responseId"],d);const h=u(i,["usageMetadata"]);return h!=null&&f(t,["usageMetadata"],h),t}function rm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),f(t,["candidates"],m)}const r=u(i,["createTime"]);r!=null&&f(t,["createTime"],r);const c=u(i,["modelVersion"]);c!=null&&f(t,["modelVersion"],c);const d=u(i,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const h=u(i,["responseId"]);h!=null&&f(t,["responseId"],h);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function jS(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const c=u(i,["guidanceScale"]);if(t!==void 0&&c!=null&&f(t,["parameters","guidanceScale"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["safetyFilterLevel"]);t!==void 0&&d!=null&&f(t,["parameters","safetySetting"],d);const h=u(i,["personGeneration"]);t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h);const g=u(i,["includeSafetyAttributes"]);t!==void 0&&g!=null&&f(t,["parameters","includeSafetyAttributes"],g);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const v=u(i,["language"]);t!==void 0&&v!=null&&f(t,["parameters","language"],v);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","mimeType"],_);const S=u(i,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=u(i,["imageSize"]);if(t!==void 0&&T!=null&&f(t,["parameters","sampleImageSize"],T),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function eT(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const h=u(i,["guidanceScale"]);t!==void 0&&h!=null&&f(t,["parameters","guidanceScale"],h);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const T=u(i,["language"]);t!==void 0&&T!=null&&f(t,["parameters","language"],T);const A=u(i,["outputMimeType"]);t!==void 0&&A!=null&&f(t,["parameters","outputOptions","mimeType"],A);const C=u(i,["outputCompressionQuality"]);t!==void 0&&C!=null&&f(t,["parameters","outputOptions","compressionQuality"],C);const I=u(i,["addWatermark"]);t!==void 0&&I!=null&&f(t,["parameters","addWatermark"],I);const R=u(i,["labels"]);t!==void 0&&R!=null&&f(t,["labels"],R);const D=u(i,["imageSize"]);t!==void 0&&D!=null&&f(t,["parameters","sampleImageSize"],D);const k=u(i,["enhancePrompt"]);return t!==void 0&&k!=null&&f(t,["parameters","enhancePrompt"],k),l}function tT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&jS(c,l),l}function nT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&eT(c,l),l}function iT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>mT(d))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],Pm(r)),t}function lT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>os(d))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],Bm(r)),t}function oT(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const d=u(i,["resolution"]);t!==void 0&&d!=null&&f(t,["parameters","resolution"],d);const h=u(i,["personGeneration"]);if(t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=u(i,["negativePrompt"]);t!==void 0&&g!=null&&f(t,["parameters","negativePrompt"],g);const m=u(i,["enhancePrompt"]);if(t!==void 0&&m!=null&&f(t,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&f(t,["instances[0]","lastFrame"],as(v));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>sE(T))),f(t,["instances[0]","referenceImages"],S)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function aT(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["fps"]);t!==void 0&&c!=null&&f(t,["parameters","fps"],c);const d=u(i,["durationSeconds"]);t!==void 0&&d!=null&&f(t,["parameters","durationSeconds"],d);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const m=u(i,["resolution"]);t!==void 0&&m!=null&&f(t,["parameters","resolution"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&f(t,["parameters","pubsubTopic"],_);const S=u(i,["negativePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","negativePrompt"],S);const T=u(i,["enhancePrompt"]);t!==void 0&&T!=null&&f(t,["parameters","enhancePrompt"],T);const A=u(i,["generateAudio"]);t!==void 0&&A!=null&&f(t,["parameters","generateAudio"],A);const C=u(i,["lastFrame"]);t!==void 0&&C!=null&&f(t,["instances[0]","lastFrame"],An(C));const I=u(i,["referenceImages"]);if(t!==void 0&&I!=null){let k=I;Array.isArray(k)&&(k=k.map(B=>rE(B))),f(t,["instances[0]","referenceImages"],k)}const R=u(i,["mask"]);t!==void 0&&R!=null&&f(t,["instances[0]","mask"],aE(R));const D=u(i,["compressionQuality"]);return t!==void 0&&D!=null&&f(t,["parameters","compressionQuality"],D),l}function sT(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],fT(d)),t}function rT(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],dT(d)),t}function uT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],as(c));const d=u(t,["video"]);d!=null&&f(l,["instances[0]","video"],Om(d));const h=u(t,["source"]);h!=null&&hT(h,l);const g=u(t,["config"]);return g!=null&&oT(g,l),l}function cT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],An(c));const d=u(t,["video"]);d!=null&&f(l,["instances[0]","video"],Fm(d));const h=u(t,["source"]);h!=null&&pT(h,l);const g=u(t,["config"]);return g!=null&&aT(g,l),l}function fT(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>yT(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function dT(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>vT(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function hT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],as(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],Om(c)),l}function pT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],An(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],Fm(c)),l}function mT(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],AT(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&f(t,["safetyAttributes"],Pm(r)),t}function os(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],qm(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&f(t,["safetyAttributes"],Bm(r));const c=u(i,["prompt"]);return c!=null&&f(t,["enhancedPrompt"],c),t}function gT(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["mask"],qm(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["labels"],r)}return t}function yT(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],lE(l)),t}function vT(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],oE(l)),t}function _T(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const h=u(i,["frequencyPenalty"]);h!=null&&f(t,["frequencyPenalty"],h);const g=u(i,["logprobs"]);g!=null&&f(t,["logprobs"],g);const m=u(i,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&f(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const T=u(i,["responseMimeType"]);T!=null&&f(t,["responseMimeType"],T);const A=u(i,["responseModalities"]);A!=null&&f(t,["responseModalities"],A);const C=u(i,["responseSchema"]);C!=null&&f(t,["responseSchema"],C);const I=u(i,["routingConfig"]);I!=null&&f(t,["routingConfig"],I);const R=u(i,["seed"]);R!=null&&f(t,["seed"],R);const D=u(i,["speechConfig"]);D!=null&&f(t,["speechConfig"],Hm(D));const k=u(i,["stopSequences"]);k!=null&&f(t,["stopSequences"],k);const B=u(i,["temperature"]);B!=null&&f(t,["temperature"],B);const q=u(i,["thinkingConfig"]);q!=null&&f(t,["thinkingConfig"],q);const X=u(i,["topK"]);X!=null&&f(t,["topK"],X);const F=u(i,["topP"]);if(F!=null&&f(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ST(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],je(i,a)),l}function TT(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],je(i,a)),l}function ET(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function bT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function xT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function CT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&f(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&f(t,["imageOutputOptions","mimeType"],r);const c=u(i,["outputCompressionQuality"]);return c!=null&&f(t,["imageOutputOptions","compressionQuality"],c),t}function AT(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],wi(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function qm(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],wi(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function as(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],wi(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function An(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],wi(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function wT(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const d=u(t,["filter"]);l!==void 0&&d!=null&&f(l,["_query","filter"],d);const h=u(t,["queryBase"]);return l!==void 0&&h!=null&&f(l,["_url","models_url"],Im(i,h)),a}function NT(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const d=u(t,["filter"]);l!==void 0&&d!=null&&f(l,["_query","filter"],d);const h=u(t,["queryBase"]);return l!==void 0&&h!=null&&f(l,["_url","models_url"],Im(i,h)),a}function RT(i,t){const l={},a=u(t,["config"]);return a!=null&&wT(i,a,l),l}function IT(i,t){const l={},a=u(t,["config"]);return a!=null&&NT(i,a,l),l}function MT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=Mm(r);Array.isArray(c)&&(c=c.map(d=>Iu(d))),f(t,["models"],c)}return t}function DT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=Mm(r);Array.isArray(c)&&(c=c.map(d=>Mu(d))),f(t,["models"],c)}return t}function UT(i){const t={},l=u(i,["maskMode"]);l!=null&&f(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&f(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function Iu(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["version"]);c!=null&&f(t,["version"],c);const d=u(i,["_self"]);d!=null&&f(t,["tunedModelInfo"],XT(d));const h=u(i,["inputTokenLimit"]);h!=null&&f(t,["inputTokenLimit"],h);const g=u(i,["outputTokenLimit"]);g!=null&&f(t,["outputTokenLimit"],g);const m=u(i,["supportedGenerationMethods"]);m!=null&&f(t,["supportedActions"],m);const v=u(i,["temperature"]);v!=null&&f(t,["temperature"],v);const _=u(i,["maxTemperature"]);_!=null&&f(t,["maxTemperature"],_);const S=u(i,["topP"]);S!=null&&f(t,["topP"],S);const T=u(i,["topK"]);T!=null&&f(t,["topK"],T);const A=u(i,["thinking"]);return A!=null&&f(t,["thinking"],A),t}function Mu(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["versionId"]);c!=null&&f(t,["version"],c);const d=u(i,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>JS(S))),f(t,["endpoints"],_)}const h=u(i,["labels"]);h!=null&&f(t,["labels"],h);const g=u(i,["_self"]);g!=null&&f(t,["tunedModelInfo"],QT(g));const m=u(i,["defaultCheckpointId"]);m!=null&&f(t,["defaultCheckpointId"],m);const v=u(i,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),f(t,["checkpoints"],_)}return t}function kT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],KS(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],ZS(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],_S(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function zT(i){const t={},l=u(i,["productImage"]);return l!=null&&f(t,["image"],An(l)),t}function LT(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const d=u(i,["seed"]);t!==void 0&&d!=null&&f(t,["parameters","seed"],d);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const m=u(i,["addWatermark"]);t!==void 0&&m!=null&&f(t,["parameters","addWatermark"],m);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","compressionQuality"],_);const S=u(i,["enhancePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","enhancePrompt"],S);const T=u(i,["labels"]);return t!==void 0&&T!=null&&f(t,["labels"],T),l}function GT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["source"]);r!=null&&PT(r,l);const c=u(t,["config"]);return c!=null&&LT(c,l),l}function qT(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>os(r))),f(t,["generatedImages"],a)}return t}function PT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],An(r));const c=u(i,["productImages"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>zT(h))),f(t,["instances[0]","productImages"],d)}return l}function BT(i){const t={},l=u(i,["referenceImage"]);l!=null&&f(t,["referenceImage"],An(l));const a=u(i,["referenceId"]);a!=null&&f(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&f(t,["referenceType"],r);const c=u(i,["maskImageConfig"]);c!=null&&f(t,["maskImageConfig"],UT(c));const d=u(i,["controlImageConfig"]);d!=null&&f(t,["controlImageConfig"],AS(d));const h=u(i,["styleImageConfig"]);h!=null&&f(t,["styleImageConfig"],h);const g=u(i,["subjectImageConfig"]);return g!=null&&f(t,["subjectImageConfig"],g),t}function Pm(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function Bm(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function HT(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function VT(i){const t={},l=u(i,["image"]);return l!=null&&f(t,["image"],An(l)),t}function OT(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&f(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const c=u(i,["confidenceThreshold"]);t!==void 0&&c!=null&&f(t,["parameters","confidenceThreshold"],c);const d=u(i,["maskDilation"]);t!==void 0&&d!=null&&f(t,["parameters","maskDilation"],d);const h=u(i,["binaryColorThreshold"]);t!==void 0&&h!=null&&f(t,["parameters","binaryColorThreshold"],h);const g=u(i,["labels"]);return t!==void 0&&g!=null&&f(t,["labels"],g),l}function FT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["source"]);r!=null&&JT(r,l);const c=u(t,["config"]);return c!=null&&OT(c,l),l}function YT(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>gT(r))),f(t,["generatedMasks"],a)}return t}function JT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],An(r));const c=u(i,["scribbleImage"]);return t!==void 0&&c!=null&&f(t,["instances[0]","scribble"],VT(c)),l}function Hm(i){const t={},l=u(i,["languageCode"]);l!=null&&f(t,["languageCode"],l);const a=u(i,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function KT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],XS(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function ZT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],ET(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],bT(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function Vm(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>QS(S))),f(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const h=u(i,["enterpriseWebSearch"]);h!=null&&f(t,["enterpriseWebSearch"],h);const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function XT(i){const t={},l=u(i,["baseModel"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function QT(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function $T(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function WT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function jT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","name"],je(i,a));const r=u(t,["config"]);return r!=null&&$T(r,l),l}function eE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["config"]);return r!=null&&WT(r,l),l}function tE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const c=u(i,["personGeneration"]);t!==void 0&&c!=null&&f(t,["parameters","personGeneration"],c);const d=u(i,["includeRaiReason"]);t!==void 0&&d!=null&&f(t,["parameters","includeRaiReason"],d);const h=u(i,["outputMimeType"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","mimeType"],h);const g=u(i,["outputCompressionQuality"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","compressionQuality"],g);const m=u(i,["enhanceInputImage"]);t!==void 0&&m!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=u(i,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const S=u(i,["numberOfImages"]);t!==void 0&&S!=null&&f(t,["parameters","sampleCount"],S);const T=u(i,["mode"]);return t!==void 0&&T!=null&&f(t,["parameters","mode"],T),l}function nE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],je(i,a));const r=u(t,["image"]);r!=null&&f(l,["instances[0]","image"],An(r));const c=u(t,["upscaleFactor"]);c!=null&&f(l,["parameters","upscaleConfig","upscaleFactor"],c);const d=u(t,["config"]);return d!=null&&tE(d,l),l}function iE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>os(c))),f(t,["generatedImages"],r)}return t}function lE(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],wi(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function oE(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],wi(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function aE(i){const t={},l=u(i,["image"]);l!=null&&f(t,["_self"],An(l));const a=u(i,["maskMode"]);return a!=null&&f(t,["maskMode"],a),t}function sE(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],as(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function rE(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],An(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function Om(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["encodedVideo"],wi(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function Fm(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["bytesBase64Encoded"],wi(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uE(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),l}function cE(i){const t={},l=u(i,["config"]);return l!=null&&uE(l,t),t}function fE(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function dE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&fE(a,t),t}function hE(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function pE(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function mE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],yE(d)),t}function gE(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&pE(r,t),t}function yE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function vE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function _E(i){const t={},l=u(i,["config"]);return l!=null&&vE(l,t),t}function SE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["fileSearchStores"],c)}return t}function Ym(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),f(t,["customMetadata"],h)}const d=u(i,["chunkingConfig"]);return t!==void 0&&d!=null&&f(t,["chunkingConfig"],d),l}function TE(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&Ym(a,t),t}function EE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bE="Content-Type",xE="X-Server-Timeout",CE="User-Agent",Du="x-goog-api-client",AE="1.31.0",wE=`google-genai-sdk/${AE}`,NE="v1beta1",RE="v1beta",um=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class IE{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:NE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:RE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[d,h]of Object.entries(t.queryParams))r.searchParams.append(d,String(h));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(l))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const c=new AbortController,d=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const h=setTimeout(()=>c.abort(),l.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=d}return l&&l.extraBody!==null&&ME(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await cm(r),new wu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await cm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var l;return kl(this,arguments,function*(){const r=(l=t==null?void 0:t.body)===null||l===void 0?void 0:l.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:g}=yield yt(r.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(g,{stream:!0});try{const _=JSON.parse(m);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),T=S.status,A=S.code,C=`got status: ${T}. ${JSON.stringify(_)}`;if(A>=400&&A<600)throw new is({message:C,status:A})}}catch(_){if(_.name==="ApiError")throw _}d+=m;let v=d.match(um);for(;v;){const _=v[1];try{const S=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield yt(new wu(S)),d=d.slice(v[0].length),v=d.match(um)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=wE+" "+this.clientOptions.userAgentExtra;return t[CE]=l,t[Du]=l,t[bE]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(xE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,d=await c.stat(t);r.sizeBytes=String(d.size);const h=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const g={file:r},m=this.getFileName(t),v=Ne("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,g,l==null?void 0:l.httpOptions);return c.upload(t,_,this)}async uploadFileToFileSearchStore(t,l,a){var r;const c=this.clientOptions.uploader,d=await c.stat(l),h=String(d.size),g=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),_={};a!=null&&Ym(a,_);const S=await this.fetchUploadUrl(m,h,g,v,_,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(l,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,c,d){var h;let g={};d?g=d:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function cm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new is({message:r,status:l}):new Error(r)}}function ME(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,d){const h=Object.assign({},c);for(const g in d)if(Object.prototype.hasOwnProperty.call(d,g)){const m=d[g],v=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DE="mcp_used/unknown";let UE=!1;function Jm(i){for(const t of i)if(kE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return UE}function Km(i){var t;const l=(t=i[Du])!==null&&t!==void 0?t:"";i[Du]=(l+` ${DE}`).trimStart()}function kE(i){return i!==null&&typeof i=="object"&&i instanceof Ou}function zE(i,t=100){return kl(this,arguments,function*(){let a,r=0;for(;r<t;){const c=yield yt(i.listTools({cursor:a}));for(const d of c.tools)yield yield yt(d),r++;if(!c.nextCursor)break;a=c.nextCursor}})}class Ou{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Ou(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const c={},d=[];for(const v of this.mcpClients)try{for(var h=!0,g=(l=void 0,ko(zE(v))),m;m=await g.next(),t=m.done,!t;h=!0){r=m.value,h=!1;const _=r;d.push(_);const S=_.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(_){l={error:_}}finally{try{!h&&!t&&(a=g.return)&&await a.call(g)}finally{if(l)throw l.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),hv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await r.callTool({name:a.name,arguments:a.args},void 0,c);l.push({functionResponse:{name:a.name,response:d.isError?{error:d}:d}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LE(i,t,l){const a=new ov;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class GE{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=BE(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise(k=>{m=k}),_=t.callbacks,S=function(){m({})},T=this.apiClient,A={onopen:S,onmessage:k=>{LE(T,_.onmessage,k)},onerror:(l=_==null?void 0:_.onerror)!==null&&l!==void 0?l:function(k){},onclose:(a=_==null?void 0:_.onclose)!==null&&a!==void 0?a:function(k){}},C=this.webSocketFactory.create(g,PE(d),A);C.connect(),await v;const D={setup:{model:je(this.apiClient,t.model)}};return C.send(JSON.stringify(D)),new qE(C,this.apiClient)}}class qE{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=cS(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=uS(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Dl.PLAY)}pause(){this.sendPlaybackControl(Dl.PAUSE)}stop(){this.sendPlaybackControl(Dl.STOP)}resetContext(){this.sendPlaybackControl(Dl.RESET_CONTEXT)}close(){this.conn.close()}}function PE(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function BE(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function VE(i,t,l){const a=new lv;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const c=JSON.parse(r);if(i.isVertexAI()){const d=hS(c);Object.assign(a,d)}else Object.assign(a,c);t(a)}class OE{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new GE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,c,d,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&Jm(t.config.tools)&&Km(_);const S=KE(_);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const O=this.apiClient.getApiKey();let ce="BidiGenerateContent",Te="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",Te="access_token"),v=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ce}?${Te}=${O}`}let T=()=>{};const A=new Promise(O=>{T=O}),C=t.callbacks,I=function(){var O;(O=C==null?void 0:C.onopen)===null||O===void 0||O.call(C),T({})},R=this.apiClient,D={onopen:I,onmessage:O=>{VE(R,C.onmessage,O)},onerror:(l=C==null?void 0:C.onerror)!==null&&l!==void 0?l:function(O){},onclose:(a=C==null?void 0:C.onclose)!==null&&a!==void 0?a:function(O){}},k=this.webSocketFactory.create(v,JE(S),D);k.connect(),await A;let B=je(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const O=this.apiClient.getProject(),ce=this.apiClient.getLocation();B=`projects/${O}/locations/${ce}/`+B}let q={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ja.AUDIO]}:t.config.responseModalities=[ja.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(h=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],F=[];for(const O of X)if(this.isCallableTool(O)){const ce=O;F.push(await ce.tool())}else F.push(O);F.length>0&&(t.config.tools=F);const re={model:B,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?q=rS(this.apiClient,re):q=sS(this.apiClient,re),delete q.config,k.send(JSON.stringify(q)),new YE(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const FE={turnComplete:!0};class YE{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=En(l.turns),t.isVertexAI()||(a=a.map(r=>ls(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(HE)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},FE),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:dS(t)}:l={realtimeInput:fS(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function JE(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function KE(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fm=10;function dm(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const d of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(zl(d)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function zl(i){return"callTool"in i&&typeof i.callTool=="function"}function ZE(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>zl(r)))!==null&&a!==void 0?a:!1}function hm(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(zl(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(r)}),l}function pm(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XE extends jn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,c,d,h;const g=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!ZE(l)||dm(l.config))return await this.generateContentInternal(g);const m=hm(l);if(m.length>0){const C=m.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let v,_;const S=En(g.contents),T=(c=(r=(a=g.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:fm;let A=0;for(;A<T&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const C=v.candidates[0].content,I=[];for(const R of(h=(d=l.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(zl(R)){const k=await R.callTool(v.functionCalls);I.push(...k)}A++,_={role:"user",parts:I},g.contents=En(g.contents),g.contents.push(C),g.contents.push(_),pm(g.config)&&(S.push(C),S.push(_))}return pm(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async l=>{var a,r,c,d,h;if(this.maybeMoveToResponseJsonSchem(l),dm(l.config)){const _=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(_)}const g=hm(l);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(h=(d=l==null?void 0:l.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let c;const d=[];if(a!=null&&a.generatedImages)for(const g of a.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((r=g==null?void 0:g.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=g==null?void 0:g.safetyAttributes:d.push(g);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async l=>{var a;const d={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((a=d.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Ji(Wn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,c,d,h,g;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((d=(c=l.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.uri&&(!((g=(h=l.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const c=(l=t.config)===null||l===void 0?void 0:l.tools;if(!c)return t;const d=await Promise.all(c.map(async g=>zl(g)?await g.tool():g)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(h.config.tools=d,t.config&&t.config.tools&&Jm(t.config.tools)){const g=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Km(m),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(t){var l,a,r;const c=new Map;for(const d of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(zl(d)){const h=d,g=await h.tool();for(const m of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(t){var l,a,r;const c=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:fm;let d=!1,h=0;const g=await this.initAfcToolsMap(t);return(function(m,v,_){var S,T;return kl(this,arguments,function*(){for(var A,C,I,R;h<c;){d&&(h++,d=!1);const q=yield yt(m.processParamsMaybeAddMcpUsage(_)),X=yield yt(m.generateContentStreamInternal(q)),F=[],re=[];try{for(var D=!0,k=(C=void 0,ko(X)),B;B=yield yt(k.next()),A=B.done,!A;D=!0){R=B.value,D=!1;const O=R;if(yield yield yt(O),O.candidates&&(!((S=O.candidates[0])===null||S===void 0)&&S.content)){re.push(O.candidates[0].content);for(const ce of(T=O.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(h<c&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ce.functionCall.name)){const Te=yield yt(v.get(ce.functionCall.name).callTool([ce.functionCall]));F.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(O){C={error:O}}finally{try{!D&&!A&&(I=k.return)&&(yield yt(I.call(k)))}finally{if(C)throw C.error}}if(F.length>0){d=!0;const O=new Mo;O.candidates=[{content:{role:"user",parts:F}}],yield yield yt(O);const ce=[];ce.push(...re),ce.push({role:"user",parts:F});const Te=En(_.contents).concat(ce);_.contents=Te}else break}})})(this,g,t)}async generateContentInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=am(this.apiClient,t);return h=Ne("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=rm(v),S=new Mo;return Object.assign(S,_),S})}else{const m=om(this.apiClient,t);return h=Ne("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=sm(v),S=new Mo;return Object.assign(S,_),S})}}async generateContentStreamInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=am(this.apiClient,t);return h=Ne("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),d.then(function(_){return kl(this,arguments,function*(){var S,T,A,C;try{for(var I=!0,R=ko(_),D;D=yield yt(R.next()),S=D.done,!S;I=!0){C=D.value,I=!1;const k=C,B=rm(yield yt(k.json()));B.sdkHttpResponse={headers:k.headers};const q=new Mo;Object.assign(q,B),yield yield yt(q)}}catch(k){T={error:k}}finally{try{!I&&!S&&(A=R.return)&&(yield yt(A.call(R)))}finally{if(T)throw T.error}}})})}else{const m=om(this.apiClient,t);return h=Ne("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(_){return kl(this,arguments,function*(){var S,T,A,C;try{for(var I=!0,R=ko(_),D;D=yield yt(R.next()),S=D.done,!S;I=!0){C=D.value,I=!1;const k=C,B=sm(yield yt(k.json()));B.sdkHttpResponse={headers:k.headers};const q=new Mo;Object.assign(q,B),yield yield yt(q)}}catch(k){T={error:k}}finally{try{!I&&!S&&(A=R.return)&&(yield yt(A.call(R)))}finally{if(T)throw T.error}}})})}}async embedContent(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=OS(this.apiClient,t);return h=Ne("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=YS(v),S=new Vp;return Object.assign(S,_),S})}else{const m=VS(this.apiClient,t);return h=Ne("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=FS(v),S=new Vp;return Object.assign(S,_),S})}}async generateImagesInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=nT(this.apiClient,t);return h=Ne("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=lT(v),S=new Op;return Object.assign(S,_),S})}else{const m=tT(this.apiClient,t);return h=Ne("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=iT(v),S=new Op;return Object.assign(S,_),S})}}async editImageInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=qS(this.apiClient,t);return c=Ne("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=PS(g),v=new Ky;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=nE(this.apiClient,t);return c=Ne("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=iE(g),v=new Zy;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=GT(this.apiClient,t);return c=Ne("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=qT(g),v=new Xy;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=FT(this.apiClient,t);return c=Ne("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=YT(g),v=new Qy;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=TT(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Mu(v))}else{const m=ST(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Iu(v))}}async listInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=IT(this.apiClient,t);return h=Ne("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=DT(v),S=new Fp;return Object.assign(S,_),S})}else{const m=RT(this.apiClient,t);return h=Ne("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=MT(v),S=new Fp;return Object.assign(S,_),S})}}async update(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=eE(this.apiClient,t);return h=Ne("{model}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Mu(v))}else{const m=jT(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Iu(v))}}async delete(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=kS(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=LS(v),S=new Yp;return Object.assign(S,_),S})}else{const m=US(this.apiClient,t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=zS(v),S=new Yp;return Object.assign(S,_),S})}}async countTokens(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=IS(this.apiClient,t);return h=Ne("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=DS(v),S=new Jp;return Object.assign(S,_),S})}else{const m=RS(this.apiClient,t);return h=Ne("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=MS(v),S=new Jp;return Object.assign(S,_),S})}}async computeTokens(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=ES(this.apiClient,t);return c=Ne("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=bS(g),v=new $y;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=cT(this.apiClient,t);return h=Ne("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>{const _=rT(v),S=new es;return Object.assign(S,_),S})}else{const m=uT(this.apiClient,t);return h=Ne("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>{const _=sT(v),S=new es;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QE extends jn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Hy(t);return h=Ne("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d}else{const m=By(t);return h=Ne("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=Uy(t);return c=Ne("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $E(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function WE(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>sb(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function jE(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);l!==void 0&&c!=null&&f(l,["newSessionExpireTime"],c);const d=u(t,["uses"]);l!==void 0&&d!=null&&f(l,["uses"],d);const h=u(t,["liveConnectConstraints"]);l!==void 0&&h!=null&&f(l,["bidiGenerateContentSetup"],ab(i,h));const g=u(t,["lockAdditionalFields"]);return l!==void 0&&g!=null&&f(l,["fieldMask"],g),a}function eb(i,t){const l={},a=u(t,["config"]);return a!=null&&f(l,["config"],jE(i,a,l)),l}function tb(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function nb(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ib(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function lb(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function ob(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=u(i,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const g=u(i,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],Vu(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const T=u(i,["enableAffectiveDialog"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],T);const A=u(i,["systemInstruction"]);t!==void 0&&A!=null&&f(t,["setup","systemInstruction"],WE(Ft(A)));const C=u(i,["tools"]);if(t!==void 0&&C!=null){let X=Gl(C);Array.isArray(X)&&(X=X.map(F=>ub(Ll(F)))),f(t,["setup","tools"],X)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],rb(I));const R=u(i,["inputAudioTranscription"]);t!==void 0&&R!=null&&f(t,["setup","inputAudioTranscription"],R);const D=u(i,["outputAudioTranscription"]);t!==void 0&&D!=null&&f(t,["setup","outputAudioTranscription"],D);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&f(t,["setup","realtimeInputConfig"],k);const B=u(i,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],B);const q=u(i,["proactivity"]);return t!==void 0&&q!=null&&f(t,["setup","proactivity"],q),l}function ab(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],je(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],ob(r,l)),l}function sb(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],tb(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],nb(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],$E(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function rb(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ub(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],ib(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],lb(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cb(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${l}.${c}`);t.push(...r)}else t.push(l)}return t.join(",")}function fb(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,l=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const c=cb(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(m=>d.includes(m)?`generationConfig.${m}`:m));const g=[];c&&g.push(c),h.length>0&&g.push(...h),g.length>0?i.fieldMask=g.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class db extends jn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=eb(this.apiClient,t);c=Ne("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const g=fb(h,t.config);return r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hb(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function pb(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&hb(a,t),t}function mb(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function gb(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function yb(i){const t={},l=u(i,["parent"]);l!=null&&f(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&gb(a,t),t}function vb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _b extends jn{constructor(t){super(),this.apiClient=t,this.list=async l=>new Ji(Wn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=mb(t);return c=Ne("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=pb(t);r=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yb(t);return c=Ne("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=vb(g),v=new Wy;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sb extends jn{constructor(t,l=new _b(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Ji(Wn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=cE(t);return c=Ne("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async get(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hE(t);return c=Ne("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=dE(t);r=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_E(t);return c=Ne("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=SE(g),v=new jy;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=TE(t);return c=Ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=EE(g),v=new ev;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gE(t);return c=Ne("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=mE(g),v=new Gu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tb(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Eb(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function bb(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function xb(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function Cb(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const d=u(i,["learningRateMultiplier"]);if(d!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],d),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=u(i,["batchSize"]);t!==void 0&&h!=null&&f(t,["tuningTask","hyperparameters","batchSize"],h);const g=u(i,["learningRate"]);if(t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","learningRate"],g),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function Ab(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const T=u(i,["validationDataset"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec"],mm(T))}else if(r==="PREFERENCE_TUNING"){const T=u(i,["validationDataset"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec"],mm(T))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const d=u(i,["description"]);t!==void 0&&d!=null&&f(t,["description"],d);let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=u(i,["epochCount"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(h==="PREFERENCE_TUNING"){const T=u(i,["epochCount"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const T=u(i,["learningRateMultiplier"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(g==="PREFERENCE_TUNING"){const T=u(i,["learningRateMultiplier"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=u(i,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(m==="PREFERENCE_TUNING"){const T=u(i,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=u(i,["adapterSize"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(v==="PREFERENCE_TUNING"){const T=u(i,["adapterSize"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=u(i,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const S=u(i,["beta"]);return t!==void 0&&S!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),a}function wb(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&qb(c);const d=u(i,["config"]);return d!=null&&Cb(d,l),l}function Nb(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&Pb(c,l,t);const d=u(i,["config"]);return d!=null&&Ab(d,l,t),l}function Rb(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Ib(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Mb(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function Db(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function Ub(i,t){const l={},a=u(i,["config"]);return a!=null&&Mb(a,l),l}function kb(i,t){const l={},a=u(i,["config"]);return a!=null&&Db(a,l),l}function zb(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>Zm(h))),f(l,["tuningJobs"],d)}return l}function Lb(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>Uu(h))),f(l,["tuningJobs"],d)}return l}function Gb(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["model"],a);const r=u(i,["name"]);return r!=null&&f(l,["endpoint"],r),l}function qb(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["examples","examples"],r)}return l}function Pb(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(r==="PREFERENCE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let c=u(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(c==="PREFERENCE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Zm(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],Nm(c));const d=u(i,["createTime"]);d!=null&&f(l,["createTime"],d);const h=u(i,["tuningTask","startTime"]);h!=null&&f(l,["startTime"],h);const g=u(i,["tuningTask","completeTime"]);g!=null&&f(l,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(i,["description"]);v!=null&&f(l,["description"],v);const _=u(i,["baseModel"]);_!=null&&f(l,["baseModel"],_);const S=u(i,["_self"]);return S!=null&&f(l,["tunedModel"],Gb(S)),l}function Uu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],Nm(c));const d=u(i,["createTime"]);d!=null&&f(l,["createTime"],d);const h=u(i,["startTime"]);h!=null&&f(l,["startTime"],h);const g=u(i,["endTime"]);g!=null&&f(l,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(i,["error"]);v!=null&&f(l,["error"],v);const _=u(i,["description"]);_!=null&&f(l,["description"],_);const S=u(i,["baseModel"]);S!=null&&f(l,["baseModel"],S);const T=u(i,["tunedModel"]);T!=null&&f(l,["tunedModel"],T);const A=u(i,["preTunedModel"]);A!=null&&f(l,["preTunedModel"],A);const C=u(i,["supervisedTuningSpec"]);C!=null&&f(l,["supervisedTuningSpec"],C);const I=u(i,["preferenceOptimizationSpec"]);I!=null&&f(l,["preferenceOptimizationSpec"],I);const R=u(i,["tuningDataStats"]);R!=null&&f(l,["tuningDataStats"],R);const D=u(i,["encryptionSpec"]);D!=null&&f(l,["encryptionSpec"],D);const k=u(i,["partnerModelTuningSpec"]);k!=null&&f(l,["partnerModelTuningSpec"],k);const B=u(i,["customBaseModel"]);B!=null&&f(l,["customBaseModel"],B);const q=u(i,["experiment"]);q!=null&&f(l,["experiment"],q);const X=u(i,["labels"]);X!=null&&f(l,["labels"],X);const F=u(i,["outputUri"]);F!=null&&f(l,["outputUri"],F);const re=u(i,["pipelineJob"]);re!=null&&f(l,["pipelineJob"],re);const O=u(i,["serviceAccount"]);O!=null&&f(l,["serviceAccount"],O);const ce=u(i,["tunedModelDisplayName"]);ce!=null&&f(l,["tunedModelDisplayName"],ce);const Te=u(i,["veoTuningSpec"]);return Te!=null&&f(l,["veoTuningSpec"],Te),l}function Bb(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["metadata"]);c!=null&&f(l,["metadata"],c);const d=u(i,["done"]);d!=null&&f(l,["done"],d);const h=u(i,["error"]);return h!=null&&f(l,["error"],h),l}function mm(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hb extends jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Wn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),c=await this.tuneMldevInternal(r);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:Au.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Ib(t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Uu(v))}else{const m=Rb(t);return h=Ne("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Zm(v))}}async listInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=kb(t);return h=Ne("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Lb(v),S=new Kp;return Object.assign(S,_),S})}else{const m=Ub(t);return h=Ne("tunedModels",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=zb(v),S=new Kp;return Object.assign(S,_),S})}}async cancel(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Eb(t);return h=Ne("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=xb(v),S=new Zp;return Object.assign(S,_),S})}else{const m=Tb(t);return h=Ne("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=bb(v),S=new Zp;return Object.assign(S,_),S})}}async tuneInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=Nb(t,t);return c=Ne("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>Uu(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wb(t);return c=Ne("tunedModels",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>Bb(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vb{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ob=1024*1024*8,Fb=3,Yb=1e3,Jb=2,ns="x-goog-upload-status";async function Kb(i,t,l){var a;const r=await Xm(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[ns])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function Zb(i,t,l){var a;const r=await Xm(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[ns])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=Em(c),h=new qu;return Object.assign(h,d),h}async function Xm(i,t,l){var a,r;let c=0,d=0,h=new wu(new Response),g="upload";for(c=i.size;d<c;){const m=Math.min(Ob,c-d),v=i.slice(d,d+m);d+m>=c&&(g+=", finalize");let _=0,S=Yb;for(;_<Fb&&(h=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[ns]));)_++,await Qb(S),S=S*Jb;if(d+=m,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[ns])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function Xb(i){return{size:i.size,type:i.type}}function Qb(i){return new Promise(t=>setTimeout(t,i))}class $b{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Kb(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Zb(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Xb(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wb{create(t,l,a){return new jb(t,l,a)}}class jb{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gm="x-goog-api-key";class ex{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(gm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(gm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tx="gl-node/";class nx{constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=My(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new ex(this.apiKey);this.apiClient=new IE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:tx+"web",uploader:new $b,downloader:new Vb}),this.models=new XE(this.apiClient),this.live=new OE(this.apiClient,r,new Wb),this.batches=new a_(this.apiClient),this.chats=new H_(this.models,this.apiClient),this.caches=new q_(this.apiClient),this.files=new $_(this.apiClient),this.operations=new QE(this.apiClient),this.authTokens=new db(this.apiClient),this.tunings=new Hb(this.apiClient),this.fileSearchStores=new Sb(this.apiClient)}}var Qm={};const Xa={TEXT:"https://api.vectorengine.ai/v1beta/models/gemini-3-pro-preview:generateContent",IMAGE_FLASH:"https://api.vectorengine.ai/v1beta/models/gemini-2.5-flash-image-preview:generateContent",IMAGE_PRO:"https://api.vectorengine.ai/v1beta/models/gemini-3-pro-image-preview:generateContent"},ix=(i,t)=>{const l=i||(typeof process<"u"&&Qm?"PLACEHOLDER_API_KEY":null);if(!l)return console.error("No API Key found"),null;const a={apiKey:l};if(t&&t.trim().length>0){let r=t.trim();for(;r.endsWith("/");)r=r.slice(0,-1);for(r=r.replace(/:generateContent$/,""),r=r.replace(/\/models\/[^\/]+$/,""),r=r.replace(/\/models$/,""),r=r.replace(/\/v1beta$/,""),r=r.replace(/\/v1$/,"");r.endsWith("/");)r=r.slice(0,-1);a.baseUrl=r}return new nx(a)},zo=async(i,t,l,a,r)=>{var h,g,m,v,_;const c=a||(typeof process<"u"&&Qm?"PLACEHOLDER_API_KEY":"");if(r&&r.includes("http")){console.log(`[GeminiService] Using Raw Fetch Mode for: ${r}`);const S={"Content-Type":"application/json"};c&&(S["x-goog-api-key"]=c);const T={contents:Array.isArray(t)?t:[t],generationConfig:l!=null&&l.imageConfig?void 0:l};l!=null&&l.imageConfig&&(T.generationConfig={...T.generationConfig,...l.imageConfig});try{const A=await fetch(r,{method:"POST",headers:S,body:JSON.stringify(T)});if(!A.ok){const I=await A.text();let R;try{R=JSON.parse(I)}catch{}const D=((h=R==null?void 0:R.error)==null?void 0:h.message)||I||A.statusText;throw new Error(`Raw API Error ${A.status}: ${D}`)}const C=await A.json();return{candidates:C.candidates,text:(_=(v=(m=(g=C.candidates)==null?void 0:g[0])==null?void 0:m.content)==null?void 0:v.parts)==null?void 0:_.map(I=>I.text).join("")}}catch(A){throw console.error("Raw Fetch Failed",A),A}}const d=ix(a,r);if(!d)throw new Error("Failed to initialize AI Client");return await d.models.generateContent({model:i,contents:t,config:l})},$m=(i,t)=>`
    Concept art, digital painting for a mystery horror game.
    Style: Film Noir, Black and White with subtle color accents, high contrast, atmospheric, grainy texture, 1980s aesthetic.
    Location: ${i}
    Description: ${t}
    View: First person perspective.
    Quality: Cinematic lighting, detailed.
    No text, no UI, no watermarks.
  `,lx=async(i,t,l="gemini-2.5-flash-image",a,r)=>{var d,h,g;const c=$m(i,t);try{const m={parts:[{text:c}]},v=l.toLowerCase().includes("pro"),_={aspectRatio:"16:9"};v&&(_.imageSize="2K");const T=await zo(l,m,{imageConfig:_},a,r);if((g=(h=(d=T.candidates)==null?void 0:d[0])==null?void 0:h.content)!=null&&g.parts){for(const A of T.candidates[0].content.parts)if(A.inlineData&&A.inlineData.data)return`data:${A.inlineData.mimeType||"image/png"};base64,${A.inlineData.data}`}return null}catch(m){throw console.error("Scene Gen Error:",m),m}},Wm=(i,t)=>`
    Single game asset icon of ${i}. 
    Description: ${t}.
    Style: Photorealistic, highly detailed, slightly worn, mysterious, fitting a horror game.
    Background: PURE WHITE background (#FFFFFF).
    Padding: Ensure there is at least 10% whitespace padding around the object. The object must NOT touch the edges of the image.
    Centering: The object must be perfectly centered.
    View: Isometric or front view. Whole object visible.
    No text, no labels.
  `,ox=async(i,t,l="gemini-2.5-flash-image",a,r)=>{var d,h,g;const c=Wm(i,t);try{const m={parts:[{text:c}]},v=l.toLowerCase().includes("pro"),_={aspectRatio:"1:1"};v&&(_.imageSize="1K");const T=await zo(l,m,{imageConfig:_},a,r);if((g=(h=(d=T.candidates)==null?void 0:d[0])==null?void 0:h.content)!=null&&g.parts){for(const A of T.candidates[0].content.parts)if(A.inlineData&&A.inlineData.data)return`data:${A.inlineData.mimeType||"image/png"};base64,${A.inlineData.data}`}return null}catch(m){throw console.error("Item Gen Error:",m),m}},ym=(i,t,l,a="")=>i==="icon"?`11${t}${a}`:`169${t}${l}${a}`,ax=async(i,t,l="gemini-2.5-flash-image",a,r)=>{var c,d,h;try{const g={parts:[{text:i}]},m=l.toLowerCase().includes("pro"),v={aspectRatio:t};m&&(v.imageSize=t==="1:1"?"1K":"2K");const S=await zo(l,g,{imageConfig:v},a,r);if((h=(d=(c=S.candidates)==null?void 0:c[0])==null?void 0:d.content)!=null&&h.parts){for(const T of S.candidates[0].content.parts)if(T.inlineData&&T.inlineData.data)return`data:${T.inlineData.mimeType||"image/png"};base64,${T.inlineData.data}`}return null}catch(g){throw console.error("Marketing Gen Error:",g),g}},sx=async(i,t)=>{var a,r,c,d,h;const l=`
    Generate a unique, creative, and atmospheric concept for a text-based mystery/horror point-and-click adventure game.
    
    CRITICAL REQUIREMENT: Output MUST be in Simplified Chinese ().
    
    Return ONLY a JSON object with the following structure:
    {
      "theme": "2-3",
      "items": ["1", "2", "3", "4"],
      "scenes": ["1", "2", "3", "4"]
    }
    Ensure the items and scenes fit the theme perfectly.
  `;try{const v=await zo("gemini-2.5-flash",[{role:"user",parts:[{text:l}]}],{responseMimeType:"application/json"},i,t),_=v.text||(typeof v.text=="function"?v.text():null)||((h=(d=(c=(r=(a=v.candidates)==null?void 0:a[0])==null?void 0:r.content)==null?void 0:c.parts)==null?void 0:d[0])==null?void 0:h.text);return _?JSON.parse(_):null}catch(g){return console.error("Random Concept Gen Error:",g),null}},jm=`
    You are a professional Game Designer for a text-based Point-and-Click Adventure game engine.
    Your task is to generate a valid JSON configuration file for a new game based on the user's theme and constraints.
    
    CRITICAL REQUIREMENT: 
    ALL user-facing text (names, descriptions, dialogues, logs, titles) MUST be in Simplified Chinese ().
    
    The JSON structure matches the following TypeScript interface strictly:

    interface GameDefinition {
      meta: { name: string; author: string; version: string; description: string; };
      initialState: {
        currentSceneId: string; // Must match one of the keys in 'scenes'
        inventory: string[]; // Usually empty []
        flags: Record<string, boolean>; // Usually empty {}
        log: string[]; // Introductory text lines
        gameOver: false;
        gameWon: false;
      };
      items: Record<string, { // key must match id
        id: string; 
        name: string; 
        description: string; 
        type: 'KEY' | 'NOTE' | 'TOOL' | 'CLUE'; 
        icon: string; // Single Emoji char
        image: string; // path format: "./assets/item_{id}.png"
      }>;
      puzzles: Record<string, { // key must match id
        id: string;
        description: string;
        answer: string;
        rewardFlag: string;
        rewardMessage: string;
      }>;
      scenes: Record<string, { // key must match id
        id: string;
        title: string;
        imageUrl: string; // path format: "./assets/scene_{id}.png"
        description: string;
        interactables: {
          id: string;
          name: string;
          description: string;
          x: number; // 0-100 percentage
          y: number; // 0-100 percentage
          width: number; // usually 10-20
          height: number; // usually 10-20
          icon?: string; // Emoji
          image?: string; // path format: "./assets/item_{id}.png" (Optional, prefer existing item images if relevant)
          
          // Logic properties (Use wisely to create gameplay)
          requiredItemId?: string; // ID from items
          lockedMessage?: string;
          itemRewardId?: string; // ID from items
          flagReward?: string; // String key for flag
          requiredFlag?: string; // String key for flag
          hiddenIfFlag?: string; // String key for flag
          isPuzzle?: boolean;
          puzzleId?: string; // ID from puzzles
          dialogue?: string[];
          winsGame?: boolean; // IMPORTANT: Set to true if interacting with this object should win the game (e.g., finding the final artifact).
        }[];
        exits: {
            direction: 'north' | 'south' | 'east' | 'west';
            targetSceneId: string; // Must match a valid scene ID
            label: string;
            locked?: boolean;
            requiredFlag?: string;
        }[];
      }>;
    }

    Requirements:
    1. Create a compelling story based on the user's input.
    2. Ensure the logical flow is solvable.
    3. Ensure all IDs are consistent.
    4. All image paths MUST follow the format "./assets/scene_{id}.png" or "./assets/item_{id}.png".
    5. Return ONLY the JSON object.
    6. VICTORY CONDITION: You MUST define exactly one interactable object that triggers the game win state. Set the property "winsGame": true on this object (e.g. escaping a door, finding a treasure).
    7. Language: Simplified Chinese ().
`,rx=async(i,t,l={sceneCount:4,itemCount:4,puzzleCount:1},a,r)=>{var c,d,h,g,m;try{const v=`
    STYLE: ${t}
    
    CONSTRAINTS:
    - Create EXACTLY ${l.sceneCount} unique scenes.
    - Create EXACTLY ${l.itemCount} unique items.
    - Create EXACTLY ${l.puzzleCount} puzzles.
    ${l.requiredItems&&l.requiredItems.length>0?`- MUST include these items (or similar): ${l.requiredItems.join(", ")}`:""}
    ${l.requiredScenes&&l.requiredScenes.length>0?`- MUST include these locations/scenes (or similar): ${l.requiredScenes.join(", ")}`:""}
    `,_=[{role:"user",parts:[{text:jm}]},{role:"user",parts:[{text:`Generate a game with this theme: ${i}
${v}`}]}],T=await zo("gemini-2.5-flash",_,{responseMimeType:"application/json"},a,r),A=T.text||(typeof T.text=="function"?T.text():null)||((m=(g=(h=(d=(c=T.candidates)==null?void 0:c[0])==null?void 0:d.content)==null?void 0:h.parts)==null?void 0:g[0])==null?void 0:m.text);return A?JSON.parse(A):null}catch(v){throw console.error("Game Config Gen Error:",v),v}};function Qa(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Eu={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var vm;function ux(){return vm||(vm=1,(function(i,t){(function(l){i.exports=l()})(function(){return(function l(a,r,c){function d(m,v){if(!r[m]){if(!a[m]){var _=typeof Qa=="function"&&Qa;if(!v&&_)return _(m,!0);if(h)return h(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var T=r[m]={exports:{}};a[m][0].call(T.exports,function(A){var C=a[m][1][A];return d(C||A)},T,T.exports,l,a,r,c)}return r[m].exports}for(var h=typeof Qa=="function"&&Qa,g=0;g<c.length;g++)d(c[g]);return d})({1:[function(l,a,r){var c=l("./utils"),d=l("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(g){for(var m,v,_,S,T,A,C,I=[],R=0,D=g.length,k=D,B=c.getTypeOf(g)!=="string";R<g.length;)k=D-R,_=B?(m=g[R++],v=R<D?g[R++]:0,R<D?g[R++]:0):(m=g.charCodeAt(R++),v=R<D?g.charCodeAt(R++):0,R<D?g.charCodeAt(R++):0),S=m>>2,T=(3&m)<<4|v>>4,A=1<k?(15&v)<<2|_>>6:64,C=2<k?63&_:64,I.push(h.charAt(S)+h.charAt(T)+h.charAt(A)+h.charAt(C));return I.join("")},r.decode=function(g){var m,v,_,S,T,A,C=0,I=0,R="data:";if(g.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var D,k=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===h.charAt(64)&&k--,g.charAt(g.length-2)===h.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=d.uint8array?new Uint8Array(0|k):new Array(0|k);C<g.length;)m=h.indexOf(g.charAt(C++))<<2|(S=h.indexOf(g.charAt(C++)))>>4,v=(15&S)<<4|(T=h.indexOf(g.charAt(C++)))>>2,_=(3&T)<<6|(A=h.indexOf(g.charAt(C++))),D[I++]=m,T!==64&&(D[I++]=v),A!==64&&(D[I++]=_);return D}},{"./support":30,"./utils":32}],2:[function(l,a,r){var c=l("./external"),d=l("./stream/DataWorker"),h=l("./stream/Crc32Probe"),g=l("./stream/DataLengthProbe");function m(v,_,S,T,A){this.compressedSize=v,this.uncompressedSize=_,this.crc32=S,this.compression=T,this.compressedContent=A}m.prototype={getContentWorker:function(){var v=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),_=this;return v.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,_,S){return v.pipe(new h).pipe(new g("uncompressedSize")).pipe(_.compressWorker(S)).pipe(new g("compressedSize")).withStreamInfo("compression",_)},a.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,a,r){var c=l("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},r.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,a,r){var c=l("./utils"),d=(function(){for(var h,g=[],m=0;m<256;m++){h=m;for(var v=0;v<8;v++)h=1&h?3988292384^h>>>1:h>>>1;g[m]=h}return g})();a.exports=function(h,g){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?(function(m,v,_,S){var T=d,A=S+_;m^=-1;for(var C=S;C<A;C++)m=m>>>8^T[255&(m^v[C])];return-1^m})(0|g,h,h.length,0):(function(m,v,_,S){var T=d,A=S+_;m^=-1;for(var C=S;C<A;C++)m=m>>>8^T[255&(m^v.charCodeAt(C))];return-1^m})(0|g,h,h.length,0):0}},{"./utils":32}],5:[function(l,a,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(l,a,r){var c=null;c=typeof Promise<"u"?Promise:l("lie"),a.exports={Promise:c}},{lie:37}],7:[function(l,a,r){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=l("pako"),h=l("./utils"),g=l("./stream/GenericWorker"),m=c?"uint8array":"array";function v(_,S){g.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=S,this.meta={}}r.magic="\b\0",h.inherits(v,g),v.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,_.data),!1)},v.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(S){_.push({data:S,meta:_.meta})}},r.compressWorker=function(_){return new v("Deflate",_)},r.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,a,r){function c(T,A){var C,I="";for(C=0;C<A;C++)I+=String.fromCharCode(255&T),T>>>=8;return I}function d(T,A,C,I,R,D){var k,B,q=T.file,X=T.compression,F=D!==m.utf8encode,re=h.transformTo("string",D(q.name)),O=h.transformTo("string",m.utf8encode(q.name)),ce=q.comment,Te=h.transformTo("string",D(ce)),L=h.transformTo("string",m.utf8encode(ce)),ie=O.length!==q.name.length,w=L.length!==ce.length,ue="",Y="",J="",ve=q.dir,fe=q.date,K={crc32:0,compressedSize:0,uncompressedSize:0};A&&!C||(K.crc32=T.crc32,K.compressedSize=T.compressedSize,K.uncompressedSize=T.uncompressedSize);var N=0;A&&(N|=8),F||!ie&&!w||(N|=2048);var U=0,$=0;ve&&(U|=16),R==="UNIX"?($=798,U|=(function(oe,we){var Ue=oe;return oe||(Ue=we?16893:33204),(65535&Ue)<<16})(q.unixPermissions,ve)):($=20,U|=(function(oe){return 63&(oe||0)})(q.dosPermissions)),k=fe.getUTCHours(),k<<=6,k|=fe.getUTCMinutes(),k<<=5,k|=fe.getUTCSeconds()/2,B=fe.getUTCFullYear()-1980,B<<=4,B|=fe.getUTCMonth()+1,B<<=5,B|=fe.getUTCDate(),ie&&(Y=c(1,1)+c(v(re),4)+O,ue+="up"+c(Y.length,2)+Y),w&&(J=c(1,1)+c(v(Te),4)+L,ue+="uc"+c(J.length,2)+J);var te="";return te+=`
\0`,te+=c(N,2),te+=X.magic,te+=c(k,2),te+=c(B,2),te+=c(K.crc32,4),te+=c(K.compressedSize,4),te+=c(K.uncompressedSize,4),te+=c(re.length,2),te+=c(ue.length,2),{fileRecord:_.LOCAL_FILE_HEADER+te+re+ue,dirRecord:_.CENTRAL_FILE_HEADER+c($,2)+te+c(Te.length,2)+"\0\0\0\0"+c(U,4)+c(I,4)+re+ue+Te}}var h=l("../utils"),g=l("../stream/GenericWorker"),m=l("../utf8"),v=l("../crc32"),_=l("../signature");function S(T,A,C,I){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=C,this.encodeFileName=I,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,g),S.prototype.push=function(T){var A=T.meta.percent||0,C=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,g.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:C?(A+100*(C-I-1))/C:100}}))},S.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var A=this.streamFiles&&!T.file.dir;if(A){var C=d(T,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(T){this.accumulate=!1;var A=this.streamFiles&&!T.file.dir,C=d(T,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),A)this.push({data:(function(I){return _.DATA_DESCRIPTOR+c(I.crc32,4)+c(I.compressedSize,4)+c(I.uncompressedSize,4)})(T),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var T=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var C=this.bytesWritten-T,I=(function(R,D,k,B,q){var X=h.transformTo("string",q(B));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(R,2)+c(R,2)+c(D,4)+c(k,4)+c(X.length,2)+X})(this.dirRecords.length,C,T,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(T){this._sources.push(T);var A=this;return T.on("data",function(C){A.processChunk(C)}),T.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),T.on("error",function(C){A.error(C)}),this},S.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(T){var A=this._sources;if(!g.prototype.error.call(this,T))return!1;for(var C=0;C<A.length;C++)try{A[C].error(T)}catch{}return!0},S.prototype.lock=function(){g.prototype.lock.call(this);for(var T=this._sources,A=0;A<T.length;A++)T[A].lock()},a.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,a,r){var c=l("../compressions"),d=l("./ZipFileWorker");r.generateWorker=function(h,g,m){var v=new d(g.streamFiles,m,g.platform,g.encodeFileName),_=0;try{h.forEach(function(S,T){_++;var A=(function(D,k){var B=D||k,q=c[B];if(!q)throw new Error(B+" is not a valid compression method !");return q})(T.options.compression,g.compression),C=T.options.compressionOptions||g.compressionOptions||{},I=T.dir,R=T.date;T._compressWorker(A,C).withStreamInfo("file",{name:S,dir:I,date:R,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(v)}),v.entriesCount=_}catch(S){v.error(S)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,a,r){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(c.prototype=l("./object")).loadAsync=l("./load"),c.support=l("./support"),c.defaults=l("./defaults"),c.version="3.10.1",c.loadAsync=function(d,h){return new c().loadAsync(d,h)},c.external=l("./external"),a.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,a,r){var c=l("./utils"),d=l("./external"),h=l("./utf8"),g=l("./zipEntries"),m=l("./stream/Crc32Probe"),v=l("./nodejsUtils");function _(S){return new d.Promise(function(T,A){var C=S.decompressed.getContentWorker().pipe(new m);C.on("error",function(I){A(I)}).on("end",function(){C.streamInfo.crc32!==S.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}a.exports=function(S,T){var A=this;return T=c.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),v.isNode&&v.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,T.optimizedBinaryString,T.base64).then(function(C){var I=new g(T);return I.load(C),I}).then(function(C){var I=[d.Promise.resolve(C)],R=C.files;if(T.checkCRC32)for(var D=0;D<R.length;D++)I.push(_(R[D]));return d.Promise.all(I)}).then(function(C){for(var I=C.shift(),R=I.files,D=0;D<R.length;D++){var k=R[D],B=k.fileNameStr,q=c.resolve(k.fileNameStr);A.file(q,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:T.createFolders}),k.dir||(A.file(q).unsafeOriginalName=B)}return I.zipComment.length&&(A.comment=I.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,a,r){var c=l("../utils"),d=l("../stream/GenericWorker");function h(g,m){d.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(h,d),h.prototype._bindStream=function(g){var m=this;(this._stream=g).pause(),g.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,a,r){var c=l("readable-stream").Readable;function d(h,g,m){c.call(this,g),this._helper=h;var v=this;h.on("data",function(_,S){v.push(_)||v._helper.pause(),m&&m(S)}).on("error",function(_){v.emit("error",_)}).on("end",function(){v.push(null)})}l("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},a.exports=d},{"../utils":32,"readable-stream":16}],14:[function(l,a,r){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(l,a,r){function c(q,X,F){var re,O=h.getTypeOf(X),ce=h.extend(F||{},v);ce.date=ce.date||new Date,ce.compression!==null&&(ce.compression=ce.compression.toUpperCase()),typeof ce.unixPermissions=="string"&&(ce.unixPermissions=parseInt(ce.unixPermissions,8)),ce.unixPermissions&&16384&ce.unixPermissions&&(ce.dir=!0),ce.dosPermissions&&16&ce.dosPermissions&&(ce.dir=!0),ce.dir&&(q=R(q)),ce.createFolders&&(re=I(q))&&D.call(this,re,!0);var Te=O==="string"&&ce.binary===!1&&ce.base64===!1;F&&F.binary!==void 0||(ce.binary=!Te),(X instanceof _&&X.uncompressedSize===0||ce.dir||!X||X.length===0)&&(ce.base64=!1,ce.binary=!0,X="",ce.compression="STORE",O="string");var L=null;L=X instanceof _||X instanceof g?X:A.isNode&&A.isStream(X)?new C(q,X):h.prepareContent(q,X,ce.binary,ce.optimizedBinaryString,ce.base64);var ie=new S(q,L,ce);this.files[q]=ie}var d=l("./utf8"),h=l("./utils"),g=l("./stream/GenericWorker"),m=l("./stream/StreamHelper"),v=l("./defaults"),_=l("./compressedObject"),S=l("./zipObject"),T=l("./generate"),A=l("./nodejsUtils"),C=l("./nodejs/NodejsStreamInputAdapter"),I=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var X=q.lastIndexOf("/");return 0<X?q.substring(0,X):""},R=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},D=function(q,X){return X=X!==void 0?X:v.createFolders,q=R(q),this.files[q]||c.call(this,q,null,{dir:!0,createFolders:X}),this.files[q]};function k(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var X,F,re;for(X in this.files)re=this.files[X],(F=X.slice(this.root.length,X.length))&&X.slice(0,this.root.length)===this.root&&q(F,re)},filter:function(q){var X=[];return this.forEach(function(F,re){q(F,re)&&X.push(re)}),X},file:function(q,X,F){if(arguments.length!==1)return q=this.root+q,c.call(this,q,X,F),this;if(k(q)){var re=q;return this.filter(function(ce,Te){return!Te.dir&&re.test(ce)})}var O=this.files[this.root+q];return O&&!O.dir?O:null},folder:function(q){if(!q)return this;if(k(q))return this.filter(function(O,ce){return ce.dir&&q.test(O)});var X=this.root+q,F=D.call(this,X),re=this.clone();return re.root=F.name,re},remove:function(q){q=this.root+q;var X=this.files[q];if(X||(q.slice(-1)!=="/"&&(q+="/"),X=this.files[q]),X&&!X.dir)delete this.files[q];else for(var F=this.filter(function(O,ce){return ce.name.slice(0,q.length)===q}),re=0;re<F.length;re++)delete this.files[F[re].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var X,F={};try{if((F=h.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");h.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var re=F.comment||this.comment||"";X=T.generateWorker(this,F,re)}catch(O){(X=new g("error")).error(O)}return new m(X,F.type||"string",F.mimeType)},generateAsync:function(q,X){return this.generateInternalStream(q).accumulate(X)},generateNodeStream:function(q,X){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(X)}};a.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,a,r){a.exports=l("stream")},{stream:void 0}],17:[function(l,a,r){var c=l("./DataReader");function d(h){c.call(this,h);for(var g=0;g<this.data.length;g++)h[g]=255&h[g]}l("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var g=h.charCodeAt(0),m=h.charCodeAt(1),v=h.charCodeAt(2),_=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===g&&this.data[S+1]===m&&this.data[S+2]===v&&this.data[S+3]===_)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var g=h.charCodeAt(0),m=h.charCodeAt(1),v=h.charCodeAt(2),_=h.charCodeAt(3),S=this.readData(4);return g===S[0]&&m===S[1]&&v===S[2]&&_===S[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=d},{"../utils":32,"./DataReader":18}],18:[function(l,a,r){var c=l("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var g,m=0;for(this.checkOffset(h),g=this.index+h-1;g>=this.index;g--)m=(m<<8)+this.byteAt(g);return this.index+=h,m},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},a.exports=d},{"../utils":32}],19:[function(l,a,r){var c=l("./Uint8ArrayReader");function d(h){c.call(this,h)}l("../utils").inherits(d,c),d.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,a,r){var c=l("./DataReader");function d(h){c.call(this,h)}l("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=d},{"../utils":32,"./DataReader":18}],21:[function(l,a,r){var c=l("./ArrayReader");function d(h){c.call(this,h)}l("../utils").inherits(d,c),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(l,a,r){var c=l("../utils"),d=l("../support"),h=l("./ArrayReader"),g=l("./StringReader"),m=l("./NodeBufferReader"),v=l("./Uint8ArrayReader");a.exports=function(_){var S=c.getTypeOf(_);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(_):d.uint8array?new v(c.transformTo("uint8array",_)):new h(c.transformTo("array",_)):new g(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,a,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,a,r){var c=l("./GenericWorker"),d=l("../utils");function h(g){c.call(this,"ConvertWorker to "+g),this.destType=g}d.inherits(h,c),h.prototype.processChunk=function(g){this.push({data:d.transformTo(this.destType,g.data),meta:g.meta})},a.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(l,a,r){var c=l("./GenericWorker"),d=l("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(h,c),h.prototype.processChunk=function(g){this.streamInfo.crc32=d(g.data,this.streamInfo.crc32||0),this.push(g)},a.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,a,r){var c=l("../utils"),d=l("./GenericWorker");function h(g){d.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}c.inherits(h,d),h.prototype.processChunk=function(g){if(g){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+g.data.length}d.prototype.processChunk.call(this,g)},a.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(l,a,r){var c=l("../utils"),d=l("./GenericWorker");function h(g){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=c.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}c.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,m);break;case"uint8array":g=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":g=this.data.slice(this.index,m)}return this.index=m,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(l,a,r){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var g=0;g<this._listeners[d].length;g++)this._listeners[d][g].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(g){h.processChunk(g)}),d.on("end",function(){h.end()}),d.on("error",function(g){h.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},a.exports=c},{}],29:[function(l,a,r){var c=l("../utils"),d=l("./ConvertWorker"),h=l("./GenericWorker"),g=l("../base64"),m=l("../support"),v=l("../external"),_=null;if(m.nodestream)try{_=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(A,C){return new v.Promise(function(I,R){var D=[],k=A._internalType,B=A._outputType,q=A._mimeType;A.on("data",function(X,F){D.push(X),C&&C(F)}).on("error",function(X){D=[],R(X)}).on("end",function(){try{var X=(function(F,re,O){switch(F){case"blob":return c.newBlob(c.transformTo("arraybuffer",re),O);case"base64":return g.encode(re);default:return c.transformTo(F,re)}})(B,(function(F,re){var O,ce=0,Te=null,L=0;for(O=0;O<re.length;O++)L+=re[O].length;switch(F){case"string":return re.join("");case"array":return Array.prototype.concat.apply([],re);case"uint8array":for(Te=new Uint8Array(L),O=0;O<re.length;O++)Te.set(re[O],ce),ce+=re[O].length;return Te;case"nodebuffer":return Buffer.concat(re);default:throw new Error("concat : unsupported type '"+F+"'")}})(k,D),q);I(X)}catch(F){R(F)}D=[]}).resume()})}function T(A,C,I){var R=C;switch(C){case"blob":case"arraybuffer":R="uint8array";break;case"base64":R="string"}try{this._internalType=R,this._outputType=C,this._mimeType=I,c.checkSupport(R),this._worker=A.pipe(new d(R)),A.lock()}catch(D){this._worker=new h("error"),this._worker.error(D)}}T.prototype={accumulate:function(A){return S(this,A)},on:function(A,C){var I=this;return A==="data"?this._worker.on(A,function(R){C.call(I,R.data,R.meta)}):this._worker.on(A,function(){c.delay(C,arguments,I)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},A)}},a.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,a,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var c=new ArrayBuffer(0);try{r.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),r.blob=d.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!l("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(l,a,r){for(var c=l("./utils"),d=l("./support"),h=l("./nodejsUtils"),g=l("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function _(){g.call(this,"utf-8 decode"),this.leftOver=null}function S(){g.call(this,"utf-8 encode")}r.utf8encode=function(T){return d.nodebuffer?h.newBufferFrom(T,"utf-8"):(function(A){var C,I,R,D,k,B=A.length,q=0;for(D=0;D<B;D++)(64512&(I=A.charCodeAt(D)))==55296&&D+1<B&&(64512&(R=A.charCodeAt(D+1)))==56320&&(I=65536+(I-55296<<10)+(R-56320),D++),q+=I<128?1:I<2048?2:I<65536?3:4;for(C=d.uint8array?new Uint8Array(q):new Array(q),D=k=0;k<q;D++)(64512&(I=A.charCodeAt(D)))==55296&&D+1<B&&(64512&(R=A.charCodeAt(D+1)))==56320&&(I=65536+(I-55296<<10)+(R-56320),D++),I<128?C[k++]=I:(I<2048?C[k++]=192|I>>>6:(I<65536?C[k++]=224|I>>>12:(C[k++]=240|I>>>18,C[k++]=128|I>>>12&63),C[k++]=128|I>>>6&63),C[k++]=128|63&I);return C})(T)},r.utf8decode=function(T){return d.nodebuffer?c.transformTo("nodebuffer",T).toString("utf-8"):(function(A){var C,I,R,D,k=A.length,B=new Array(2*k);for(C=I=0;C<k;)if((R=A[C++])<128)B[I++]=R;else if(4<(D=m[R]))B[I++]=65533,C+=D-1;else{for(R&=D===2?31:D===3?15:7;1<D&&C<k;)R=R<<6|63&A[C++],D--;1<D?B[I++]=65533:R<65536?B[I++]=R:(R-=65536,B[I++]=55296|R>>10&1023,B[I++]=56320|1023&R)}return B.length!==I&&(B.subarray?B=B.subarray(0,I):B.length=I),c.applyFromCharCode(B)})(T=c.transformTo(d.uint8array?"uint8array":"array",T))},c.inherits(_,g),_.prototype.processChunk=function(T){var A=c.transformTo(d.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var C=A;(A=new Uint8Array(C.length+this.leftOver.length)).set(this.leftOver,0),A.set(C,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var I=(function(D,k){var B;for((k=k||D.length)>D.length&&(k=D.length),B=k-1;0<=B&&(192&D[B])==128;)B--;return B<0||B===0?k:B+m[D[B]]>k?B:k})(A),R=A;I!==A.length&&(d.uint8array?(R=A.subarray(0,I),this.leftOver=A.subarray(I,A.length)):(R=A.slice(0,I),this.leftOver=A.slice(I,A.length))),this.push({data:r.utf8decode(R),meta:T.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=_,c.inherits(S,g),S.prototype.processChunk=function(T){this.push({data:r.utf8encode(T.data),meta:T.meta})},r.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,a,r){var c=l("./support"),d=l("./base64"),h=l("./nodejsUtils"),g=l("./external");function m(C){return C}function v(C,I){for(var R=0;R<C.length;++R)I[R]=255&C.charCodeAt(R);return I}l("setimmediate"),r.newBlob=function(C,I){r.checkSupport("blob");try{return new Blob([C],{type:I})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(C),R.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(C,I,R){var D=[],k=0,B=C.length;if(B<=R)return String.fromCharCode.apply(null,C);for(;k<B;)I==="array"||I==="nodebuffer"?D.push(String.fromCharCode.apply(null,C.slice(k,Math.min(k+R,B)))):D.push(String.fromCharCode.apply(null,C.subarray(k,Math.min(k+R,B)))),k+=R;return D.join("")},stringifyByChar:function(C){for(var I="",R=0;R<C.length;R++)I+=String.fromCharCode(C[R]);return I},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function S(C){var I=65536,R=r.getTypeOf(C),D=!0;if(R==="uint8array"?D=_.applyCanBeUsed.uint8array:R==="nodebuffer"&&(D=_.applyCanBeUsed.nodebuffer),D)for(;1<I;)try{return _.stringifyByChunk(C,R,I)}catch{I=Math.floor(I/2)}return _.stringifyByChar(C)}function T(C,I){for(var R=0;R<C.length;R++)I[R]=C[R];return I}r.applyFromCharCode=S;var A={};A.string={string:m,array:function(C){return v(C,new Array(C.length))},arraybuffer:function(C){return A.string.uint8array(C).buffer},uint8array:function(C){return v(C,new Uint8Array(C.length))},nodebuffer:function(C){return v(C,h.allocBuffer(C.length))}},A.array={string:S,array:m,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(C)}},A.arraybuffer={string:function(C){return S(new Uint8Array(C))},array:function(C){return T(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:m,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(new Uint8Array(C))}},A.uint8array={string:S,array:function(C){return T(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:m,nodebuffer:function(C){return h.newBufferFrom(C)}},A.nodebuffer={string:S,array:function(C){return T(C,new Array(C.length))},arraybuffer:function(C){return A.nodebuffer.uint8array(C).buffer},uint8array:function(C){return T(C,new Uint8Array(C.length))},nodebuffer:m},r.transformTo=function(C,I){if(I=I||"",!C)return I;r.checkSupport(C);var R=r.getTypeOf(I);return A[R][C](I)},r.resolve=function(C){for(var I=C.split("/"),R=[],D=0;D<I.length;D++){var k=I[D];k==="."||k===""&&D!==0&&D!==I.length-1||(k===".."?R.pop():R.push(k))}return R.join("/")},r.getTypeOf=function(C){return typeof C=="string"?"string":Object.prototype.toString.call(C)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(C)?"nodebuffer":c.uint8array&&C instanceof Uint8Array?"uint8array":c.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(C){if(!c[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(C){var I,R,D="";for(R=0;R<(C||"").length;R++)D+="\\x"+((I=C.charCodeAt(R))<16?"0":"")+I.toString(16).toUpperCase();return D},r.delay=function(C,I,R){setImmediate(function(){C.apply(R||null,I||[])})},r.inherits=function(C,I){function R(){}R.prototype=I.prototype,C.prototype=new R},r.extend=function(){var C,I,R={};for(C=0;C<arguments.length;C++)for(I in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],I)&&R[I]===void 0&&(R[I]=arguments[C][I]);return R},r.prepareContent=function(C,I,R,D,k){return g.Promise.resolve(I).then(function(B){return c.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new g.Promise(function(q,X){var F=new FileReader;F.onload=function(re){q(re.target.result)},F.onerror=function(re){X(re.target.error)},F.readAsArrayBuffer(B)}):B}).then(function(B){var q=r.getTypeOf(B);return q?(q==="arraybuffer"?B=r.transformTo("uint8array",B):q==="string"&&(k?B=d.decode(B):R&&D!==!0&&(B=(function(X){return v(X,c.uint8array?new Uint8Array(X.length):new Array(X.length))})(B))),B):g.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,a,r){var c=l("./reader/readerFor"),d=l("./utils"),h=l("./signature"),g=l("./zipEntry"),m=l("./support");function v(_){this.files=[],this.loadOptions=_}v.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(_)+")")}},isSignature:function(_,S){var T=this.reader.index;this.reader.setIndex(_);var A=this.reader.readString(4)===S;return this.reader.setIndex(T),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",T=d.transformTo(S,_);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,S,T,A=this.zip64EndOfCentralSize-44;0<A;)_=this.reader.readInt(2),S=this.reader.readInt(4),T=this.reader.readData(S),this.zip64ExtensibleData[_]={id:_,length:S,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,S;for(_=0;_<this.files.length;_++)S=this.files[_],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(_=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var S=_;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var A=S-T;if(0<A)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,a,r){var c=l("./reader/readerFor"),d=l("./utils"),h=l("./compressedObject"),g=l("./crc32"),m=l("./utf8"),v=l("./compressions"),_=l("./support");function S(T,A){this.options=T,this.loadOptions=A}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var A,C;if(T.skip(22),this.fileNameLength=T.readInt(2),C=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(C),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=(function(I){for(var R in v)if(Object.prototype.hasOwnProperty.call(v,R)&&v[R].magic===I)return v[R];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,A,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var A=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(A),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var A,C,I,R=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<R;)A=T.readInt(2),C=T.readInt(2),I=T.readData(C),this.extraFields[A]={id:A,length:C,value:I};T.setIndex(R)},handleUTF8:function(){var T=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var C=d.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(C)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var R=d.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var A=c(T.value);return A.readInt(1)!==1||g(this.fileName)!==A.readInt(4)?null:m.utf8decode(A.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var A=c(T.value);return A.readInt(1)!==1||g(this.fileComment)!==A.readInt(4)?null:m.utf8decode(A.readData(T.length-5))}return null}},a.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,a,r){function c(A,C,I){this.name=A,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=C,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var d=l("./stream/StreamHelper"),h=l("./stream/DataWorker"),g=l("./utf8"),m=l("./compressedObject"),v=l("./stream/GenericWorker");c.prototype={internalStream:function(A){var C=null,I="string";try{if(!A)throw new Error("No output type specified.");var R=(I=A.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),C=this._decompressWorker();var D=!this._dataBinary;D&&!R&&(C=C.pipe(new g.Utf8EncodeWorker)),!D&&R&&(C=C.pipe(new g.Utf8DecodeWorker))}catch(k){(C=new v("error")).error(k)}return new d(C,I,"")},async:function(A,C){return this.internalStream(A).accumulate(C)},nodeStream:function(A,C){return this.internalStream(A||"nodebuffer").toNodejsStream(C)},_compressWorker:function(A,C){if(this._data instanceof m&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new g.Utf8EncodeWorker)),m.createWorkerFrom(I,A,C)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new h(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<_.length;T++)c.prototype[_[T]]=S;a.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,a,r){(function(c){var d,h,g=c.MutationObserver||c.WebKitMutationObserver;if(g){var m=0,v=new g(A),_=c.document.createTextNode("");v.observe(_,{characterData:!0}),d=function(){_.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var C=c.document.createElement("script");C.onreadystatechange=function(){A(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},c.document.documentElement.appendChild(C)}:function(){setTimeout(A,0)};else{var S=new c.MessageChannel;S.port1.onmessage=A,d=function(){S.port2.postMessage(0)}}var T=[];function A(){var C,I;h=!0;for(var R=T.length;R;){for(I=T,T=[],C=-1;++C<R;)I[C]();R=T.length}h=!1}a.exports=function(C){T.push(C)!==1||h||d()}}).call(this,typeof Za<"u"?Za:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,a,r){var c=l("immediate");function d(){}var h={},g=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function _(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,R!==d&&C(this,R)}function S(R,D,k){this.promise=R,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function T(R,D,k){c(function(){var B;try{B=D(k)}catch(q){return h.reject(R,q)}B===R?h.reject(R,new TypeError("Cannot resolve promise with itself")):h.resolve(R,B)})}function A(R){var D=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof D=="function")return function(){D.apply(R,arguments)}}function C(R,D){var k=!1;function B(F){k||(k=!0,h.reject(R,F))}function q(F){k||(k=!0,h.resolve(R,F))}var X=I(function(){D(q,B)});X.status==="error"&&B(X.value)}function I(R,D){var k={};try{k.value=R(D),k.status="success"}catch(B){k.status="error",k.value=B}return k}(a.exports=_).prototype.finally=function(R){if(typeof R!="function")return this;var D=this.constructor;return this.then(function(k){return D.resolve(R()).then(function(){return k})},function(k){return D.resolve(R()).then(function(){throw k})})},_.prototype.catch=function(R){return this.then(null,R)},_.prototype.then=function(R,D){if(typeof R!="function"&&this.state===m||typeof D!="function"&&this.state===g)return this;var k=new this.constructor(d);return this.state!==v?T(k,this.state===m?R:D,this.outcome):this.queue.push(new S(k,R,D)),k},S.prototype.callFulfilled=function(R){h.resolve(this.promise,R)},S.prototype.otherCallFulfilled=function(R){T(this.promise,this.onFulfilled,R)},S.prototype.callRejected=function(R){h.reject(this.promise,R)},S.prototype.otherCallRejected=function(R){T(this.promise,this.onRejected,R)},h.resolve=function(R,D){var k=I(A,D);if(k.status==="error")return h.reject(R,k.value);var B=k.value;if(B)C(R,B);else{R.state=m,R.outcome=D;for(var q=-1,X=R.queue.length;++q<X;)R.queue[q].callFulfilled(D)}return R},h.reject=function(R,D){R.state=g,R.outcome=D;for(var k=-1,B=R.queue.length;++k<B;)R.queue[k].callRejected(D);return R},_.resolve=function(R){return R instanceof this?R:h.resolve(new this(d),R)},_.reject=function(R){var D=new this(d);return h.reject(D,R)},_.all=function(R){var D=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=R.length,B=!1;if(!k)return this.resolve([]);for(var q=new Array(k),X=0,F=-1,re=new this(d);++F<k;)O(R[F],F);return re;function O(ce,Te){D.resolve(ce).then(function(L){q[Te]=L,++X!==k||B||(B=!0,h.resolve(re,q))},function(L){B||(B=!0,h.reject(re,L))})}},_.race=function(R){var D=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=R.length,B=!1;if(!k)return this.resolve([]);for(var q=-1,X=new this(d);++q<k;)F=R[q],D.resolve(F).then(function(re){B||(B=!0,h.resolve(X,re))},function(re){B||(B=!0,h.reject(X,re))});var F;return X}},{immediate:36}],38:[function(l,a,r){var c={};(0,l("./lib/utils/common").assign)(c,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),a.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,a,r){var c=l("./zlib/deflate"),d=l("./utils/common"),h=l("./utils/strings"),g=l("./zlib/messages"),m=l("./zlib/zstream"),v=Object.prototype.toString,_=0,S=-1,T=0,A=8;function C(R){if(!(this instanceof C))return new C(R);this.options=d.assign({level:S,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},R||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var k=c.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(k!==_)throw new Error(g[k]);if(D.header&&c.deflateSetHeader(this.strm,D.header),D.dictionary){var B;if(B=typeof D.dictionary=="string"?h.string2buf(D.dictionary):v.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(k=c.deflateSetDictionary(this.strm,B))!==_)throw new Error(g[k]);this._dict_set=!0}}function I(R,D){var k=new C(D);if(k.push(R,!0),k.err)throw k.msg||g[k.err];return k.result}C.prototype.push=function(R,D){var k,B,q=this.strm,X=this.options.chunkSize;if(this.ended)return!1;B=D===~~D?D:D===!0?4:0,typeof R=="string"?q.input=h.string2buf(R):v.call(R)==="[object ArrayBuffer]"?q.input=new Uint8Array(R):q.input=R,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new d.Buf8(X),q.next_out=0,q.avail_out=X),(k=c.deflate(q,B))!==1&&k!==_)return this.onEnd(k),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(q.output,q.next_out))):this.onData(d.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&k!==1);return B===4?(k=c.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===_):B!==2||(this.onEnd(_),!(q.avail_out=0))},C.prototype.onData=function(R){this.chunks.push(R)},C.prototype.onEnd=function(R){R===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},r.Deflate=C,r.deflate=I,r.deflateRaw=function(R,D){return(D=D||{}).raw=!0,I(R,D)},r.gzip=function(R,D){return(D=D||{}).gzip=!0,I(R,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,a,r){var c=l("./zlib/inflate"),d=l("./utils/common"),h=l("./utils/strings"),g=l("./zlib/constants"),m=l("./zlib/messages"),v=l("./zlib/zstream"),_=l("./zlib/gzheader"),S=Object.prototype.toString;function T(C){if(!(this instanceof T))return new T(C);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},C||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||C&&C.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var R=c.inflateInit2(this.strm,I.windowBits);if(R!==g.Z_OK)throw new Error(m[R]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}function A(C,I){var R=new T(I);if(R.push(C,!0),R.err)throw R.msg||m[R.err];return R.result}T.prototype.push=function(C,I){var R,D,k,B,q,X,F=this.strm,re=this.options.chunkSize,O=this.options.dictionary,ce=!1;if(this.ended)return!1;D=I===~~I?I:I===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof C=="string"?F.input=h.binstring2buf(C):S.call(C)==="[object ArrayBuffer]"?F.input=new Uint8Array(C):F.input=C,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new d.Buf8(re),F.next_out=0,F.avail_out=re),(R=c.inflate(F,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&O&&(X=typeof O=="string"?h.string2buf(O):S.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,R=c.inflateSetDictionary(this.strm,X)),R===g.Z_BUF_ERROR&&ce===!0&&(R=g.Z_OK,ce=!1),R!==g.Z_STREAM_END&&R!==g.Z_OK)return this.onEnd(R),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&R!==g.Z_STREAM_END&&(F.avail_in!==0||D!==g.Z_FINISH&&D!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=h.utf8border(F.output,F.next_out),B=F.next_out-k,q=h.buf2string(F.output,k),F.next_out=B,F.avail_out=re-B,B&&d.arraySet(F.output,F.output,k,B,0),this.onData(q)):this.onData(d.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(ce=!0)}while((0<F.avail_in||F.avail_out===0)&&R!==g.Z_STREAM_END);return R===g.Z_STREAM_END&&(D=g.Z_FINISH),D===g.Z_FINISH?(R=c.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===g.Z_OK):D!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(F.avail_out=0))},T.prototype.onData=function(C){this.chunks.push(C)},T.prototype.onEnd=function(C){C===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},r.Inflate=T,r.inflate=A,r.inflateRaw=function(C,I){return(I=I||{}).raw=!0,A(C,I)},r.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,a,r){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(g){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var _ in v)v.hasOwnProperty(_)&&(g[_]=v[_])}}return g},r.shrinkBuf=function(g,m){return g.length===m?g:g.subarray?g.subarray(0,m):(g.length=m,g)};var d={arraySet:function(g,m,v,_,S){if(m.subarray&&g.subarray)g.set(m.subarray(v,v+_),S);else for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){var m,v,_,S,T,A;for(m=_=0,v=g.length;m<v;m++)_+=g[m].length;for(A=new Uint8Array(_),m=S=0,v=g.length;m<v;m++)T=g[m],A.set(T,S),S+=T.length;return A}},h={arraySet:function(g,m,v,_,S){for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){return[].concat.apply([],g)}};r.setTyped=function(g){g?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,d)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,h))},r.setTyped(c)},{}],42:[function(l,a,r){var c=l("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var g=new c.Buf8(256),m=0;m<256;m++)g[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(_,S){if(S<65537&&(_.subarray&&h||!_.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(_,S));for(var T="",A=0;A<S;A++)T+=String.fromCharCode(_[A]);return T}g[254]=g[254]=1,r.string2buf=function(_){var S,T,A,C,I,R=_.length,D=0;for(C=0;C<R;C++)(64512&(T=_.charCodeAt(C)))==55296&&C+1<R&&(64512&(A=_.charCodeAt(C+1)))==56320&&(T=65536+(T-55296<<10)+(A-56320),C++),D+=T<128?1:T<2048?2:T<65536?3:4;for(S=new c.Buf8(D),C=I=0;I<D;C++)(64512&(T=_.charCodeAt(C)))==55296&&C+1<R&&(64512&(A=_.charCodeAt(C+1)))==56320&&(T=65536+(T-55296<<10)+(A-56320),C++),T<128?S[I++]=T:(T<2048?S[I++]=192|T>>>6:(T<65536?S[I++]=224|T>>>12:(S[I++]=240|T>>>18,S[I++]=128|T>>>12&63),S[I++]=128|T>>>6&63),S[I++]=128|63&T);return S},r.buf2binstring=function(_){return v(_,_.length)},r.binstring2buf=function(_){for(var S=new c.Buf8(_.length),T=0,A=S.length;T<A;T++)S[T]=_.charCodeAt(T);return S},r.buf2string=function(_,S){var T,A,C,I,R=S||_.length,D=new Array(2*R);for(T=A=0;T<R;)if((C=_[T++])<128)D[A++]=C;else if(4<(I=g[C]))D[A++]=65533,T+=I-1;else{for(C&=I===2?31:I===3?15:7;1<I&&T<R;)C=C<<6|63&_[T++],I--;1<I?D[A++]=65533:C<65536?D[A++]=C:(C-=65536,D[A++]=55296|C>>10&1023,D[A++]=56320|1023&C)}return v(D,A)},r.utf8border=function(_,S){var T;for((S=S||_.length)>_.length&&(S=_.length),T=S-1;0<=T&&(192&_[T])==128;)T--;return T<0||T===0?S:T+g[_[T]]>S?T:S}},{"./common":41}],43:[function(l,a,r){a.exports=function(c,d,h,g){for(var m=65535&c|0,v=c>>>16&65535|0,_=0;h!==0;){for(h-=_=2e3<h?2e3:h;v=v+(m=m+d[g++]|0)|0,--_;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(l,a,r){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,a,r){var c=(function(){for(var d,h=[],g=0;g<256;g++){d=g;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;h[g]=d}return h})();a.exports=function(d,h,g,m){var v=c,_=m+g;d^=-1;for(var S=m;S<_;S++)d=d>>>8^v[255&(d^h[S])];return-1^d}},{}],46:[function(l,a,r){var c,d=l("../utils/common"),h=l("./trees"),g=l("./adler32"),m=l("./crc32"),v=l("./messages"),_=0,S=4,T=0,A=-2,C=-1,I=4,R=2,D=8,k=9,B=286,q=30,X=19,F=2*B+1,re=15,O=3,ce=258,Te=ce+O+1,L=42,ie=113,w=1,ue=2,Y=3,J=4;function ve(b,he){return b.msg=v[he],he}function fe(b){return(b<<1)-(4<b?9:0)}function K(b){for(var he=b.length;0<=--he;)b[he]=0}function N(b){var he=b.state,se=he.pending;se>b.avail_out&&(se=b.avail_out),se!==0&&(d.arraySet(b.output,he.pending_buf,he.pending_out,se,b.next_out),b.next_out+=se,he.pending_out+=se,b.total_out+=se,b.avail_out-=se,he.pending-=se,he.pending===0&&(he.pending_out=0))}function U(b,he){h._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,he),b.block_start=b.strstart,N(b.strm)}function $(b,he){b.pending_buf[b.pending++]=he}function te(b,he){b.pending_buf[b.pending++]=he>>>8&255,b.pending_buf[b.pending++]=255&he}function oe(b,he){var se,G,z=b.max_chain_length,Z=b.strstart,ge=b.prev_length,ye=b.nice_match,ee=b.strstart>b.w_size-Te?b.strstart-(b.w_size-Te):0,Se=b.window,xe=b.w_mask,be=b.prev,De=b.strstart+ce,tt=Se[Z+ge-1],Fe=Se[Z+ge];b.prev_length>=b.good_match&&(z>>=2),ye>b.lookahead&&(ye=b.lookahead);do if(Se[(se=he)+ge]===Fe&&Se[se+ge-1]===tt&&Se[se]===Se[Z]&&Se[++se]===Se[Z+1]){Z+=2,se++;do;while(Se[++Z]===Se[++se]&&Se[++Z]===Se[++se]&&Se[++Z]===Se[++se]&&Se[++Z]===Se[++se]&&Se[++Z]===Se[++se]&&Se[++Z]===Se[++se]&&Se[++Z]===Se[++se]&&Se[++Z]===Se[++se]&&Z<De);if(G=ce-(De-Z),Z=De-ce,ge<G){if(b.match_start=he,ye<=(ge=G))break;tt=Se[Z+ge-1],Fe=Se[Z+ge]}}while((he=be[he&xe])>ee&&--z!=0);return ge<=b.lookahead?ge:b.lookahead}function we(b){var he,se,G,z,Z,ge,ye,ee,Se,xe,be=b.w_size;do{if(z=b.window_size-b.lookahead-b.strstart,b.strstart>=be+(be-Te)){for(d.arraySet(b.window,b.window,be,be,0),b.match_start-=be,b.strstart-=be,b.block_start-=be,he=se=b.hash_size;G=b.head[--he],b.head[he]=be<=G?G-be:0,--se;);for(he=se=be;G=b.prev[--he],b.prev[he]=be<=G?G-be:0,--se;);z+=be}if(b.strm.avail_in===0)break;if(ge=b.strm,ye=b.window,ee=b.strstart+b.lookahead,Se=z,xe=void 0,xe=ge.avail_in,Se<xe&&(xe=Se),se=xe===0?0:(ge.avail_in-=xe,d.arraySet(ye,ge.input,ge.next_in,xe,ee),ge.state.wrap===1?ge.adler=g(ge.adler,ye,xe,ee):ge.state.wrap===2&&(ge.adler=m(ge.adler,ye,xe,ee)),ge.next_in+=xe,ge.total_in+=xe,xe),b.lookahead+=se,b.lookahead+b.insert>=O)for(Z=b.strstart-b.insert,b.ins_h=b.window[Z],b.ins_h=(b.ins_h<<b.hash_shift^b.window[Z+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[Z+O-1])&b.hash_mask,b.prev[Z&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=Z,Z++,b.insert--,!(b.lookahead+b.insert<O)););}while(b.lookahead<Te&&b.strm.avail_in!==0)}function Ue(b,he){for(var se,G;;){if(b.lookahead<Te){if(we(b),b.lookahead<Te&&he===_)return w;if(b.lookahead===0)break}if(se=0,b.lookahead>=O&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+O-1])&b.hash_mask,se=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),se!==0&&b.strstart-se<=b.w_size-Te&&(b.match_length=oe(b,se)),b.match_length>=O)if(G=h._tr_tally(b,b.strstart-b.match_start,b.match_length-O),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=O){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+O-1])&b.hash_mask,se=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else G=h._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(G&&(U(b,!1),b.strm.avail_out===0))return w}return b.insert=b.strstart<O-1?b.strstart:O-1,he===S?(U(b,!0),b.strm.avail_out===0?Y:J):b.last_lit&&(U(b,!1),b.strm.avail_out===0)?w:ue}function _e(b,he){for(var se,G,z;;){if(b.lookahead<Te){if(we(b),b.lookahead<Te&&he===_)return w;if(b.lookahead===0)break}if(se=0,b.lookahead>=O&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+O-1])&b.hash_mask,se=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=O-1,se!==0&&b.prev_length<b.max_lazy_match&&b.strstart-se<=b.w_size-Te&&(b.match_length=oe(b,se),b.match_length<=5&&(b.strategy===1||b.match_length===O&&4096<b.strstart-b.match_start)&&(b.match_length=O-1)),b.prev_length>=O&&b.match_length<=b.prev_length){for(z=b.strstart+b.lookahead-O,G=h._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-O),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=z&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+O-1])&b.hash_mask,se=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=O-1,b.strstart++,G&&(U(b,!1),b.strm.avail_out===0))return w}else if(b.match_available){if((G=h._tr_tally(b,0,b.window[b.strstart-1]))&&U(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return w}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(G=h._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<O-1?b.strstart:O-1,he===S?(U(b,!0),b.strm.avail_out===0?Y:J):b.last_lit&&(U(b,!1),b.strm.avail_out===0)?w:ue}function Ce(b,he,se,G,z){this.good_length=b,this.max_lazy=he,this.nice_length=se,this.max_chain=G,this.func=z}function it(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*F),this.dyn_dtree=new d.Buf16(2*(2*q+1)),this.bl_tree=new d.Buf16(2*(2*X+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(re+1),this.heap=new d.Buf16(2*B+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*B+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function et(b){var he;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=R,(he=b.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?L:ie,b.adler=he.wrap===2?0:1,he.last_flush=_,h._tr_init(he),T):ve(b,A)}function kt(b){var he=et(b);return he===T&&(function(se){se.window_size=2*se.w_size,K(se.head),se.max_lazy_match=c[se.level].max_lazy,se.good_match=c[se.level].good_length,se.nice_match=c[se.level].nice_length,se.max_chain_length=c[se.level].max_chain,se.strstart=0,se.block_start=0,se.lookahead=0,se.insert=0,se.match_length=se.prev_length=O-1,se.match_available=0,se.ins_h=0})(b.state),he}function zt(b,he,se,G,z,Z){if(!b)return A;var ge=1;if(he===C&&(he=6),G<0?(ge=0,G=-G):15<G&&(ge=2,G-=16),z<1||k<z||se!==D||G<8||15<G||he<0||9<he||Z<0||I<Z)return ve(b,A);G===8&&(G=9);var ye=new it;return(b.state=ye).strm=b,ye.wrap=ge,ye.gzhead=null,ye.w_bits=G,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=z+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+O-1)/O),ye.window=new d.Buf8(2*ye.w_size),ye.head=new d.Buf16(ye.hash_size),ye.prev=new d.Buf16(ye.w_size),ye.lit_bufsize=1<<z+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new d.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=he,ye.strategy=Z,ye.method=se,kt(b)}c=[new Ce(0,0,0,0,function(b,he){var se=65535;for(se>b.pending_buf_size-5&&(se=b.pending_buf_size-5);;){if(b.lookahead<=1){if(we(b),b.lookahead===0&&he===_)return w;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var G=b.block_start+se;if((b.strstart===0||b.strstart>=G)&&(b.lookahead=b.strstart-G,b.strstart=G,U(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-Te&&(U(b,!1),b.strm.avail_out===0))return w}return b.insert=0,he===S?(U(b,!0),b.strm.avail_out===0?Y:J):(b.strstart>b.block_start&&(U(b,!1),b.strm.avail_out),w)}),new Ce(4,4,8,4,Ue),new Ce(4,5,16,8,Ue),new Ce(4,6,32,32,Ue),new Ce(4,4,16,16,_e),new Ce(8,16,32,32,_e),new Ce(8,16,128,128,_e),new Ce(8,32,128,256,_e),new Ce(32,128,258,1024,_e),new Ce(32,258,258,4096,_e)],r.deflateInit=function(b,he){return zt(b,he,D,15,8,0)},r.deflateInit2=zt,r.deflateReset=kt,r.deflateResetKeep=et,r.deflateSetHeader=function(b,he){return b&&b.state?b.state.wrap!==2?A:(b.state.gzhead=he,T):A},r.deflate=function(b,he){var se,G,z,Z;if(!b||!b.state||5<he||he<0)return b?ve(b,A):A;if(G=b.state,!b.output||!b.input&&b.avail_in!==0||G.status===666&&he!==S)return ve(b,b.avail_out===0?-5:A);if(G.strm=b,se=G.last_flush,G.last_flush=he,G.status===L)if(G.wrap===2)b.adler=0,$(G,31),$(G,139),$(G,8),G.gzhead?($(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),$(G,255&G.gzhead.time),$(G,G.gzhead.time>>8&255),$(G,G.gzhead.time>>16&255),$(G,G.gzhead.time>>24&255),$(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),$(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&($(G,255&G.gzhead.extra.length),$(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(b.adler=m(b.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):($(G,0),$(G,0),$(G,0),$(G,0),$(G,0),$(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),$(G,3),G.status=ie);else{var ge=D+(G.w_bits-8<<4)<<8;ge|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(ge|=32),ge+=31-ge%31,G.status=ie,te(G,ge),G.strstart!==0&&(te(G,b.adler>>>16),te(G,65535&b.adler)),b.adler=1}if(G.status===69)if(G.gzhead.extra){for(z=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>z&&(b.adler=m(b.adler,G.pending_buf,G.pending-z,z)),N(b),z=G.pending,G.pending!==G.pending_buf_size));)$(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>z&&(b.adler=m(b.adler,G.pending_buf,G.pending-z,z)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){z=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>z&&(b.adler=m(b.adler,G.pending_buf,G.pending-z,z)),N(b),z=G.pending,G.pending===G.pending_buf_size)){Z=1;break}Z=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,$(G,Z)}while(Z!==0);G.gzhead.hcrc&&G.pending>z&&(b.adler=m(b.adler,G.pending_buf,G.pending-z,z)),Z===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){z=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>z&&(b.adler=m(b.adler,G.pending_buf,G.pending-z,z)),N(b),z=G.pending,G.pending===G.pending_buf_size)){Z=1;break}Z=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,$(G,Z)}while(Z!==0);G.gzhead.hcrc&&G.pending>z&&(b.adler=m(b.adler,G.pending_buf,G.pending-z,z)),Z===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&N(b),G.pending+2<=G.pending_buf_size&&($(G,255&b.adler),$(G,b.adler>>8&255),b.adler=0,G.status=ie)):G.status=ie),G.pending!==0){if(N(b),b.avail_out===0)return G.last_flush=-1,T}else if(b.avail_in===0&&fe(he)<=fe(se)&&he!==S)return ve(b,-5);if(G.status===666&&b.avail_in!==0)return ve(b,-5);if(b.avail_in!==0||G.lookahead!==0||he!==_&&G.status!==666){var ye=G.strategy===2?(function(ee,Se){for(var xe;;){if(ee.lookahead===0&&(we(ee),ee.lookahead===0)){if(Se===_)return w;break}if(ee.match_length=0,xe=h._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,xe&&(U(ee,!1),ee.strm.avail_out===0))return w}return ee.insert=0,Se===S?(U(ee,!0),ee.strm.avail_out===0?Y:J):ee.last_lit&&(U(ee,!1),ee.strm.avail_out===0)?w:ue})(G,he):G.strategy===3?(function(ee,Se){for(var xe,be,De,tt,Fe=ee.window;;){if(ee.lookahead<=ce){if(we(ee),ee.lookahead<=ce&&Se===_)return w;if(ee.lookahead===0)break}if(ee.match_length=0,ee.lookahead>=O&&0<ee.strstart&&(be=Fe[De=ee.strstart-1])===Fe[++De]&&be===Fe[++De]&&be===Fe[++De]){tt=ee.strstart+ce;do;while(be===Fe[++De]&&be===Fe[++De]&&be===Fe[++De]&&be===Fe[++De]&&be===Fe[++De]&&be===Fe[++De]&&be===Fe[++De]&&be===Fe[++De]&&De<tt);ee.match_length=ce-(tt-De),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=O?(xe=h._tr_tally(ee,1,ee.match_length-O),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(xe=h._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),xe&&(U(ee,!1),ee.strm.avail_out===0))return w}return ee.insert=0,Se===S?(U(ee,!0),ee.strm.avail_out===0?Y:J):ee.last_lit&&(U(ee,!1),ee.strm.avail_out===0)?w:ue})(G,he):c[G.level].func(G,he);if(ye!==Y&&ye!==J||(G.status=666),ye===w||ye===Y)return b.avail_out===0&&(G.last_flush=-1),T;if(ye===ue&&(he===1?h._tr_align(G):he!==5&&(h._tr_stored_block(G,0,0,!1),he===3&&(K(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),N(b),b.avail_out===0))return G.last_flush=-1,T}return he!==S?T:G.wrap<=0?1:(G.wrap===2?($(G,255&b.adler),$(G,b.adler>>8&255),$(G,b.adler>>16&255),$(G,b.adler>>24&255),$(G,255&b.total_in),$(G,b.total_in>>8&255),$(G,b.total_in>>16&255),$(G,b.total_in>>24&255)):(te(G,b.adler>>>16),te(G,65535&b.adler)),N(b),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?T:1)},r.deflateEnd=function(b){var he;return b&&b.state?(he=b.state.status)!==L&&he!==69&&he!==73&&he!==91&&he!==103&&he!==ie&&he!==666?ve(b,A):(b.state=null,he===ie?ve(b,-3):T):A},r.deflateSetDictionary=function(b,he){var se,G,z,Z,ge,ye,ee,Se,xe=he.length;if(!b||!b.state||(Z=(se=b.state).wrap)===2||Z===1&&se.status!==L||se.lookahead)return A;for(Z===1&&(b.adler=g(b.adler,he,xe,0)),se.wrap=0,xe>=se.w_size&&(Z===0&&(K(se.head),se.strstart=0,se.block_start=0,se.insert=0),Se=new d.Buf8(se.w_size),d.arraySet(Se,he,xe-se.w_size,se.w_size,0),he=Se,xe=se.w_size),ge=b.avail_in,ye=b.next_in,ee=b.input,b.avail_in=xe,b.next_in=0,b.input=he,we(se);se.lookahead>=O;){for(G=se.strstart,z=se.lookahead-(O-1);se.ins_h=(se.ins_h<<se.hash_shift^se.window[G+O-1])&se.hash_mask,se.prev[G&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=G,G++,--z;);se.strstart=G,se.lookahead=O-1,we(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=O-1,se.match_available=0,b.next_in=ye,b.input=ee,b.avail_in=ge,se.wrap=Z,T},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,a,r){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,a,r){a.exports=function(c,d){var h,g,m,v,_,S,T,A,C,I,R,D,k,B,q,X,F,re,O,ce,Te,L,ie,w,ue;h=c.state,g=c.next_in,w=c.input,m=g+(c.avail_in-5),v=c.next_out,ue=c.output,_=v-(d-c.avail_out),S=v+(c.avail_out-257),T=h.dmax,A=h.wsize,C=h.whave,I=h.wnext,R=h.window,D=h.hold,k=h.bits,B=h.lencode,q=h.distcode,X=(1<<h.lenbits)-1,F=(1<<h.distbits)-1;e:do{k<15&&(D+=w[g++]<<k,k+=8,D+=w[g++]<<k,k+=8),re=B[D&X];t:for(;;){if(D>>>=O=re>>>24,k-=O,(O=re>>>16&255)===0)ue[v++]=65535&re;else{if(!(16&O)){if((64&O)==0){re=B[(65535&re)+(D&(1<<O)-1)];continue t}if(32&O){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}ce=65535&re,(O&=15)&&(k<O&&(D+=w[g++]<<k,k+=8),ce+=D&(1<<O)-1,D>>>=O,k-=O),k<15&&(D+=w[g++]<<k,k+=8,D+=w[g++]<<k,k+=8),re=q[D&F];n:for(;;){if(D>>>=O=re>>>24,k-=O,!(16&(O=re>>>16&255))){if((64&O)==0){re=q[(65535&re)+(D&(1<<O)-1)];continue n}c.msg="invalid distance code",h.mode=30;break e}if(Te=65535&re,k<(O&=15)&&(D+=w[g++]<<k,(k+=8)<O&&(D+=w[g++]<<k,k+=8)),T<(Te+=D&(1<<O)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(D>>>=O,k-=O,(O=v-_)<Te){if(C<(O=Te-O)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(ie=R,(L=0)===I){if(L+=A-O,O<ce){for(ce-=O;ue[v++]=R[L++],--O;);L=v-Te,ie=ue}}else if(I<O){if(L+=A+I-O,(O-=I)<ce){for(ce-=O;ue[v++]=R[L++],--O;);if(L=0,I<ce){for(ce-=O=I;ue[v++]=R[L++],--O;);L=v-Te,ie=ue}}}else if(L+=I-O,O<ce){for(ce-=O;ue[v++]=R[L++],--O;);L=v-Te,ie=ue}for(;2<ce;)ue[v++]=ie[L++],ue[v++]=ie[L++],ue[v++]=ie[L++],ce-=3;ce&&(ue[v++]=ie[L++],1<ce&&(ue[v++]=ie[L++]))}else{for(L=v-Te;ue[v++]=ue[L++],ue[v++]=ue[L++],ue[v++]=ue[L++],2<(ce-=3););ce&&(ue[v++]=ue[L++],1<ce&&(ue[v++]=ue[L++]))}break}}break}}while(g<m&&v<S);g-=ce=k>>3,D&=(1<<(k-=ce<<3))-1,c.next_in=g,c.next_out=v,c.avail_in=g<m?m-g+5:5-(g-m),c.avail_out=v<S?S-v+257:257-(v-S),h.hold=D,h.bits=k}},{}],49:[function(l,a,r){var c=l("../utils/common"),d=l("./adler32"),h=l("./crc32"),g=l("./inffast"),m=l("./inftrees"),v=1,_=2,S=0,T=-2,A=1,C=852,I=592;function R(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(L){var ie;return L&&L.state?(ie=L.state,L.total_in=L.total_out=ie.total=0,L.msg="",ie.wrap&&(L.adler=1&ie.wrap),ie.mode=A,ie.last=0,ie.havedict=0,ie.dmax=32768,ie.head=null,ie.hold=0,ie.bits=0,ie.lencode=ie.lendyn=new c.Buf32(C),ie.distcode=ie.distdyn=new c.Buf32(I),ie.sane=1,ie.back=-1,S):T}function B(L){var ie;return L&&L.state?((ie=L.state).wsize=0,ie.whave=0,ie.wnext=0,k(L)):T}function q(L,ie){var w,ue;return L&&L.state?(ue=L.state,ie<0?(w=0,ie=-ie):(w=1+(ie>>4),ie<48&&(ie&=15)),ie&&(ie<8||15<ie)?T:(ue.window!==null&&ue.wbits!==ie&&(ue.window=null),ue.wrap=w,ue.wbits=ie,B(L))):T}function X(L,ie){var w,ue;return L?(ue=new D,(L.state=ue).window=null,(w=q(L,ie))!==S&&(L.state=null),w):T}var F,re,O=!0;function ce(L){if(O){var ie;for(F=new c.Buf32(512),re=new c.Buf32(32),ie=0;ie<144;)L.lens[ie++]=8;for(;ie<256;)L.lens[ie++]=9;for(;ie<280;)L.lens[ie++]=7;for(;ie<288;)L.lens[ie++]=8;for(m(v,L.lens,0,288,F,0,L.work,{bits:9}),ie=0;ie<32;)L.lens[ie++]=5;m(_,L.lens,0,32,re,0,L.work,{bits:5}),O=!1}L.lencode=F,L.lenbits=9,L.distcode=re,L.distbits=5}function Te(L,ie,w,ue){var Y,J=L.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new c.Buf8(J.wsize)),ue>=J.wsize?(c.arraySet(J.window,ie,w-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(ue<(Y=J.wsize-J.wnext)&&(Y=ue),c.arraySet(J.window,ie,w-ue,Y,J.wnext),(ue-=Y)?(c.arraySet(J.window,ie,w-ue,ue,0),J.wnext=ue,J.whave=J.wsize):(J.wnext+=Y,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=Y))),0}r.inflateReset=B,r.inflateReset2=q,r.inflateResetKeep=k,r.inflateInit=function(L){return X(L,15)},r.inflateInit2=X,r.inflate=function(L,ie){var w,ue,Y,J,ve,fe,K,N,U,$,te,oe,we,Ue,_e,Ce,it,et,kt,zt,b,he,se,G,z=0,Z=new c.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return T;(w=L.state).mode===12&&(w.mode=13),ve=L.next_out,Y=L.output,K=L.avail_out,J=L.next_in,ue=L.input,fe=L.avail_in,N=w.hold,U=w.bits,$=fe,te=K,he=S;e:for(;;)switch(w.mode){case A:if(w.wrap===0){w.mode=13;break}for(;U<16;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if(2&w.wrap&&N===35615){Z[w.check=0]=255&N,Z[1]=N>>>8&255,w.check=h(w.check,Z,2,0),U=N=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&N)<<8)+(N>>8))%31){L.msg="incorrect header check",w.mode=30;break}if((15&N)!=8){L.msg="unknown compression method",w.mode=30;break}if(U-=4,b=8+(15&(N>>>=4)),w.wbits===0)w.wbits=b;else if(b>w.wbits){L.msg="invalid window size",w.mode=30;break}w.dmax=1<<b,L.adler=w.check=1,w.mode=512&N?10:12,U=N=0;break;case 2:for(;U<16;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if(w.flags=N,(255&w.flags)!=8){L.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){L.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=N>>8&1),512&w.flags&&(Z[0]=255&N,Z[1]=N>>>8&255,w.check=h(w.check,Z,2,0)),U=N=0,w.mode=3;case 3:for(;U<32;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}w.head&&(w.head.time=N),512&w.flags&&(Z[0]=255&N,Z[1]=N>>>8&255,Z[2]=N>>>16&255,Z[3]=N>>>24&255,w.check=h(w.check,Z,4,0)),U=N=0,w.mode=4;case 4:for(;U<16;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}w.head&&(w.head.xflags=255&N,w.head.os=N>>8),512&w.flags&&(Z[0]=255&N,Z[1]=N>>>8&255,w.check=h(w.check,Z,2,0)),U=N=0,w.mode=5;case 5:if(1024&w.flags){for(;U<16;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}w.length=N,w.head&&(w.head.extra_len=N),512&w.flags&&(Z[0]=255&N,Z[1]=N>>>8&255,w.check=h(w.check,Z,2,0)),U=N=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(fe<(oe=w.length)&&(oe=fe),oe&&(w.head&&(b=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),c.arraySet(w.head.extra,ue,J,oe,b)),512&w.flags&&(w.check=h(w.check,ue,oe,J)),fe-=oe,J+=oe,w.length-=oe),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(fe===0)break e;for(oe=0;b=ue[J+oe++],w.head&&b&&w.length<65536&&(w.head.name+=String.fromCharCode(b)),b&&oe<fe;);if(512&w.flags&&(w.check=h(w.check,ue,oe,J)),fe-=oe,J+=oe,b)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(fe===0)break e;for(oe=0;b=ue[J+oe++],w.head&&b&&w.length<65536&&(w.head.comment+=String.fromCharCode(b)),b&&oe<fe;);if(512&w.flags&&(w.check=h(w.check,ue,oe,J)),fe-=oe,J+=oe,b)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;U<16;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if(N!==(65535&w.check)){L.msg="header crc mismatch",w.mode=30;break}U=N=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),L.adler=w.check=0,w.mode=12;break;case 10:for(;U<32;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}L.adler=w.check=R(N),U=N=0,w.mode=11;case 11:if(w.havedict===0)return L.next_out=ve,L.avail_out=K,L.next_in=J,L.avail_in=fe,w.hold=N,w.bits=U,2;L.adler=w.check=1,w.mode=12;case 12:if(ie===5||ie===6)break e;case 13:if(w.last){N>>>=7&U,U-=7&U,w.mode=27;break}for(;U<3;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}switch(w.last=1&N,U-=1,3&(N>>>=1)){case 0:w.mode=14;break;case 1:if(ce(w),w.mode=20,ie!==6)break;N>>>=2,U-=2;break e;case 2:w.mode=17;break;case 3:L.msg="invalid block type",w.mode=30}N>>>=2,U-=2;break;case 14:for(N>>>=7&U,U-=7&U;U<32;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if((65535&N)!=(N>>>16^65535)){L.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&N,U=N=0,w.mode=15,ie===6)break e;case 15:w.mode=16;case 16:if(oe=w.length){if(fe<oe&&(oe=fe),K<oe&&(oe=K),oe===0)break e;c.arraySet(Y,ue,J,oe,ve),fe-=oe,J+=oe,K-=oe,ve+=oe,w.length-=oe;break}w.mode=12;break;case 17:for(;U<14;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if(w.nlen=257+(31&N),N>>>=5,U-=5,w.ndist=1+(31&N),N>>>=5,U-=5,w.ncode=4+(15&N),N>>>=4,U-=4,286<w.nlen||30<w.ndist){L.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;U<3;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}w.lens[ge[w.have++]]=7&N,N>>>=3,U-=3}for(;w.have<19;)w.lens[ge[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,se={bits:w.lenbits},he=m(0,w.lens,0,19,w.lencode,0,w.work,se),w.lenbits=se.bits,he){L.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;Ce=(z=w.lencode[N&(1<<w.lenbits)-1])>>>16&255,it=65535&z,!((_e=z>>>24)<=U);){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if(it<16)N>>>=_e,U-=_e,w.lens[w.have++]=it;else{if(it===16){for(G=_e+2;U<G;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if(N>>>=_e,U-=_e,w.have===0){L.msg="invalid bit length repeat",w.mode=30;break}b=w.lens[w.have-1],oe=3+(3&N),N>>>=2,U-=2}else if(it===17){for(G=_e+3;U<G;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}U-=_e,b=0,oe=3+(7&(N>>>=_e)),N>>>=3,U-=3}else{for(G=_e+7;U<G;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}U-=_e,b=0,oe=11+(127&(N>>>=_e)),N>>>=7,U-=7}if(w.have+oe>w.nlen+w.ndist){L.msg="invalid bit length repeat",w.mode=30;break}for(;oe--;)w.lens[w.have++]=b}}if(w.mode===30)break;if(w.lens[256]===0){L.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,se={bits:w.lenbits},he=m(v,w.lens,0,w.nlen,w.lencode,0,w.work,se),w.lenbits=se.bits,he){L.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,se={bits:w.distbits},he=m(_,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,se),w.distbits=se.bits,he){L.msg="invalid distances set",w.mode=30;break}if(w.mode=20,ie===6)break e;case 20:w.mode=21;case 21:if(6<=fe&&258<=K){L.next_out=ve,L.avail_out=K,L.next_in=J,L.avail_in=fe,w.hold=N,w.bits=U,g(L,te),ve=L.next_out,Y=L.output,K=L.avail_out,J=L.next_in,ue=L.input,fe=L.avail_in,N=w.hold,U=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;Ce=(z=w.lencode[N&(1<<w.lenbits)-1])>>>16&255,it=65535&z,!((_e=z>>>24)<=U);){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if(Ce&&(240&Ce)==0){for(et=_e,kt=Ce,zt=it;Ce=(z=w.lencode[zt+((N&(1<<et+kt)-1)>>et)])>>>16&255,it=65535&z,!(et+(_e=z>>>24)<=U);){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}N>>>=et,U-=et,w.back+=et}if(N>>>=_e,U-=_e,w.back+=_e,w.length=it,Ce===0){w.mode=26;break}if(32&Ce){w.back=-1,w.mode=12;break}if(64&Ce){L.msg="invalid literal/length code",w.mode=30;break}w.extra=15&Ce,w.mode=22;case 22:if(w.extra){for(G=w.extra;U<G;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}w.length+=N&(1<<w.extra)-1,N>>>=w.extra,U-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;Ce=(z=w.distcode[N&(1<<w.distbits)-1])>>>16&255,it=65535&z,!((_e=z>>>24)<=U);){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if((240&Ce)==0){for(et=_e,kt=Ce,zt=it;Ce=(z=w.distcode[zt+((N&(1<<et+kt)-1)>>et)])>>>16&255,it=65535&z,!(et+(_e=z>>>24)<=U);){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}N>>>=et,U-=et,w.back+=et}if(N>>>=_e,U-=_e,w.back+=_e,64&Ce){L.msg="invalid distance code",w.mode=30;break}w.offset=it,w.extra=15&Ce,w.mode=24;case 24:if(w.extra){for(G=w.extra;U<G;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}w.offset+=N&(1<<w.extra)-1,N>>>=w.extra,U-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){L.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(K===0)break e;if(oe=te-K,w.offset>oe){if((oe=w.offset-oe)>w.whave&&w.sane){L.msg="invalid distance too far back",w.mode=30;break}we=oe>w.wnext?(oe-=w.wnext,w.wsize-oe):w.wnext-oe,oe>w.length&&(oe=w.length),Ue=w.window}else Ue=Y,we=ve-w.offset,oe=w.length;for(K<oe&&(oe=K),K-=oe,w.length-=oe;Y[ve++]=Ue[we++],--oe;);w.length===0&&(w.mode=21);break;case 26:if(K===0)break e;Y[ve++]=w.length,K--,w.mode=21;break;case 27:if(w.wrap){for(;U<32;){if(fe===0)break e;fe--,N|=ue[J++]<<U,U+=8}if(te-=K,L.total_out+=te,w.total+=te,te&&(L.adler=w.check=w.flags?h(w.check,Y,te,ve-te):d(w.check,Y,te,ve-te)),te=K,(w.flags?N:R(N))!==w.check){L.msg="incorrect data check",w.mode=30;break}U=N=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;U<32;){if(fe===0)break e;fe--,N+=ue[J++]<<U,U+=8}if(N!==(4294967295&w.total)){L.msg="incorrect length check",w.mode=30;break}U=N=0}w.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return T}return L.next_out=ve,L.avail_out=K,L.next_in=J,L.avail_in=fe,w.hold=N,w.bits=U,(w.wsize||te!==L.avail_out&&w.mode<30&&(w.mode<27||ie!==4))&&Te(L,L.output,L.next_out,te-L.avail_out)?(w.mode=31,-4):($-=L.avail_in,te-=L.avail_out,L.total_in+=$,L.total_out+=te,w.total+=te,w.wrap&&te&&(L.adler=w.check=w.flags?h(w.check,Y,te,L.next_out-te):d(w.check,Y,te,L.next_out-te)),L.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),($==0&&te===0||ie===4)&&he===S&&(he=-5),he)},r.inflateEnd=function(L){if(!L||!L.state)return T;var ie=L.state;return ie.window&&(ie.window=null),L.state=null,S},r.inflateGetHeader=function(L,ie){var w;return L&&L.state?(2&(w=L.state).wrap)==0?T:((w.head=ie).done=!1,S):T},r.inflateSetDictionary=function(L,ie){var w,ue=ie.length;return L&&L.state?(w=L.state).wrap!==0&&w.mode!==11?T:w.mode===11&&d(1,ie,ue,0)!==w.check?-3:Te(L,ie,ue,ue)?(w.mode=31,-4):(w.havedict=1,S):T},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,a,r){var c=l("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(v,_,S,T,A,C,I,R){var D,k,B,q,X,F,re,O,ce,Te=R.bits,L=0,ie=0,w=0,ue=0,Y=0,J=0,ve=0,fe=0,K=0,N=0,U=null,$=0,te=new c.Buf16(16),oe=new c.Buf16(16),we=null,Ue=0;for(L=0;L<=15;L++)te[L]=0;for(ie=0;ie<T;ie++)te[_[S+ie]]++;for(Y=Te,ue=15;1<=ue&&te[ue]===0;ue--);if(ue<Y&&(Y=ue),ue===0)return A[C++]=20971520,A[C++]=20971520,R.bits=1,0;for(w=1;w<ue&&te[w]===0;w++);for(Y<w&&(Y=w),L=fe=1;L<=15;L++)if(fe<<=1,(fe-=te[L])<0)return-1;if(0<fe&&(v===0||ue!==1))return-1;for(oe[1]=0,L=1;L<15;L++)oe[L+1]=oe[L]+te[L];for(ie=0;ie<T;ie++)_[S+ie]!==0&&(I[oe[_[S+ie]]++]=ie);if(F=v===0?(U=we=I,19):v===1?(U=d,$-=257,we=h,Ue-=257,256):(U=g,we=m,-1),L=w,X=C,ve=ie=N=0,B=-1,q=(K=1<<(J=Y))-1,v===1&&852<K||v===2&&592<K)return 1;for(;;){for(re=L-ve,ce=I[ie]<F?(O=0,I[ie]):I[ie]>F?(O=we[Ue+I[ie]],U[$+I[ie]]):(O=96,0),D=1<<L-ve,w=k=1<<J;A[X+(N>>ve)+(k-=D)]=re<<24|O<<16|ce|0,k!==0;);for(D=1<<L-1;N&D;)D>>=1;if(D!==0?(N&=D-1,N+=D):N=0,ie++,--te[L]==0){if(L===ue)break;L=_[S+I[ie]]}if(Y<L&&(N&q)!==B){for(ve===0&&(ve=Y),X+=w,fe=1<<(J=L-ve);J+ve<ue&&!((fe-=te[J+ve])<=0);)J++,fe<<=1;if(K+=1<<J,v===1&&852<K||v===2&&592<K)return 1;A[B=N&q]=Y<<24|J<<16|X-C|0}}return N!==0&&(A[X+N]=L-ve<<24|64<<16|0),R.bits=Y,0}},{"../utils/common":41}],51:[function(l,a,r){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,a,r){var c=l("../utils/common"),d=0,h=1;function g(z){for(var Z=z.length;0<=--Z;)z[Z]=0}var m=0,v=29,_=256,S=_+1+v,T=30,A=19,C=2*S+1,I=15,R=16,D=7,k=256,B=16,q=17,X=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],re=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Te=new Array(2*(S+2));g(Te);var L=new Array(2*T);g(L);var ie=new Array(512);g(ie);var w=new Array(256);g(w);var ue=new Array(v);g(ue);var Y,J,ve,fe=new Array(T);function K(z,Z,ge,ye,ee){this.static_tree=z,this.extra_bits=Z,this.extra_base=ge,this.elems=ye,this.max_length=ee,this.has_stree=z&&z.length}function N(z,Z){this.dyn_tree=z,this.max_code=0,this.stat_desc=Z}function U(z){return z<256?ie[z]:ie[256+(z>>>7)]}function $(z,Z){z.pending_buf[z.pending++]=255&Z,z.pending_buf[z.pending++]=Z>>>8&255}function te(z,Z,ge){z.bi_valid>R-ge?(z.bi_buf|=Z<<z.bi_valid&65535,$(z,z.bi_buf),z.bi_buf=Z>>R-z.bi_valid,z.bi_valid+=ge-R):(z.bi_buf|=Z<<z.bi_valid&65535,z.bi_valid+=ge)}function oe(z,Z,ge){te(z,ge[2*Z],ge[2*Z+1])}function we(z,Z){for(var ge=0;ge|=1&z,z>>>=1,ge<<=1,0<--Z;);return ge>>>1}function Ue(z,Z,ge){var ye,ee,Se=new Array(I+1),xe=0;for(ye=1;ye<=I;ye++)Se[ye]=xe=xe+ge[ye-1]<<1;for(ee=0;ee<=Z;ee++){var be=z[2*ee+1];be!==0&&(z[2*ee]=we(Se[be]++,be))}}function _e(z){var Z;for(Z=0;Z<S;Z++)z.dyn_ltree[2*Z]=0;for(Z=0;Z<T;Z++)z.dyn_dtree[2*Z]=0;for(Z=0;Z<A;Z++)z.bl_tree[2*Z]=0;z.dyn_ltree[2*k]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function Ce(z){8<z.bi_valid?$(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function it(z,Z,ge,ye){var ee=2*Z,Se=2*ge;return z[ee]<z[Se]||z[ee]===z[Se]&&ye[Z]<=ye[ge]}function et(z,Z,ge){for(var ye=z.heap[ge],ee=ge<<1;ee<=z.heap_len&&(ee<z.heap_len&&it(Z,z.heap[ee+1],z.heap[ee],z.depth)&&ee++,!it(Z,ye,z.heap[ee],z.depth));)z.heap[ge]=z.heap[ee],ge=ee,ee<<=1;z.heap[ge]=ye}function kt(z,Z,ge){var ye,ee,Se,xe,be=0;if(z.last_lit!==0)for(;ye=z.pending_buf[z.d_buf+2*be]<<8|z.pending_buf[z.d_buf+2*be+1],ee=z.pending_buf[z.l_buf+be],be++,ye===0?oe(z,ee,Z):(oe(z,(Se=w[ee])+_+1,Z),(xe=F[Se])!==0&&te(z,ee-=ue[Se],xe),oe(z,Se=U(--ye),ge),(xe=re[Se])!==0&&te(z,ye-=fe[Se],xe)),be<z.last_lit;);oe(z,k,Z)}function zt(z,Z){var ge,ye,ee,Se=Z.dyn_tree,xe=Z.stat_desc.static_tree,be=Z.stat_desc.has_stree,De=Z.stat_desc.elems,tt=-1;for(z.heap_len=0,z.heap_max=C,ge=0;ge<De;ge++)Se[2*ge]!==0?(z.heap[++z.heap_len]=tt=ge,z.depth[ge]=0):Se[2*ge+1]=0;for(;z.heap_len<2;)Se[2*(ee=z.heap[++z.heap_len]=tt<2?++tt:0)]=1,z.depth[ee]=0,z.opt_len--,be&&(z.static_len-=xe[2*ee+1]);for(Z.max_code=tt,ge=z.heap_len>>1;1<=ge;ge--)et(z,Se,ge);for(ee=De;ge=z.heap[1],z.heap[1]=z.heap[z.heap_len--],et(z,Se,1),ye=z.heap[1],z.heap[--z.heap_max]=ge,z.heap[--z.heap_max]=ye,Se[2*ee]=Se[2*ge]+Se[2*ye],z.depth[ee]=(z.depth[ge]>=z.depth[ye]?z.depth[ge]:z.depth[ye])+1,Se[2*ge+1]=Se[2*ye+1]=ee,z.heap[1]=ee++,et(z,Se,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],(function(Fe,Lt){var tn,Jt,Mn,lt,xt,H,le=Lt.dyn_tree,Ee=Lt.max_code,Ie=Lt.stat_desc.static_tree,Ve=Lt.stat_desc.has_stree,qe=Lt.stat_desc.extra_bits,Pe=Lt.stat_desc.extra_base,Ae=Lt.stat_desc.max_length,Le=0;for(lt=0;lt<=I;lt++)Fe.bl_count[lt]=0;for(le[2*Fe.heap[Fe.heap_max]+1]=0,tn=Fe.heap_max+1;tn<C;tn++)Ae<(lt=le[2*le[2*(Jt=Fe.heap[tn])+1]+1]+1)&&(lt=Ae,Le++),le[2*Jt+1]=lt,Ee<Jt||(Fe.bl_count[lt]++,xt=0,Pe<=Jt&&(xt=qe[Jt-Pe]),H=le[2*Jt],Fe.opt_len+=H*(lt+xt),Ve&&(Fe.static_len+=H*(Ie[2*Jt+1]+xt)));if(Le!==0){do{for(lt=Ae-1;Fe.bl_count[lt]===0;)lt--;Fe.bl_count[lt]--,Fe.bl_count[lt+1]+=2,Fe.bl_count[Ae]--,Le-=2}while(0<Le);for(lt=Ae;lt!==0;lt--)for(Jt=Fe.bl_count[lt];Jt!==0;)Ee<(Mn=Fe.heap[--tn])||(le[2*Mn+1]!==lt&&(Fe.opt_len+=(lt-le[2*Mn+1])*le[2*Mn],le[2*Mn+1]=lt),Jt--)}})(z,Z),Ue(Se,tt,z.bl_count)}function b(z,Z,ge){var ye,ee,Se=-1,xe=Z[1],be=0,De=7,tt=4;for(xe===0&&(De=138,tt=3),Z[2*(ge+1)+1]=65535,ye=0;ye<=ge;ye++)ee=xe,xe=Z[2*(ye+1)+1],++be<De&&ee===xe||(be<tt?z.bl_tree[2*ee]+=be:ee!==0?(ee!==Se&&z.bl_tree[2*ee]++,z.bl_tree[2*B]++):be<=10?z.bl_tree[2*q]++:z.bl_tree[2*X]++,Se=ee,tt=(be=0)===xe?(De=138,3):ee===xe?(De=6,3):(De=7,4))}function he(z,Z,ge){var ye,ee,Se=-1,xe=Z[1],be=0,De=7,tt=4;for(xe===0&&(De=138,tt=3),ye=0;ye<=ge;ye++)if(ee=xe,xe=Z[2*(ye+1)+1],!(++be<De&&ee===xe)){if(be<tt)for(;oe(z,ee,z.bl_tree),--be!=0;);else ee!==0?(ee!==Se&&(oe(z,ee,z.bl_tree),be--),oe(z,B,z.bl_tree),te(z,be-3,2)):be<=10?(oe(z,q,z.bl_tree),te(z,be-3,3)):(oe(z,X,z.bl_tree),te(z,be-11,7));Se=ee,tt=(be=0)===xe?(De=138,3):ee===xe?(De=6,3):(De=7,4)}}g(fe);var se=!1;function G(z,Z,ge,ye){te(z,(m<<1)+(ye?1:0),3),(function(ee,Se,xe,be){Ce(ee),$(ee,xe),$(ee,~xe),c.arraySet(ee.pending_buf,ee.window,Se,xe,ee.pending),ee.pending+=xe})(z,Z,ge)}r._tr_init=function(z){se||((function(){var Z,ge,ye,ee,Se,xe=new Array(I+1);for(ee=ye=0;ee<v-1;ee++)for(ue[ee]=ye,Z=0;Z<1<<F[ee];Z++)w[ye++]=ee;for(w[ye-1]=ee,ee=Se=0;ee<16;ee++)for(fe[ee]=Se,Z=0;Z<1<<re[ee];Z++)ie[Se++]=ee;for(Se>>=7;ee<T;ee++)for(fe[ee]=Se<<7,Z=0;Z<1<<re[ee]-7;Z++)ie[256+Se++]=ee;for(ge=0;ge<=I;ge++)xe[ge]=0;for(Z=0;Z<=143;)Te[2*Z+1]=8,Z++,xe[8]++;for(;Z<=255;)Te[2*Z+1]=9,Z++,xe[9]++;for(;Z<=279;)Te[2*Z+1]=7,Z++,xe[7]++;for(;Z<=287;)Te[2*Z+1]=8,Z++,xe[8]++;for(Ue(Te,S+1,xe),Z=0;Z<T;Z++)L[2*Z+1]=5,L[2*Z]=we(Z,5);Y=new K(Te,F,_+1,S,I),J=new K(L,re,0,T,I),ve=new K(new Array(0),O,0,A,D)})(),se=!0),z.l_desc=new N(z.dyn_ltree,Y),z.d_desc=new N(z.dyn_dtree,J),z.bl_desc=new N(z.bl_tree,ve),z.bi_buf=0,z.bi_valid=0,_e(z)},r._tr_stored_block=G,r._tr_flush_block=function(z,Z,ge,ye){var ee,Se,xe=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=(function(be){var De,tt=4093624447;for(De=0;De<=31;De++,tt>>>=1)if(1&tt&&be.dyn_ltree[2*De]!==0)return d;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return h;for(De=32;De<_;De++)if(be.dyn_ltree[2*De]!==0)return h;return d})(z)),zt(z,z.l_desc),zt(z,z.d_desc),xe=(function(be){var De;for(b(be,be.dyn_ltree,be.l_desc.max_code),b(be,be.dyn_dtree,be.d_desc.max_code),zt(be,be.bl_desc),De=A-1;3<=De&&be.bl_tree[2*ce[De]+1]===0;De--);return be.opt_len+=3*(De+1)+5+5+4,De})(z),ee=z.opt_len+3+7>>>3,(Se=z.static_len+3+7>>>3)<=ee&&(ee=Se)):ee=Se=ge+5,ge+4<=ee&&Z!==-1?G(z,Z,ge,ye):z.strategy===4||Se===ee?(te(z,2+(ye?1:0),3),kt(z,Te,L)):(te(z,4+(ye?1:0),3),(function(be,De,tt,Fe){var Lt;for(te(be,De-257,5),te(be,tt-1,5),te(be,Fe-4,4),Lt=0;Lt<Fe;Lt++)te(be,be.bl_tree[2*ce[Lt]+1],3);he(be,be.dyn_ltree,De-1),he(be,be.dyn_dtree,tt-1)})(z,z.l_desc.max_code+1,z.d_desc.max_code+1,xe+1),kt(z,z.dyn_ltree,z.dyn_dtree)),_e(z),ye&&Ce(z)},r._tr_tally=function(z,Z,ge){return z.pending_buf[z.d_buf+2*z.last_lit]=Z>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&Z,z.pending_buf[z.l_buf+z.last_lit]=255&ge,z.last_lit++,Z===0?z.dyn_ltree[2*ge]++:(z.matches++,Z--,z.dyn_ltree[2*(w[ge]+_+1)]++,z.dyn_dtree[2*U(Z)]++),z.last_lit===z.lit_bufsize-1},r._tr_align=function(z){te(z,2,3),oe(z,k,Te),(function(Z){Z.bi_valid===16?($(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)})(z)}},{"../utils/common":41}],53:[function(l,a,r){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,a,r){(function(c){(function(d,h){if(!d.setImmediate){var g,m,v,_,S=1,T={},A=!1,C=d.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(d);I=I&&I.setTimeout?I:d,g={}.toString.call(d.process)==="[object process]"?function(B){process.nextTick(function(){D(B)})}:(function(){if(d.postMessage&&!d.importScripts){var B=!0,q=d.onmessage;return d.onmessage=function(){B=!1},d.postMessage("","*"),d.onmessage=q,B}})()?(_="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",k,!1):d.attachEvent("onmessage",k),function(B){d.postMessage(_+B,"*")}):d.MessageChannel?((v=new MessageChannel).port1.onmessage=function(B){D(B.data)},function(B){v.port2.postMessage(B)}):C&&"onreadystatechange"in C.createElement("script")?(m=C.documentElement,function(B){var q=C.createElement("script");q.onreadystatechange=function(){D(B),q.onreadystatechange=null,m.removeChild(q),q=null},m.appendChild(q)}):function(B){setTimeout(D,0,B)},I.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var q=new Array(arguments.length-1),X=0;X<q.length;X++)q[X]=arguments[X+1];var F={callback:B,args:q};return T[S]=F,g(S),S++},I.clearImmediate=R}function R(B){delete T[B]}function D(B){if(A)setTimeout(D,0,B);else{var q=T[B];if(q){A=!0;try{(function(X){var F=X.callback,re=X.args;switch(re.length){case 0:F();break;case 1:F(re[0]);break;case 2:F(re[0],re[1]);break;case 3:F(re[0],re[1],re[2]);break;default:F.apply(h,re)}})(q)}finally{R(B),A=!1}}}}function k(B){B.source===d&&typeof B.data=="string"&&B.data.indexOf(_)===0&&D(+B.data.slice(_.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Za<"u"?Za:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Eu)),Eu.exports}var cx=ux();const fx=ku(cx);let bu=null,Do=[],dx=null;const eg=()=>(bu||(bu=new(window.AudioContext||window.webkitAudioContext)),bu),_m=()=>{const i=eg();if(!(Do.length>0))try{i.state==="suspended"&&i.resume().catch(A=>console.error("Audio resume failed",A));const t=i.createGain();t.gain.value=.4,t.connect(i.destination),Do.push(t);const l=i.currentTime,a=i.createOscillator();a.type="sine",a.frequency.value=55;const r=i.createGain();r.gain.value=.3;const c=i.createOscillator();c.frequency.value=.05;const d=i.createGain();d.gain.value=.1,c.connect(d),d.connect(r.gain),a.connect(r),r.connect(t),a.start(l),c.start(l),Do.push(a,r,c,d);const h=i.createOscillator();h.type="sine",h.frequency.value=220;const g=i.createOscillator();g.type="sine",g.frequency.value=222;const m=i.createGain();m.gain.value=.05;const v=i.createStereoPanner(),_=i.createOscillator();_.frequency.value=.1,_.connect(v.pan),h.connect(m),g.connect(m),m.connect(v),v.connect(t),h.start(l),g.start(l),_.start(l),Do.push(h,g,m,v,_);const S=i.createOscillator();S.type="sine",S.frequency.value=60;const T=i.createGain();T.gain.value=0,S.connect(T),T.connect(t),S.start(l),Do.push(S,T),dx=window.setInterval(()=>{const A=i.currentTime,C=(I,R)=>{T.gain.cancelScheduledValues(I),T.gain.setValueAtTime(0,I),T.gain.linearRampToValueAtTime(R,I+.02),T.gain.exponentialRampToValueAtTime(.001,I+.3),S.frequency.cancelScheduledValues(I),S.frequency.setValueAtTime(80,I),S.frequency.exponentialRampToValueAtTime(40,I+.3)};C(A,.2),C(A+.3,.15)},3e3)}catch(t){console.error("BGM Start Error",t)}},Ut=i=>{try{const t=eg();t.state==="suspended"&&t.resume().catch(()=>{});const l=t.createOscillator(),a=t.createGain();l.connect(a),a.connect(t.destination);const r=t.currentTime;switch(i){case"click":l.type="sine",l.frequency.setValueAtTime(800,r),l.frequency.exponentialRampToValueAtTime(1200,r+.05),a.gain.setValueAtTime(.05,r),a.gain.exponentialRampToValueAtTime(.001,r+.05),l.start(r),l.stop(r+.05);break;case"open":l.type="triangle",l.frequency.setValueAtTime(300,r),l.frequency.linearRampToValueAtTime(500,r+.1),a.gain.setValueAtTime(.05,r),a.gain.linearRampToValueAtTime(0,r+.1),l.start(r),l.stop(r+.1);break;case"pickup":l.type="sine",l.frequency.setValueAtTime(440,r),l.frequency.linearRampToValueAtTime(880,r+.15),a.gain.setValueAtTime(.05,r),a.gain.linearRampToValueAtTime(0,r+.2),l.start(r),l.stop(r+.2);const c=t.createOscillator(),d=t.createGain();c.connect(d),d.connect(t.destination),c.type="square",c.frequency.setValueAtTime(220,r),c.frequency.linearRampToValueAtTime(440,r+.15),d.gain.setValueAtTime(.02,r),d.gain.linearRampToValueAtTime(0,r+.2),c.start(r),c.stop(r+.2);break;case"error":l.type="sawtooth",l.frequency.setValueAtTime(150,r),l.frequency.linearRampToValueAtTime(100,r+.2),a.gain.setValueAtTime(.05,r),a.gain.linearRampToValueAtTime(0,r+.2),l.start(r),l.stop(r+.2);break;case"success":const h=[523.25,659.25,783.99,1046.5],g=.1;h.forEach((m,v)=>{const _=t.createOscillator(),S=t.createGain();_.connect(S),S.connect(t.destination),_.type="triangle",_.frequency.value=m,S.gain.setValueAtTime(.05,r+v*.08),S.gain.exponentialRampToValueAtTime(.001,r+v*.08+.3),_.start(r+v*.08),_.stop(r+v*.08+.3)});break;case"transition":l.type="sine",l.frequency.setValueAtTime(100,r),l.frequency.exponentialRampToValueAtTime(50,r+.4),a.gain.setValueAtTime(.08,r),a.gain.linearRampToValueAtTime(0,r+.4),l.start(r),l.stop(r+.4);break}}catch(t){console.error("Audio error",t)}},Sm=i=>new Promise((t,l)=>{const a=new Image;a.crossOrigin="Anonymous",a.onload=()=>{const r=document.createElement("canvas");r.width=a.width,r.height=a.height;const c=r.getContext("2d");if(!c){l("No context");return}c.drawImage(a,0,0);const d=c.getImageData(0,0,r.width,r.height),h=d.data;for(let g=0;g<h.length;g+=4){const m=h[g],v=h[g+1],_=h[g+2];m>230&&v>230&&_>230&&(h[g+3]=0)}c.putImageData(d,0,0),t(r.toDataURL("image/png"))},a.onerror=l,a.src=i}),Uo=(i,t,l,a="cover")=>new Promise((r,c)=>{const d=new Image;d.crossOrigin="Anonymous",d.onload=()=>{const h=document.createElement("canvas");h.width=t,h.height=l;const g=h.getContext("2d");if(!g){c("No context");return}let m,v,_,S;if(a==="cover"){const T=Math.max(t/d.width,l/d.height);m=d.width*T,v=d.height*T,_=(t-m)/2,S=(l-v)/2}else{const T=Math.min(t/d.width,l/d.height);m=d.width*T,v=d.height*T,_=(t-m)/2,S=(l-v)/2}g.clearRect(0,0,t,l),g.drawImage(d,_,S,m,v),r(h.toDataURL("image/png"))},d.onerror=c,d.src=i}),tg=i=>{var m,v;if(!i||!i.initialState||!i.scenes)return{steps:[" : "],hasWon:!1};const t=[],l=new Set(Object.keys(i.initialState.flags||{}).filter(_=>i.initialState.flags[_])),a=new Set(i.initialState.inventory||[]),r=new Set;let c=!1,d=new Set([i.initialState.currentSceneId]),h=!0,g=0;for(;h&&g<100&&!c;){h=!1,g++;const _=Array.from(d);for(;_.length>0;){const S=_.shift(),T=i.scenes[S];if(!T)continue;let A=S;if(T.conditionalVariant){const I=T.conditionalVariant;let R=!0;I.requiredItemId&&!a.has(I.requiredItemId)&&(R=!1),I.requiredFlag&&!l.has(I.requiredFlag)&&(R=!1),R&&(A=I.targetSceneId,d.has(A)||(d.add(A),_.push(A),h=!0))}const C=i.scenes[A];C&&(C.exits||[]).forEach(I=>{const R=I.locked&&(!I.requiredFlag||!l.has(I.requiredFlag)),D=I.requiredFlag&&!l.has(I.requiredFlag);!R&&!D&&(d.has(I.targetSceneId)||(d.add(I.targetSceneId),_.push(I.targetSceneId),h=!0))})}for(const S of d){const T=i.scenes[S];if(T){for(const A of T.interactables||[]){const C=`${S}-${A.id}`;if(r.has(C)||A.hiddenIfFlag&&l.has(A.hiddenIfFlag)||A.requiredFlag&&!l.has(A.requiredFlag))continue;const I=A.requiredItemId,R=!I||a.has(I),D=A.itemRewardId,k=A.flagReward||A.isPuzzle&&i.puzzles&&((m=i.puzzles[A.puzzleId])==null?void 0:m.rewardFlag),B=A.winsGame||A.itemRewardId==="mysterious_artifact";if((D||k||B)&&R){if(r.add(C),h=!0,A.flagReward&&!l.has(A.flagReward)){l.add(A.flagReward);const q=I?(v=i.items[I])==null?void 0:v.name:"Hand";t.push(` [${T.title}]  [${q||""}]  "${A.name}" ->  "${A.flagReward}"`)}if(A.isPuzzle&&A.puzzleId&&i.puzzles){const q=i.puzzles[A.puzzleId];q&&!l.has(q.rewardFlag)&&(l.add(q.rewardFlag),t.push(` [${T.title}]  "${A.name}" (: ${q.answer}) ->  "${q.rewardFlag}"`))}if(A.itemRewardId&&!a.has(A.itemRewardId)){a.add(A.itemRewardId);const q=`found_${A.itemRewardId}`;l.add(q),A.hiddenIfFlag&&l.add(A.hiddenIfFlag);const X=i.items[A.itemRewardId];t.push(` [${T.title}]  "${A.name}"  [${(X==null?void 0:X.name)||A.itemRewardId}]`)}if(B){t.push(` [${T.title}]  "${A.name}"  ->  (Game Won)`),c=!0;break}}}if(c)break}}}return c||t.push("  ( 'winsGame' )"),{steps:t,hasWon:c}},hx=i=>{const{meta:t,initialState:l,scenes:a,items:r,puzzles:c}=i;return`
    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
    <head><meta charset='utf-8'><title>${t.name} - </title>
    <style>
        body { font-family: 'SimSun', '', serif; line-height: 1.5; }
        h1 { text-align: center; color: #333; }
        h2 { border-bottom: 2px solid #333; padding-bottom: 5px; margin-top: 30px; }
        h3 { background-color: #eee; padding: 5px; margin-top: 20px; }
        .section { margin-bottom: 20px; }
        .item-block, .scene-block { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }
        .label { font-weight: bold; color: #555; }
        .dialogue { font-style: italic; color: #004400; margin-left: 20px; }
        .condition { color: #880000; font-size: 0.9em; }
    </style>
    </head><body>
    
    <h1>${t.name} - </h1>
    
    <div class="section">
        <h2>1.  (Metadata)</h2>
        <p><span class="label">:</span> ${t.name}</p>
        <p><span class="label">:</span> ${t.author}</p>
        <p><span class="label">:</span> ${t.version}</p>
        <p><span class="label">:</span> ${t.description}</p>
    </div>

    <div class="section">
        <h2>2.  (Intro Story)</h2>
        <ul>
            ${l.log.map(h=>`<li>${h}</li>`).join("")}
        </ul>
    </div>

    <div class="section">
        <h2>3.  (Items)</h2>
        ${Object.values(r).map(h=>`
            <div class="item-block">
                <p><span class="label">:</span> ${h.name} (ID: ${h.id})</p>
                <p><span class="label">:</span> ${h.description}</p>
                <p><span class="label">:</span> ${h.type}</p>
            </div>
        `).join("")}
    </div>

    <div class="section">
        <h2>4.  (Puzzles)</h2>
        ${c?Object.values(c).map(h=>`
            <div class="item-block">
                <p><span class="label">ID:</span> ${h.id}</p>
                <p><span class="label">:</span> ${h.description}</p>
                <p><span class="label">:</span> ${h.answer}</p>
                <p><span class="label">:</span> ${h.rewardMessage}</p>
            </div>
        `).join(""):"<p></p>"}
    </div>

    <div class="section">
        <h2>5.  (Scenes & Interactions)</h2>
        ${Object.values(a).map(h=>`
            <div class="scene-block">
                <h3>: ${h.title} (ID: ${h.id})</h3>
                <p><span class="label">:</span> ${h.description}</p>
                
                <h4> (Interactables):</h4>
                ${h.interactables.map(g=>`
                    <div style="margin-left: 20px; border-left: 3px solid #ddd; padding-left: 10px; margin-bottom: 10px;">
                        <p><span class="label">:</span> ${g.name}</p>
                        <p><span class="label">:</span> ${g.description}</p>
                        ${g.dialogue?`<p class="label">:</p>${g.dialogue.map(m=>`<div class="dialogue">"${m}"</div>`).join("")}`:""}
                        ${g.lockedMessage?`<p><span class="label">:</span> ${g.lockedMessage}</p>`:""}
                        ${g.requiredItemId?`<p class="condition">[] : ${g.requiredItemId}</p>`:""}
                        ${g.isPuzzle?`<p class="condition">[] : ${g.puzzleId}</p>`:""}
                        ${g.winsGame?'<p style="color:red; font-weight:bold;">[] </p>':""}
                    </div>
                `).join("")}

                <h4> (Exits):</h4>
                <ul>
                ${h.exits.map(g=>`
                    <li>
                         [${g.label}] (Target: ${g.targetSceneId}) 
                        ${g.locked?"()":""}
                        ${g.requiredFlag?`[: ${g.requiredFlag}]`:""}
                    </li>
                `).join("")}
                </ul>
            </div>
        `).join("")}
    </div>

    <div style="text-align: center; margin-top: 50px; color: #999; font-size: 12px;">
        Generated by Shadow Truth Engine
    </div>

    </body></html>
    `},Yi=({src:i,fallback:t,className:l,alt:a,onLoadError:r})=>{const[c,d]=ze.useState(!1);ze.useEffect(()=>{d(!1)},[i]);const h=()=>{d(!0),r&&r()};return!i||i.length===0||c?x.jsx(x.Fragment,{children:t}):x.jsx("img",{src:i,alt:a||"Asset",className:l,onError:h})},px=({onStart:i,meta:t})=>x.jsxs("div",{className:"absolute inset-0 z-[100] bg-black flex flex-col items-center justify-center overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#1e1e1e_0%,#000000_100%)] opacity-50"}),x.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20 animate-pulse-slow"}),x.jsxs("div",{className:"z-10 text-center flex flex-col items-center gap-8 p-8 max-w-2xl w-full",children:[x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-amber-600 font-typewriter tracking-widest drop-shadow-[0_4px_10px_rgba(0,0,0,0.8)] border-b-2 border-amber-900/50 pb-4 leading-tight",children:t.name||""}),x.jsx("span",{className:"text-slate-500 font-mono tracking-[0.5em] text-sm uppercase",children:t.version?`v${t.version}`:""})]}),x.jsx("p",{className:"text-slate-400 text-lg italic max-w-md leading-relaxed",children:t.description||""}),x.jsxs("button",{onClick:i,className:"mt-8 px-12 py-4 border border-amber-600 text-amber-500 text-xl font-bold hover:bg-amber-900/20 hover:text-amber-400 hover:scale-105 transition-all duration-300 uppercase tracking-widest group relative overflow-hidden",children:[x.jsx("span",{className:"relative z-10",children:""}),x.jsx("div",{className:"absolute inset-0 bg-amber-600/10 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"})]}),x.jsxs("div",{className:"mt-12 text-slate-600 text-xs font-mono",children:[" 2025 ",t.author||"Unknown"," | "]})]})]}),mx=({logs:i})=>{const[t,l]=ze.useState(null),a=ze.useRef(null);return ze.useEffect(()=>{if(i.length===0)return;const r=i[i.length-1];return l(r),a.current&&window.clearTimeout(a.current),a.current=window.setTimeout(()=>{l(null)},3500),()=>{a.current&&window.clearTimeout(a.current)}},[i]),t?x.jsx("div",{className:"absolute bottom-32 left-0 w-full pointer-events-none z-40 flex justify-center",children:x.jsx("div",{className:"bg-black/60 backdrop-blur-md border border-amber-900/30 px-6 py-3 rounded-lg max-w-xl text-center animate-fade-in shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:x.jsx("p",{className:"text-lg font-typewriter text-amber-100 tracking-wide drop-shadow-md",children:t})})}):null},gx=({items:i,selectedItemId:t,onSelectItem:l})=>x.jsxs("div",{className:"bg-slate-900/95 border-t border-slate-700 p-2 h-24 flex items-center gap-4 overflow-x-auto z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.5)]",children:[x.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold mr-2 pl-2",children:""}),i.length===0&&x.jsx("span",{className:"text-slate-600 text-sm italic",children:""}),i.map(a=>x.jsx("button",{onClick:()=>l(a.id),className:`
            relative flex-shrink-0 w-16 h-16 rounded border-2 flex items-center justify-center bg-slate-800 transition-all overflow-hidden group
            ${t===a.id?"border-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.5)] scale-105":"border-slate-600 hover:border-slate-400"}
          `,title:a.name,children:x.jsx(Yi,{src:a.image,alt:a.name,className:"w-full h-full object-contain p-1 group-hover:scale-110 transition-transform",fallback:x.jsx("span",{className:"text-3xl",children:a.icon})})},a.id))]}),yx=({interactables:i,onInteract:t})=>x.jsx(x.Fragment,{children:i.map(l=>x.jsx("button",{onClick:()=>t(l),className:"absolute border border-transparent hover:border-amber-500/30 transition-all duration-300 cursor-pointer group flex items-center justify-center rounded-lg",style:{left:`${l.x}%`,top:`${l.y}%`,width:`${l.width}%`,height:`${l.height}%`,zIndex:5,transformStyle:"preserve-3d",transform:`rotate(${l.rotation||0}deg) rotateY(${l.rotationY||0}deg)`},"aria-label":l.name,children:x.jsx("div",{className:"relative w-full h-full flex items-center justify-center transition-all duration-300",style:{filter:`brightness(${l.brightness??1}) drop-shadow(0 0 5px rgba(0,0,0,0.5))`},children:x.jsx(Yi,{src:l.image,alt:l.name,className:"w-full h-full object-fill pointer-events-none select-none",fallback:l.icon?x.jsx("div",{className:"text-4xl filter drop-shadow-[0_0_10px_rgba(255,255,255,0.3)] transition-transform",children:l.icon}):x.jsx("div",{className:"w-full h-full bg-white/0 hover:bg-white/5"})})})},l.id))}),vx=({scene:i,onUpdateInteractable:t})=>{const l=ze.useRef(null),[a,r]=ze.useState(null),[c,d]=ze.useState(null),h=(m,v,_,S)=>{m.stopPropagation(),m.preventDefault(),r(v),d({id:v,type:_,startX:m.clientX,startY:m.clientY,startValX:S.x,startValY:S.y,startValW:S.width,startValH:S.height,startRot:S.rotation||0,startRotY:S.rotationY||0})};ze.useEffect(()=>{const m=_=>{if(!c||!l.current)return;const S=l.current.getBoundingClientRect(),T=_.clientX-c.startX,A=_.clientY-c.startY,C=T/S.width*100,I=A/S.height*100;if(c.type==="move")t(c.id,{x:Number(Math.max(0,Math.min(100,c.startValX+C)).toFixed(1)),y:Number(Math.max(0,Math.min(100,c.startValY+I)).toFixed(1))});else if(c.type==="resize-w")t(c.id,{width:Number(Math.max(2,c.startValW+C).toFixed(1))});else if(c.type==="resize-h")t(c.id,{height:Number(Math.max(2,c.startValH+I).toFixed(1))});else if(c.type==="resize")t(c.id,{width:Number(Math.max(2,c.startValW+C).toFixed(1)),height:Number(Math.max(2,c.startValH+I).toFixed(1))});else if(c.type==="rotate-2d"){const D=T-A,k=Math.round(c.startRot+D*.5);t(c.id,{rotation:k})}else if(c.type==="rotate-3d"){const D=Math.round(c.startRotY+T*.5),k=Math.max(-85,Math.min(85,D));t(c.id,{rotationY:k})}},v=()=>{d(null)};return c&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}},[c,t]);const g=i.interactables.find(m=>m.id===a);return x.jsxs("div",{ref:l,className:"absolute inset-0 z-50 pointer-events-none",style:{transformStyle:"preserve-3d"},children:[x.jsx("div",{className:"absolute top-2 right-2 bg-black/80 text-amber-500 p-2 text-xs font-mono pointer-events-auto border border-amber-500/50 rounded",children:" (T)"}),g&&x.jsxs("div",{className:"absolute top-14 right-4 bg-slate-900/90 border border-slate-600 p-3 rounded z-50 pointer-events-auto w-56 text-xs text-slate-300 shadow-xl backdrop-blur-sm max-h-[80vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-slate-700",children:[x.jsx("span",{className:"font-bold text-amber-500 truncate w-32",children:g.name}),x.jsx("button",{onClick:()=>r(null),className:"text-slate-400 hover:text-white",children:""})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-1",children:[x.jsx("label",{children:""}),x.jsx("span",{className:"text-yellow-400",children:g.brightness??1})]}),x.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:g.brightness??1,onChange:m=>t(g.id,{brightness:parseFloat(m.target.value)}),className:"w-full accent-yellow-500 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-1",children:[x.jsx("label",{children:" (2D)"}),x.jsxs("span",{className:"text-amber-500",children:[g.rotation||0,""]})]}),x.jsx("input",{type:"range",min:"-180",max:"180",value:g.rotation||0,onChange:m=>t(g.id,{rotation:parseInt(m.target.value)}),className:"w-full accent-amber-600 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between mb-1",children:[x.jsx("label",{children:" (Y 3D)"}),x.jsxs("span",{className:"text-blue-500",children:[g.rotationY||0,""]})]}),x.jsx("input",{type:"range",min:"-90",max:"90",value:g.rotationY||0,onChange:m=>t(g.id,{rotationY:parseInt(m.target.value)}),className:"w-full accent-blue-600 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-slate-700",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] text-slate-500",children:"X Position %"}),x.jsx("input",{type:"number",value:g.x,onChange:m=>t(g.id,{x:Number(m.target.value)}),className:"w-full bg-black border border-slate-700 rounded px-1 py-1 text-right text-green-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] text-slate-500",children:"Y Position %"}),x.jsx("input",{type:"number",value:g.y,onChange:m=>t(g.id,{y:Number(m.target.value)}),className:"w-full bg-black border border-slate-700 rounded px-1 py-1 text-right text-green-500"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] text-slate-500",children:"Width %"}),x.jsx("input",{type:"number",value:g.width,onChange:m=>t(g.id,{width:Number(m.target.value)}),className:"w-full bg-black border border-slate-700 rounded px-1 py-1 text-right text-green-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] text-slate-500",children:"Height %"}),x.jsx("input",{type:"number",value:g.height,onChange:m=>t(g.id,{height:Number(m.target.value)}),className:"w-full bg-black border border-slate-700 rounded px-1 py-1 text-right text-green-500"})]})]})]})]}),i.interactables.map(m=>x.jsxs("div",{className:`absolute border-2 border-dashed pointer-events-auto cursor-move group transition-transform flex items-center justify-center ${a===m.id?"border-amber-400 bg-amber-500/20 z-50":"border-slate-500/50 hover:border-amber-500/50"}`,style:{left:`${m.x}%`,top:`${m.y}%`,width:`${m.width}%`,height:`${m.height}%`,transformStyle:"preserve-3d",transform:`rotate(${m.rotation||0}deg) rotateY(${m.rotationY||0}deg)`},onMouseDown:v=>h(v,m.id,"move",m),children:[x.jsx("div",{className:"pointer-events-none w-full h-full flex items-center justify-center relative",style:{filter:`brightness(${m.brightness??1})`},children:x.jsx(Yi,{src:m.image,alt:m.name,className:"w-full h-full object-fill filter drop-shadow-[0_0_4px_rgba(255,255,255,0.2)]",fallback:x.jsx("span",{className:"text-3xl filter drop-shadow-[0_0_5px_rgba(255,255,255,0.2)]",children:m.icon||""})})}),a===m.id&&x.jsx("span",{className:"absolute -top-6 left-0 bg-amber-500 text-black text-xs px-1 font-bold whitespace-nowrap z-50",children:m.name}),x.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-amber-500 cursor-se-resize hover:scale-125 transition-transform z-10",onMouseDown:v=>h(v,m.id,"resize",m),title:"Resize (Scale)"}),x.jsx("div",{className:"absolute top-1/2 right-0 w-2 h-6 -translate-y-1/2 bg-amber-500/50 cursor-e-resize hover:bg-amber-500 z-10",onMouseDown:v=>h(v,m.id,"resize-w",m),title:"Resize Width"}),x.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-6 h-2 bg-amber-500/50 cursor-s-resize hover:bg-amber-500 z-10",onMouseDown:v=>h(v,m.id,"resize-h",m),title:"Resize Height"}),x.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-blue-500 rounded-full cursor-grab hover:scale-125 transition-transform z-20 shadow-sm border border-white/20 flex items-center justify-center text-[8px] text-white font-bold",onMouseDown:v=>h(v,m.id,"rotate-2d",m),title:"Rotate 2D",children:""}),x.jsx("div",{className:"absolute -bottom-2 -left-2 w-5 h-5 bg-green-500 rounded-full cursor-ew-resize hover:scale-125 transition-transform z-20 shadow-sm border border-white/20 flex items-center justify-center text-[8px] text-white font-bold",onMouseDown:v=>h(v,m.id,"rotate-3d",m),title:"Rotate 3D (Y-Axis)",children:"3D"})]},m.id))]})},_x=({gameData:i})=>{const[t,l]=ze.useState([]);return ze.useEffect(()=>{var _;if(!i||!i.scenes||!i.initialState){l([" "]);return}const a=[],{scenes:r,items:c,initialState:d}=i,h=Object.keys(r);r[d.currentSceneId]||a.push(`  ID "${d.currentSceneId}" `);const g=new Set;Object.values(r).forEach(S=>{var T;(T=S.conditionalVariant)!=null&&T.requiredItemId&&g.add(S.conditionalVariant.requiredItemId),(S.interactables||[]).forEach(A=>{A.requiredItemId&&g.add(A.requiredItemId),A.itemRewardId&&g.add(A.itemRewardId)})}),g.forEach(S=>{(!c||!c[S])&&a.push(`  ID "${S}"`)});const m=new Set,v=[d.currentSceneId];for(m.add(d.currentSceneId);v.length>0;){const S=v.shift(),T=r[S];T&&((T.exits||[]).forEach(A=>{!m.has(A.targetSceneId)&&r[A.targetSceneId]&&(m.add(A.targetSceneId),v.push(A.targetSceneId))}),(_=T.conditionalVariant)!=null&&_.targetSceneId&&!m.has(T.conditionalVariant.targetSceneId)&&r[T.conditionalVariant.targetSceneId]&&(m.add(T.conditionalVariant.targetSceneId),v.push(T.conditionalVariant.targetSceneId)))}h.forEach(S=>{m.has(S)||a.push(`  "${S}" (${r[S].title}) `)}),a.length===0?l([" "]):l(a)},[i]),x.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-4 rounded text-sm font-mono overflow-y-auto max-h-[300px]",children:[x.jsx("h4",{className:"text-amber-500 font-bold mb-2 border-b border-slate-700 pb-1",children:""}),x.jsx("ul",{className:"space-y-1",children:t.map((a,r)=>x.jsx("li",{className:a.includes("")?"text-red-400":a.includes("")?"text-orange-300":"text-slate-400",children:a},r))})]})},Sx=({gameData:i})=>{const[t,l]=ze.useState(null);if(ze.useEffect(()=>{if(!i||!i.scenes||!i.initialState)return;const{scenes:T,initialState:A}=i,C=A.currentSceneId;if(!T[C])return;const I=120,R=60,D=60,k=60,B=I+D,q=R+k,X=new Map,F=[],re=[{id:C,gx:0,gy:0}];X.set(C,{x:0,y:0,id:C,title:T[C].title});const O=new Set;for(;re.length>0;){const{id:w,gx:ue,gy:Y}=re.shift();if(O.has(w))continue;O.add(w);const J=T[w];J&&(J.exits||[]).forEach(ve=>{var we;let fe=0,K=0;ve.direction==="north"?K=-1:ve.direction==="south"?K=1:ve.direction==="west"?fe=-1:ve.direction==="east"&&(fe=1);const N=ue+fe,U=Y+K,$=ve.targetSceneId;X.has($)||(X.set($,{x:N*B,y:U*q,id:$,title:((we=T[$])==null?void 0:we.title)||$}),re.push({id:$,gx:N,gy:U}));const te=X.get(w),oe=X.get($);F.push({x1:te.x,y1:te.y,x2:oe.x,y2:oe.y,dir:ve.direction,locked:!!ve.locked})})}const ce=Array.from(X.values());if(ce.length===0)return;const Te=ce.map(w=>w.x),L=ce.map(w=>w.y),ie={minX:Math.min(...Te),maxX:Math.max(...Te),minY:Math.min(...L),maxY:Math.max(...L)};l({nodes:ce,links:F,bounds:ie})},[i]),!t)return x.jsx("div",{className:"text-slate-500 p-4 border border-slate-700 rounded h-full flex items-center justify-center",children:"..."});const{nodes:a,links:r,bounds:c}=t,d=60,h=120,g=60,m=c.maxX-c.minX+h+d*2,v=c.maxY-c.minY+g+d*2,_=-c.minX+d,S=-c.minY+d;return x.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-4 rounded overflow-hidden flex flex-col col-span-1 md:col-span-2 aspect-square",children:[x.jsx("h4",{className:"text-blue-500 font-bold mb-2 border-b border-slate-700 pb-1",children:" (World Map)"}),x.jsx("div",{className:"overflow-auto bg-slate-950/50 rounded border border-slate-800 relative flex-1 w-full h-full scrollbar-thin scrollbar-thumb-slate-700",children:x.jsxs("svg",{width:m,height:v,className:"block",children:[x.jsxs("defs",{children:[x.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:x.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#64748b"})}),x.jsx("marker",{id:"arrowhead-locked",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:x.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#ef4444"})})]}),x.jsxs("g",{transform:`translate(${_}, ${S})`,children:[r.map((T,A)=>{const C=T.x1+h/2,I=T.y1+g/2,R=T.x2+h/2,D=T.y2+g/2;let k=R,B=D;return Math.abs(R-C)>Math.abs(D-I)?R>C?k=R-h/2:k=R+h/2:D>I?B=D-g/2:B=D+g/2,x.jsx("g",{children:x.jsx("line",{x1:C,y1:I,x2:k,y2:B,stroke:T.locked?"#ef4444":"#475569",strokeWidth:"2",markerEnd:T.locked?"url(#arrowhead-locked)":"url(#arrowhead)",strokeDasharray:T.locked?"4":"0"})},A)}),a.map(T=>{const A=i.initialState.currentSceneId===T.id;return x.jsxs("g",{transform:`translate(${T.x}, ${T.y})`,children:[x.jsx("rect",{width:h,height:g,rx:"4",fill:A?"rgba(245, 158, 11, 0.1)":"#1e293b",stroke:A?"#f59e0b":"#334155",strokeWidth:A?2:1,className:"transition-colors duration-300"}),x.jsx("foreignObject",{width:h,height:g,style:{pointerEvents:"none"},children:x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-1",children:[x.jsx("div",{className:`text-[10px] font-bold leading-tight line-clamp-1 ${A?"text-amber-500":"text-slate-300"}`,children:T.title}),x.jsx("div",{className:"text-[8px] text-slate-500 font-mono mt-0.5 truncate w-full px-1",children:T.id})]})})]},T.id)})]})]})}),x.jsxs("div",{className:"text-[9px] text-slate-500 mt-2 flex justify-between items-center px-1",children:[x.jsx("span",{children:"*  N/S/E/W "}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("span",{className:"w-2 h-2 bg-slate-800 border border-amber-500 rounded-sm"})," "]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("span",{className:"w-2 h-2 bg-slate-700 rounded-sm"})," "]})]})]})]})},Tx=({gameData:i})=>{const[t,l]=ze.useState([]);return ze.useEffect(()=>{const{steps:a}=tg(i);l(a)},[i]),x.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-4 rounded overflow-auto max-h-[400px] col-span-1 md:col-span-2",children:[x.jsx("h4",{className:"text-green-500 font-bold mb-2 border-b border-slate-700 pb-1",children:" (Walkthrough Simulator)"}),x.jsx("p",{className:"text-xs text-slate-500 mb-2",children:""}),x.jsx("div",{className:"space-y-1 font-mono text-xs",children:t.map((a,r)=>x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("span",{className:"text-slate-600 min-w-[20px]",children:[r+1,"."]}),x.jsx("span",{className:a.includes("")?"text-red-400 font-bold":a.includes("")?"text-yellow-400 font-bold":"text-slate-300",children:a})]},r))})]})},Tm=({gameData:i,setGameData:t,setGameState:l,onClose:a,onApplyAsset:r})=>{const[c,d]=ze.useState("settings"),[h,g]=ze.useState(null),[m,v]=ze.useState({}),[_,S]=ze.useState(!0),[T,A]=ze.useState(null),[C,I]=ze.useState(null),[R,D]=ze.useState(""),[k,B]=ze.useState(""),[q,X]=ze.useState({sceneCount:4,itemCount:4,puzzleCount:1,requiredItems:"",requiredScenes:""}),[F,re]=ze.useState("gemini-2.5-flash-image"),[O,ce]=ze.useState(""),[Te,L]=ze.useState(""),[ie,w]=ze.useState(null),[ue,Y]=ze.useState(null);ze.useEffect(()=>{var H,le,Ee,Ie;(le=(H=i.marketing)==null?void 0:H.iconUrl)!=null&&le.startsWith("data:")&&w(i.marketing.iconUrl),(Ie=(Ee=i.marketing)==null?void 0:Ee.bannerUrl)!=null&&Ie.startsWith("data:")&&Y(i.marketing.bannerUrl)},[]);const[J,ve]=ze.useState({icon:"",banner:""}),[fe,K]=ze.useState(""),[N,U]=ze.useState(new Set),[$,te]=ze.useState([]),oe=ze.useRef(null),we=i.scenes,Ue=i.items;ze.useEffect(()=>{oe.current&&(oe.current.scrollTop=oe.current.scrollHeight)},[$,c]);const _e=H=>{const le=new Date().toLocaleTimeString();te(Ee=>[`[${le}] ${H}`,...Ee.slice(0,99)])},Ce=H=>{I({type:"alert",message:H,onConfirm:()=>I(null)})},it=(H,le)=>{I({type:"confirm",message:H,onConfirm:()=>{le(),I(null)},onCancel:()=>I(null)})},et=(H,le)=>{if(!le){Ce("");return}const Ee=document.createElement("a");Ee.href=le,Ee.download=H,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),_e(` Downloaded: ${H}`)},kt=(H,le,Ee)=>{const Ie=H==="scene"?$m(le,Ee):Wm(le,Ee);navigator.clipboard.writeText(Ie).then(()=>{Ce(`
 AI `),_e(` Copied prompt for: ${le}`)}).catch(Ve=>{console.error("Copy failed",Ve),Ce("")})},zt=async()=>{var Le,ot;const H=new fx,le=H.folder("assets"),Ee=JSON.parse(JSON.stringify(i)),Ie=[],Ve=async(Be,at,pt)=>{if(!at||at.trim()===""){Ie.push(`${pt}: ${Be} (Image Not Generated/Set)`);return}const Gt=`${pt==="icon"||pt==="banner"?"game":pt}_${Be}.png`;let cn=!1,Dn=at;if(at.startsWith("data:")){try{pt==="scene"||pt==="banner"?Dn=await Uo(at,1920,1080):pt==="item"?Dn=await Uo(at,512,512,"contain"):pt==="icon"&&(Dn=await Uo(at,512,512))}catch{}const vt=Dn.split(",")[1];vt&&(le==null||le.file(Gt,vt,{base64:!0}),cn=!0)}else if(at.startsWith("./assets/")||at.startsWith("http"))try{const vt=await fetch(at,{method:"GET"});if(vt.ok){const Ct=await vt.blob();le==null||le.file(Gt,Ct),cn=!0}else Ie.push(`${pt}: ${Be} (404 Not Found)`)}catch{Ie.push(`${pt}: ${Be} (Fetch Error)`)}else at.length>0&&Ie.push(`${pt}: ${Be} (Invalid Source)`);return cn?`./assets/${Gt}`:at};for(const Be of Object.values(Ee.scenes)){const at=await Ve(Be.id,Be.imageUrl,"scene");at&&(Be.imageUrl=at);for(const pt of Be.interactables)if(pt.image){const Gt=await Ve(`${Be.id}_${pt.id}`,pt.image,"item");Gt&&(pt.image=Gt)}}for(const Be of Object.values(Ee.items)){const at=await Ve(Be.id,Be.image,"item");at&&(Be.image=at)}ie?await Ve("icon_512",ie,"icon"):(Le=Ee.marketing)!=null&&Le.iconUrl||Ie.push("Marketing: Icon (Missing)"),ue?await Ve("banner_1080",ue,"banner"):(ot=Ee.marketing)!=null&&ot.bannerUrl||Ie.push("Marketing: Banner (Missing)"),Ee.marketing={iconUrl:ie?"./assets/game_icon_512.png":"",bannerUrl:ue?"./assets/game_banner_1080.png":""},le==null||le.file("game.json",JSON.stringify(Ee,null,2));try{const Be=hx(i);H.file("game_script_audit.doc",Be)}catch{}const qe=await H.generateAsync({type:"blob"}),Pe=(i.meta.name||"game").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_"),Ae=(i.meta.author||"unknown").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");return{blob:qe,filename:`${Pe}-${Ae}.zip`,missingAssets:Ie}},b=async()=>{g("ZIPPING"),_e(" Zipping package...");try{const H=await zt();if(H){const le=window.URL.createObjectURL(H.blob),Ee=document.createElement("a");Ee.href=le,Ee.download=H.filename,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),window.URL.revokeObjectURL(le),H.missingAssets.length>0?(_e(" Package downloaded but with missing assets."),Ce(` ()

${H.missingAssets.slice(0,5).join(`
`)}${H.missingAssets.length>5?`
...`:""}`)):_e(" Download started.")}}catch(H){console.error(H),Ce("")}finally{g(null)}},he=async()=>{const H=[],{meta:le,scenes:Ee,items:Ie}=i;if((!le.name||le.name.trim()==="")&&H.push(""),(!le.author||le.author.trim()==="")&&H.push(""),(!le.description||le.description.trim()==="")&&H.push(""),ie||H.push(" App Icon ()"),ue||H.push(" Banner ()"),tg(i).hasWon||H.push(" ()"),H.length>0){Ce(` 

`+H.map(Ae=>" "+Ae).join(`
`));return}const qe=window.location.protocol==="https:",Pe="http://zeros.group:8864/api/upload";qe&&_e(" Warning: Protocol Mismatch (HTTPS -> HTTP). Browser may block upload."),it(qe?`  HTTPS  HTTP
 (Mixed Content)

 http:// 

`:" Zeros Universe ",async()=>{g("UPLOADING"),_e(" Preparing upload package and validating assets...");try{const Ae=await zt();if(!Ae)throw new Error("Zip creation failed");if(Ae.missingAssets.length>0)throw new Error(` ${Ae.missingAssets.length} 


:
${Ae.missingAssets.slice(0,3).join(`
`)}...`);const Le=new FormData;Le.append("file",Ae.blob,Ae.filename),_e(` Uploading to ${Pe}...`);const ot=await fetch(Pe,{method:"POST",body:Le,mode:"cors"});if(!ot.ok)throw new Error(`Server responded with ${ot.status} ${ot.statusText}`);const Be=await ot.json();if(Be.code===200)_e(" Upload Successful!"),Ce(` 

: ${Ae.filename}
: ${(Ae.blob.size/1024).toFixed(2)} KB
ID: ${Be.data.file_id}`);else throw new Error(Be.message||"Unknown server error")}catch(Ae){console.error(Ae);let Le=Ae.message;Ae.message==="Failed to fetch"&&(qe?Le+=`

[]  (Mixed Content) 
 HTTPS  HTTP 


1.  HTTP  (http://localhost...)
2. `:Le+=`

[]  CORS 
 (zeros.group:8864) `),_e(` Upload failed: ${Le}`),Ce(`: ${Le}`)}finally{g(null)}})},se=()=>{if(!T)return;const{id:H,name:le,desc:Ee}=T;t(Ie=>{const Ve={...Ie};return Ve.items[H]&&(Ve.items[H]={...Ve.items[H],name:le,description:Ee}),Ve.scenes[H]&&(Ve.scenes[H]={...Ve.scenes[H],title:le,description:Ee}),Object.keys(Ve.scenes).forEach(qe=>{Ve.scenes[qe].interactables=Ve.scenes[qe].interactables.map(Pe=>Pe.id===H?{...Pe,name:le,description:Ee}:Pe)}),Ve}),_e(` Updated asset text for: ${le}`),A(null)},G=H=>{console.error(H);let le=H.toString();if(H.message&&(le=H.message),H.response&&H.response.data)try{le+=` | Raw Server Error: ${JSON.stringify(H.response.data)}`}catch{}_e(` ERROR: ${le}`),le.includes("403")||le.includes("PERMISSION_DENIED")?Ce(`API  (403 Permission Denied)

: ${le}


1.  API Key  Imagen/Vertex AI 
2.  Google Cloud Imagen 
3. 

 API Key  'Gemini 2.5 Flash' `):Ce(`

: ${le}

Base URL  ( /v1 )  Key `)},z=async()=>{if(window.aistudio)try{await window.aistudio.openSelectKey(),Ce("API Key Updated! System will now use the new key."),_e(" System API Key updated.")}catch(H){console.error(H),Ce("Failed to open key selector.")}else Ce("API Key selection not supported in this environment.")},Z=()=>{const H=`${jm}

USER REQUEST: Generate a game with this theme: ${R||"(No theme specified)"}
STYLE: ${k}`;navigator.clipboard.writeText(H).then(()=>{Ce(`System Prompt + User Input

 ChatGPT (o1/4o), Claude 3.5 Sonnet,  DeepSeek R1  JSON `),_e(" Prompt copied to clipboard.")}).catch(le=>{console.error("Failed to copy",le),Ce("")})};ze.useEffect(()=>{ve({icon:ym("icon",i.meta.name,i.meta.description,k),banner:ym("promo",i.meta.name,i.meta.description,k)})},[i.meta.name,i.meta.description,k]);const ge=H=>{if(F==="vectorengine-flash")return H==="image"?Xa.IMAGE_FLASH:Xa.TEXT;if(F==="vectorengine-pro")return H==="image"?Xa.IMAGE_PRO:Xa.TEXT;if(Te&&Te.trim().length>0)return Te.trim()},ye=()=>F==="vectorengine-flash"||F==="vectorengine-pro"?"vectorengine-custom":F,ee=async(H,le,Ee)=>{const Ie=ge("image"),Ve=ye();_e(` Requesting Scene: "${le}" (${Ve})`);try{const qe=await lx(le,Ee,Ve,O,Ie);if(qe){const Pe=await Uo(qe,1280,720);v(Ae=>({...Ae,[H]:Pe})),U(Ae=>{const Le=new Set(Ae);return Le.delete(H),Le}),_e(` Scene "${le}" generated successfully.`),_&&(r(H,"scene",Pe),_e(` Auto-applied scene: ${le}`))}return qe}catch(qe){return G(qe),null}},Se=async(H,le,Ee)=>{const Ie=ge("image"),Ve=ye();_e(` Requesting Item: "${le}" (${Ve})`);try{const qe=await ox(le,Ee,Ve,O,Ie);let Pe=qe;if(qe){try{_e(` Removing background for "${le}"...`),Pe=await Sm(qe),Pe=await Uo(Pe,512,512,"contain"),v(Ae=>({...Ae,[H]:Pe})),U(Ae=>{const Le=new Set(Ae);return Le.delete(H),Le}),_e(` Item "${le}" generated and processed.`)}catch{v(Le=>({...Le,[H]:qe})),_e(` Background removal failed for "${le}", using raw image.`)}Pe&&_&&(r(H,"item",Pe),_e(` Auto-applied item: ${le}`))}return Pe}catch(qe){return G(qe),null}},xe=async(H,le,Ee)=>{g(H),await ee(H,le,Ee),g(null)},be=async(H,le,Ee)=>{g(H),await Se(H,le,Ee),g(null)},De=async H=>{const le=H==="icon"?J.icon:J.banner,Ee=H==="icon"?"1:1":"16:9";g(`marketing-${H}`);const Ie=ge("image"),Ve=ye();_e(` Requesting Marketing (${H})`);const qe=await ax(le,Ee,Ve,O,Ie);qe?(H==="icon"?(w(qe),r("marketing-icon","marketing",qe)):(Y(qe),r("marketing-banner","marketing",qe)),_e(` Marketing asset (${H}) generated.`)):(_e(" Generation returned null. Check console for details."),Ce(" API Key ")),g(null)},tt=async()=>{g("RANDOM_CONCEPT"),_e(" Generating random game concept...");const H=ge("text"),le=await sx(O,H);le?(D(le.theme),X(Ee=>({...Ee,requiredItems:le.items.join(", "),requiredScenes:le.scenes.join(", ")})),_e(" Random concept generated."),Ut("success")):(_e(" Failed to generate random concept."),Ce(" Key")),g(null)},Fe=async()=>{if(!R.trim()){Ce("");return}it("",async()=>{g("GAME_CONFIG");const H=ge("text");_e(" Generating New Game Config...");const le={sceneCount:q.sceneCount,itemCount:q.itemCount,puzzleCount:q.puzzleCount,requiredItems:q.requiredItems.split(/[,\n]/).map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0),requiredScenes:q.requiredScenes.split(/[,\n]/).map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0)},Ee=await rx(R,k,le,O,H);Ee?(t(Ee),l&&l(Ee.initialState),v({}),U(new Set),w(null),Y(null),_e(` New Game "${Ee.meta.name}" Loaded!`),Ce(` "${Ee.meta.name}" 
AI `)):(_e(" Game Config Generation Failed."),Ce(" API Key")),g(null)})},Lt=async()=>{if(c==="marketing"||c==="settings"||c==="analysis"||c==="designer"||c==="logs"||c==="help")return;let H=[];if(c==="scenes")H=Object.values(we).map(Ie=>({id:Ie.id,name:Ie.title,desc:Ie.description,originalImage:Ie.imageUrl,type:"scene"})).filter(Ie=>!m[Ie.id]&&(!Ie.originalImage||N.has(Ie.id)));else{const Ie=Object.values(Ue).map(Ae=>({id:Ae.id,name:Ae.name,desc:Ae.description,originalImage:Ae.image,type:"item"})),qe=Object.values(we).flatMap(Ae=>{var Le;return((Le=Ae.interactables)==null?void 0:Le.map(ot=>({id:ot.id,name:ot.name,desc:ot.description,originalImage:ot.image,type:"item"})))||[]});H=[...Ie,...qe].filter((Ae,Le,ot)=>ot.findIndex(Be=>Be.id===Ae.id)===Le).filter(Ae=>!m[Ae.id]&&(!Ae.originalImage||N.has(Ae.id)))}if(H.length===0){Ce("");return}g("BATCH"),_e(` Starting Batch Generation (${H.length} items)...`);let le=0;for(const Ee of H)le++,K(`(${le}/${H.length}) ${Ee.name}`),Ee.type==="scene"?await ee(Ee.id,Ee.name,Ee.desc):await Se(Ee.id,Ee.name,Ee.desc),await new Promise(Ie=>setTimeout(Ie,1e3));g(null),K(""),_e(" Batch generation completed.")},tn=(H,le,Ee)=>{var qe;const Ie=(qe=H.target.files)==null?void 0:qe[0];if(!Ie)return;const Ve=new FileReader;Ve.onload=async Pe=>{var Le;const Ae=(Le=Pe.target)==null?void 0:Le.result;if(_e(` Uploading file for ${le}...`),Ee==="item")try{g(le);const ot=await Sm(Ae);v(Be=>({...Be,[le]:ot})),U(Be=>{const at=new Set(Be);return at.delete(le),at}),_e(" Upload & BG Removal success."),_&&(r(le,"item",ot),_e(` Auto-applied uploaded item: ${le}`))}catch{v(Be=>({...Be,[le]:Ae})),_e(" BG Removal failed, using original."),_&&(r(le,"item",Ae),_e(` Auto-applied uploaded item: ${le}`))}finally{g(null)}else Ee==="scene"?(v(ot=>({...ot,[le]:Ae})),U(ot=>{const Be=new Set(ot);return Be.delete(le),Be}),_e(" Scene uploaded."),_&&(r(le,"scene",Ae),_e(` Auto-applied uploaded scene: ${le}`))):Ee==="marketing-icon"?(w(Ae),r("marketing-icon","marketing",Ae)):Ee==="marketing-banner"&&(Y(Ae),r("marketing-banner","marketing",Ae))},Ve.readAsDataURL(Ie)},Jt=H=>{var Ie;const le=(Ie=H.target.files)==null?void 0:Ie[0];if(!le)return;const Ee=new FileReader;Ee.onload=Ve=>{var qe;try{const Pe=JSON.parse((qe=Ve.target)==null?void 0:qe.result);Pe&&Pe.meta&&Pe.scenes?it(` "${Pe.meta.name}" `,()=>{t(Pe),l&&l(Pe.initialState),_e(` Imported game: ${Pe.meta.name}`),a()}):Ce(" (Invalid game.json)")}catch{Ce("JSON ")}},Ee.readAsText(le)},Mn=H=>{const le=H.target.files;if(!le||le.length===0)return;const Ee=Array.from(le),Ie=Ee.find(qe=>qe.name==="game.json"||qe.name.endsWith("/game.json")||qe.webkitRelativePath.endsWith("game.json"));if(!Ie){Ce(" game.json ");return}const Ve=new FileReader;Ve.onload=async qe=>{var Pe;try{const Ae=JSON.parse((Pe=qe.target)==null?void 0:Pe.result);Ae&&Ae.meta&&Ae.scenes?it(` "${Ae.meta.name}"
 ${Ee.length} 
`,async()=>{var cn,Dn;g("IMPORTING"),_e(" Importing folder package...");const Le=new Map,ot=Ee.filter(vt=>vt.type.startsWith("image/"));await Promise.all(ot.map(vt=>new Promise(Ct=>{const fn=new FileReader;fn.onload=st=>{var Kt;if((Kt=st.target)!=null&&Kt.result){const Un=st.target.result;Le.set(vt.name.toLowerCase().trim(),Un)}Ct()},fn.readAsDataURL(vt)})));const Be=(vt,Ct)=>{var fn;if(vt){const st=(fn=vt.split("/").pop())==null?void 0:fn.toLowerCase().trim();if(st&&Le.has(st))return Le.get(st)}if(Ct){const st=Ct.toLowerCase(),Kt=[`scene_${st}.png`,`scene_${st}.jpg`,`scene_${st}.jpeg`,`item_${st}.png`,`item_${st}.jpg`,`item_${st}.jpeg`,`${st}.png`,`${st}.jpg`,`${st}.jpeg`,`game_${st}.png`];for(const Un of Kt)if(Le.has(Un))return Le.get(Un)}return vt};let at=0;for(const vt in Ae.scenes){const Ct=Ae.scenes[vt],fn=Ct.imageUrl,st=Be(Ct.imageUrl,vt);if(st&&st!==fn&&(Ct.imageUrl=st,at++),Ct.interactables){for(const Kt of Ct.interactables)if(Kt.image){const Un=Kt.image,Ki=Be(Kt.image,Kt.id);Ki&&Ki!==Un&&(Kt.image=Ki,at++)}}}for(const vt in Ae.items){const Ct=Ae.items[vt],fn=Ct.image,st=Be(Ct.image,vt);st&&st!==fn&&(Ct.image=st,at++)}let pt=Be((cn=Ae.marketing)==null?void 0:cn.iconUrl,"icon")||Be(void 0,"icon_512")||Be(void 0,"icon"),Gt=Be((Dn=Ae.marketing)==null?void 0:Dn.bannerUrl,"banner")||Be(void 0,"banner_1080")||Be(void 0,"banner");!pt&&Le.has("icon.png")&&(pt=Le.get("icon.png")),!Gt&&Le.has("banner.png")&&(Gt=Le.get("banner.png")),Ae.marketing||(Ae.marketing={}),pt&&(Ae.marketing.iconUrl=pt,w(pt)),Gt&&(Ae.marketing.bannerUrl=Gt,Y(Gt)),t(Ae),l&&l(Ae.initialState),v({}),U(new Set),g(null),a(),_e(` Import successful. Updated ${at} assets from ${Le.size} loaded files.`),Ce(`
 ${Le.size} 
 ${at} 
(Icon/Banner status: ${pt?"Found":"Missing"} / ${Gt?"Found":"Missing"})`)}):Ce("")}catch(Ae){console.error(Ae),Ce(""),g(null)}},Ve.readAsText(Ie)},lt=Object.values(Ue).map(H=>({id:H.id,name:H.name,desc:H.description,type:"item"})).concat(Object.values(we).flatMap(H=>{var le;return((le=H.interactables)==null?void 0:le.map(Ee=>({id:Ee.id,name:Ee.name,desc:Ee.description,type:"interactable"})))||[]})).filter((H,le,Ee)=>Ee.findIndex(Ie=>Ie.id===H.id)===le),xt=[{id:"settings",label:""},{id:"help",label:""},{id:"designer",label:""},{id:"scenes",label:""},{id:"items",label:""},{id:"marketing",label:""},{id:"analysis",label:""},{id:"logs",label:""}];return x.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-950/95 backdrop-blur-md flex flex-col text-slate-300 font-sans text-sm",children:[x.jsxs("div",{className:"bg-slate-900 border-b border-slate-700 p-3 flex justify-between items-center shadow-lg z-10",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("h2",{className:"text-amber-500 font-bold font-mono text-lg flex items-center gap-2",children:[x.jsx("span",{children:""})," "]}),x.jsx("div",{className:"flex bg-slate-800 rounded p-1 border border-slate-700 overflow-x-auto",children:xt.map(H=>x.jsx("button",{onClick:()=>d(H.id),className:`px-3 py-1 text-xs uppercase tracking-wide rounded transition-all whitespace-nowrap ${c===H.id?"bg-amber-600 text-white shadow-md":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:H.label},H.id))})]}),x.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white text-xl px-2",children:""})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-6 relative bg-slate-950",children:[c==="help"&&x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in text-slate-300",children:[x.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[x.jsx("h3",{className:"text-lg font-bold text-amber-500 mb-4 border-b border-slate-700 pb-2",children:" API Key (VectorEngine)"}),x.jsxs("div",{className:"space-y-4 text-sm leading-relaxed",children:[x.jsx("p",{children:" AI  VectorEngine"}),x.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[x.jsxs("li",{children:["",x.jsx("a",{href:"https://api.vectorengine.ai/register?aff=yDAF",target:"_blank",className:"text-blue-400 hover:underline",children:"https://api.vectorengine.ai/register?aff=yDAF"})]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),"  ",x.jsx("strong",{children:"API "}),""]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),"  ",x.jsx("span",{className:"text-green-400 font-bold",children:""}),""]}),x.jsxs("li",{children:[" ",x.jsx("code",{children:"sk-"})," "]}),x.jsxs("li",{children:[" ",x.jsx("button",{onClick:()=>d("settings"),className:"text-amber-500 underline",children:""}),"  ",x.jsx("strong",{children:" API Key"})," "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"VectorEngine Flash"})," ( 0.04)  ",x.jsx("strong",{children:"Pro"})," ( 0.15)"]})]})]})]}),x.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[x.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-4 border-b border-slate-700 pb-2",children:" API"}),x.jsxs("div",{className:"space-y-4 text-sm leading-relaxed",children:[x.jsx("p",{children:" API Key"}),x.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[x.jsxs("li",{children:[" ",x.jsx("button",{onClick:()=>d("scenes"),className:"text-blue-400 underline",children:""}),"  ",x.jsx("button",{onClick:()=>d("items"),className:"text-blue-400 underline",children:""})," "]}),x.jsxs("li",{children:[" ",x.jsx("span",{className:"inline-block bg-slate-700 px-1 rounded text-xs",children:" "})," "]}),x.jsx("li",{children:" AI  Midjourney, Stable Diffusion, DALL-E 3 "}),x.jsx("li",{children:""}),x.jsxs("li",{children:[" ",x.jsx("span",{className:"inline-block bg-slate-700 px-1 rounded text-xs",children:" "})," "]})]})]})]}),x.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:""}),x.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2 text-sm",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:""})," "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),"  ",x.jsx("strong",{children:""})," "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),"  Icon  Banner"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),"  Zeros "]}),x.jsx("li",{children:""})]})]})]}),c==="settings"&&x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[x.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:" (Game Metadata)"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Title)"}),x.jsx("input",{type:"text",value:i.meta.name,onChange:H=>t(le=>({...le,meta:{...le.meta,name:H.target.value}})),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Author)"}),x.jsx("input",{type:"text",value:i.meta.author,onChange:H=>t(le=>({...le,meta:{...le.meta,author:H.target.value}})),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Version)"}),x.jsx("input",{type:"text",value:i.meta.version,onChange:H=>t(le=>({...le,meta:{...le.meta,version:H.target.value}})),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Description)"}),x.jsx("textarea",{value:i.meta.description,onChange:H=>t(le=>({...le,meta:{...le.meta,description:H.target.value}})),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none h-24 resize-none"})]})]})]}),x.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:"AI  (Gemini API)"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-2 font-bold",children:" (Image Gen Model)"}),x.jsxs("select",{value:F,onChange:H=>re(H.target.value),className:"w-full bg-black border border-slate-700 p-3 rounded text-slate-200 focus:border-amber-500 outline-none",children:[x.jsx("option",{value:"gemini-2.5-flash-image",children:"Google Official (Flash)"}),x.jsx("option",{value:"gemini-3-pro-image-preview",children:"Google Official (Pro)"}),x.jsx("option",{value:"vectorengine-flash",children:"VectorEngine Flash ()"}),x.jsx("option",{value:"vectorengine-pro",children:"VectorEngine Pro ()"})]}),x.jsx("p",{className:"text-[10px] text-slate-500 mt-2",children:"*  VectorEngine  Text Model "})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-xs uppercase text-slate-500 mb-2 font-bold",children:[" API Key () ",x.jsx("button",{onClick:z,className:"text-amber-500 hover:underline ml-2",children:"[Google ]"})]}),x.jsx("input",{type:"password",placeholder:" / Google Auth",value:O,onChange:H=>ce(H.target.value),className:"w-full bg-black border border-slate-700 p-3 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),x.jsxs("div",{className:"col-span-1 md:col-span-2",children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-2 font-bold",children:" (Base URL)"}),x.jsx("input",{type:"text",placeholder:": https://my-proxy.com/v1beta ...",value:Te,onChange:H=>L(H.target.value),className:"w-full bg-black border border-slate-700 p-3 rounded text-slate-200 focus:border-amber-500 outline-none font-mono text-xs"})]})]})]}),x.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:" (Export)"}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:b,disabled:!!h,className:"flex-1 bg-amber-700 hover:bg-amber-600 text-white font-bold py-4 rounded shadow-lg transition-transform hover:scale-[1.01] active:scale-[0.99] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h==="ZIPPING"?"...":"  (ZIP)"}),x.jsx("button",{onClick:he,disabled:!!h,className:"flex-1 bg-blue-700 hover:bg-blue-600 text-white font-bold py-4 rounded shadow-lg transition-transform hover:scale-[1.01] active:scale-[0.99] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h==="UPLOADING"?"...":"  Zeros "})]}),x.jsxs("p",{className:"text-xs text-slate-500 mt-4 text-center leading-relaxed",children:["Game JSON  +  + ",x.jsx("br",{}),x.jsx("span",{className:"text-slate-600",children:" Zeros ZerosTap"})]})]}),x.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:" (Import)"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"relative group cursor-pointer border-2 border-dashed border-slate-600 hover:border-amber-500 rounded p-4 text-center transition-colors",children:[x.jsx("span",{className:"text-slate-400 group-hover:text-amber-500",children:"  game.json"}),x.jsx("input",{type:"file",accept:".json",onChange:Jt,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),x.jsxs("div",{className:"relative group cursor-pointer border-2 border-dashed border-slate-600 hover:border-amber-500 rounded p-4 text-center transition-colors",children:[x.jsx("span",{className:"text-slate-400 group-hover:text-amber-500",children:"  assets "}),x.jsx("input",{type:"file",webkitdirectory:"",directory:"",onChange:Mn,className:"absolute inset-0 opacity-0 cursor-pointer"})]})]})]})]}),c==="designer"&&x.jsx("div",{className:"max-w-4xl mx-auto space-y-6 animate-fade-in",children:x.jsxs("div",{className:"bg-gradient-to-r from-purple-900/40 to-blue-900/40 border border-slate-700 p-6 rounded",children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-typewriter",children:"AI "}),x.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"AI "}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" / "}),x.jsx("textarea",{value:R,onChange:H=>D(H.target.value),placeholder:"2077...",className:"w-full bg-black border border-slate-600 p-4 rounded text-slate-100 h-32 focus:border-blue-500 outline-none resize-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Art Style)"}),x.jsx("textarea",{value:k,onChange:H=>B(H.target.value),placeholder:"...",className:"w-full bg-black border border-slate-600 p-4 rounded text-slate-100 h-32 focus:border-amber-500 outline-none resize-none"})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:""}),x.jsx("input",{type:"number",value:q.sceneCount,onChange:H=>X({...q,sceneCount:parseInt(H.target.value)}),className:"w-full bg-black border border-slate-700 p-2 rounded text-center"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:""}),x.jsx("input",{type:"number",value:q.itemCount,onChange:H=>X({...q,itemCount:parseInt(H.target.value)}),className:"w-full bg-black border border-slate-700 p-2 rounded text-center"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:""}),x.jsx("input",{type:"number",value:q.puzzleCount,onChange:H=>X({...q,puzzleCount:parseInt(H.target.value)}),className:"w-full bg-black border border-slate-700 p-2 rounded text-center"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" ()"}),x.jsx("input",{type:"text",value:q.requiredItems,onChange:H=>X({...q,requiredItems:H.target.value}),placeholder:"e.g. , ",className:"w-full bg-black border border-slate-700 p-2 rounded text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" ()"}),x.jsx("input",{type:"text",value:q.requiredScenes,onChange:H=>X({...q,requiredScenes:H.target.value}),placeholder:"e.g. , ",className:"w-full bg-black border border-slate-700 p-2 rounded text-xs"})]})]}),x.jsxs("div",{className:"flex gap-4 pt-4 border-t border-white/10",children:[x.jsx("button",{onClick:tt,disabled:!!h,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors disabled:opacity-50",children:" "}),x.jsx("button",{onClick:Fe,disabled:!!h,className:"flex-[2] bg-gradient-to-r from-blue-700 to-purple-700 hover:from-blue-600 hover:to-purple-600 text-white py-3 rounded font-bold transition-all shadow-lg hover:shadow-blue-500/20 disabled:opacity-50",children:h==="GAME_CONFIG"?"...":"  ()"})]}),x.jsx("div",{className:"text-center pt-2",children:x.jsx("button",{onClick:Z,className:"text-xs text-slate-500 hover:text-slate-300 underline",children:" Prompt  ( ChatGPT/Claude )"})})]})]})}),c==="scenes"&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in pb-20",children:[x.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 bg-slate-800 p-4 rounded mb-2 border border-slate-700 flex justify-between items-center",children:[x.jsx("div",{className:"text-slate-300 text-sm",children:h==="BATCH"?x.jsxs("span",{className:"text-amber-400 animate-pulse",children:[": ",fe,"..."]}):x.jsxs("span",{children:[": ",x.jsx("span",{className:"text-amber-400 font-bold",children:ye()})]})}),x.jsxs("button",{onClick:Lt,disabled:!!h,className:"px-6 py-2 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold rounded shadow-lg disabled:opacity-50 flex items-center gap-2",children:[x.jsx("span",{children:""})," AI "]})]}),Object.values(we).map(H=>x.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg overflow-hidden flex flex-col group hover:border-slate-500 transition-colors",children:[x.jsxs("div",{className:"relative aspect-video bg-black/50",children:[x.jsx(Yi,{src:m[H.id]||H.imageUrl,alt:H.title,className:"w-full h-full object-cover",onLoadError:()=>U(le=>new Set(le).add(H.id)),fallback:x.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-600 gap-2",children:[x.jsx("span",{className:"text-2xl",children:""}),x.jsx("span",{className:"text-xs",children:"No Image"})]})}),x.jsxs("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>xe(H.id,H.title,H.description),disabled:!!h,className:"bg-amber-600 hover:bg-amber-500 text-white text-xs px-3 py-2 rounded font-bold",children:h===H.id?"...":"AI "}),x.jsxs("label",{className:"bg-slate-700 hover:bg-slate-600 text-white text-xs px-3 py-2 rounded font-bold cursor-pointer",children:["",x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:le=>tn(le,H.id,"scene")})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>kt("scene",H.title,H.description),className:"bg-blue-600/80 hover:bg-blue-500 text-white text-[10px] px-2 py-1 rounded",title:"",children:" Prompt"}),x.jsx("button",{onClick:()=>et(`scene_${H.id}.png`,m[H.id]||H.imageUrl),className:"bg-green-600/80 hover:bg-green-500 text-white text-[10px] px-2 py-1 rounded",title:"",disabled:!m[H.id]&&!H.imageUrl,children:""})]})]}),(N.has(H.id)||!H.imageUrl&&!m[H.id])&&x.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full animate-pulse shadow-red-500/50 shadow-lg",title:"Missing Asset"})]}),x.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsx("h4",{className:"font-bold text-slate-200",children:H.title}),x.jsx("span",{className:"text-[10px] text-slate-500 font-mono bg-slate-800 px-1 rounded",children:H.id})]}),x.jsx("p",{className:"text-xs text-slate-400 line-clamp-2 flex-1 mb-2",children:H.description}),x.jsx("button",{onClick:()=>A({id:H.id,name:H.title,desc:H.description,type:"scene"}),className:"text-xs text-blue-400 hover:text-blue-300 text-left mt-auto",children:" "})]})]},H.id))]}),c==="items"&&x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 animate-fade-in pb-20",children:[x.jsxs("div",{className:"col-span-2 md:col-span-4 lg:col-span-5 bg-slate-800 p-4 rounded mb-2 border border-slate-700 flex justify-between items-center",children:[x.jsx("div",{className:"text-slate-300 text-sm",children:h==="BATCH"?x.jsxs("span",{className:"text-amber-400 animate-pulse",children:[": ",fe,"..."]}):x.jsxs("span",{children:["/: ",x.jsx("span",{className:"text-amber-400 font-bold",children:ye()})]})}),x.jsxs("button",{onClick:Lt,disabled:!!h,className:"px-6 py-2 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold rounded shadow-lg disabled:opacity-50 flex items-center gap-2",children:[x.jsx("span",{children:""})," AI "]})]}),lt.map(H=>{const le=Ue[H.id],Ee=Object.values(we).flatMap(Pe=>Pe.interactables).find(Pe=>Pe.id===H.id),Ie=m[H.id]||(le==null?void 0:le.image)||(Ee==null?void 0:Ee.image),Ve=N.has(H.id);m[H.id];const qe=!!Ie&&!Ve;return x.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg overflow-hidden flex flex-col group hover:border-slate-500 transition-colors",children:[x.jsxs("div",{className:"relative aspect-square bg-slate-800/50 p-4",children:[x.jsx(Yi,{src:Ie,alt:H.name,className:"w-full h-full object-contain filter drop-shadow-lg",onLoadError:()=>U(Pe=>new Set(Pe).add(H.id)),fallback:x.jsx("span",{className:"text-4xl w-full h-full flex items-center justify-center",children:""})}),x.jsxs("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2 p-2",children:[x.jsxs("div",{className:"w-full flex gap-1",children:[x.jsx("button",{onClick:()=>be(H.id,H.name,H.desc),disabled:!!h,className:"flex-1 bg-amber-600 hover:bg-amber-500 text-white text-[10px] px-1 py-1 rounded font-bold",children:h===H.id?"...":"AI"}),x.jsxs("label",{className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white text-[10px] px-1 py-1 rounded font-bold cursor-pointer text-center",children:["",x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Pe=>tn(Pe,H.id,"item")})]})]}),x.jsxs("div",{className:"w-full flex gap-1",children:[x.jsx("button",{onClick:()=>kt("item",H.name,H.desc),className:"flex-1 bg-blue-600/80 hover:bg-blue-500 text-white text-[10px] px-1 py-1 rounded",title:"Prompt",children:""}),x.jsx("button",{onClick:()=>et(`item_${H.id}.png`,Ie),className:"flex-1 bg-green-600/80 hover:bg-green-500 text-white text-[10px] px-1 py-1 rounded",title:"",disabled:!Ie,children:""})]})]}),!qe&&x.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full animate-pulse shadow-red-500/50 shadow-lg",title:"Missing Asset"})]}),x.jsxs("div",{className:"p-2 flex-1 flex flex-col text-center",children:[x.jsx("div",{className:"flex justify-center items-center gap-1 mb-1",children:x.jsx("span",{className:"font-bold text-slate-200 text-xs truncate",title:H.name,children:H.name})}),x.jsx("span",{className:"text-[9px] text-slate-500 font-mono bg-slate-800 px-1 rounded self-center mb-1",children:H.id}),x.jsx("button",{onClick:()=>A({id:H.id,name:H.name,desc:H.desc,type:"item"}),className:"text-[10px] text-blue-400 hover:text-blue-300 mt-auto",children:""})]})]},H.id)})]}),c==="marketing"&&x.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in pb-20",children:[x.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-6 border-b border-slate-700 pb-2",children:" (App Icon 512x512)"}),x.jsxs("div",{className:"flex gap-6 items-start",children:[x.jsxs("div",{className:"w-32 h-32 bg-black rounded-xl overflow-hidden border border-slate-600 flex-shrink-0 relative group",children:[x.jsx(Yi,{src:ie||void 0,fallback:x.jsx("div",{className:"text-slate-600 text-xs w-full h-full flex items-center justify-center",children:"No Icon"}),className:"w-full h-full object-cover"}),x.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex flex-col items-center justify-center gap-2 transition-opacity",children:[x.jsxs("label",{className:"text-xs text-white cursor-pointer hover:text-amber-500",children:["",x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H=>tn(H,"icon","marketing-icon")})]}),ie&&x.jsx("button",{onClick:()=>et("game_icon.png",ie),className:"text-xs text-green-400 hover:text-green-300",children:" "})]})]}),x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsx("label",{className:"text-xs uppercase text-slate-500 font-bold",children:" (Icon Prompt)"}),x.jsx("textarea",{value:J.icon,onChange:H=>ve({...J,icon:H.target.value}),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-300 text-xs h-20 resize-none"}),x.jsx("button",{onClick:()=>De("icon"),disabled:!!h,className:"bg-amber-600 hover:bg-amber-500 text-white px-4 py-2 rounded text-xs font-bold",children:h==="marketing-icon"?"...":""})]})]})]}),x.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-6 border-b border-slate-700 pb-2",children:" Banner (1920x1080)"}),x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsxs("div",{className:"w-full aspect-video bg-black rounded-lg overflow-hidden border border-slate-600 relative group",children:[x.jsx(Yi,{src:ue||void 0,fallback:x.jsx("div",{className:"text-slate-600 text-xs w-full h-full flex items-center justify-center",children:"No Banner"}),className:"w-full h-full object-cover"}),x.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex flex-col items-center justify-center gap-2 transition-opacity",children:[x.jsxs("label",{className:"text-xs text-white cursor-pointer hover:text-amber-500",children:["",x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H=>tn(H,"banner","marketing-banner")})]}),ue&&x.jsx("button",{onClick:()=>et("game_banner.png",ue),className:"text-xs text-green-400 hover:text-green-300",children:" "})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs uppercase text-slate-500 font-bold",children:"Banner  (Banner Prompt)"}),x.jsx("textarea",{value:J.banner,onChange:H=>ve({...J,banner:H.target.value}),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-300 text-xs h-20 resize-none"}),x.jsx("button",{onClick:()=>De("banner"),disabled:!!h,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded text-xs font-bold",children:h==="marketing-banner"?"...":" Banner"})]})]})]})]}),c==="analysis"&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in pb-20",children:[x.jsx(_x,{gameData:i}),x.jsx(Sx,{gameData:i}),x.jsx("div",{className:"col-span-1 md:col-span-2",children:x.jsx(Tx,{gameData:i})})]}),c==="logs"&&x.jsxs("div",{className:"max-w-4xl mx-auto h-[600px] bg-black border border-slate-700 rounded p-4 font-mono text-xs overflow-y-auto",ref:oe,children:[$.length===0&&x.jsx("span",{className:"text-slate-600",children:"No logs yet..."}),$.map((H,le)=>x.jsx("div",{className:"mb-1 border-b border-white/5 pb-1",children:x.jsx("span",{className:H.includes("ERROR")?"text-red-400":H.includes("")?"text-green-400":"text-slate-300",children:H})},le))]}),T&&x.jsx("div",{className:"fixed inset-0 z-[70] bg-black/80 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-slate-900 border border-slate-600 p-6 rounded-lg w-full max-w-md shadow-2xl",children:[x.jsx("h4",{className:"text-amber-500 font-bold mb-4",children:""}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:" (Name/Title)"}),x.jsx("input",{type:"text",value:T.name,onChange:H=>A({...T,name:H.target.value}),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:" (Description)"}),x.jsx("textarea",{value:T.desc,onChange:H=>A({...T,desc:H.target.value}),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none h-32 resize-none"})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[x.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 text-slate-400 hover:text-white",children:""}),x.jsx("button",{onClick:se,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded font-bold",children:""})]})]})]})}),C&&x.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-8 bg-black/60 backdrop-blur-sm animate-fade-in",children:x.jsxs("div",{className:"bg-slate-800 border border-slate-600 p-6 rounded-lg shadow-2xl max-w-md w-full",children:[x.jsx("p",{className:"text-slate-200 text-sm whitespace-pre-wrap mb-6 leading-relaxed",children:C.message}),x.jsxs("div",{className:"flex justify-end gap-3",children:[C.type==="confirm"&&x.jsx("button",{onClick:C.onCancel,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded font-bold transition-colors",children:""}),x.jsx("button",{onClick:C.onConfirm,className:"px-6 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded font-bold transition-colors shadow-lg",children:""})]})]})})]})]})},xu="shadow_truth_game_config";function Ex(){var fe;const[i,t]=ze.useState(()=>{try{const K=localStorage.getItem(xu);if(K){const N=JSON.parse(K);if(N&&N.scenes&&N.items)return N;console.warn("Invalid or legacy save data, loading default.")}}catch(K){console.error("Failed to load config from storage, using default",K)}return wy}),[l,a]=ze.useState(i.initialState),[r,c]=ze.useState(null),[d,h]=ze.useState({isOpen:!1,input:""}),[g,m]=ze.useState(!1),[v,_]=ze.useState(!1),[S,T]=ze.useState(!1),[A,C]=ze.useState(1),I=ze.useRef(!1),[R,D]=ze.useState(!1),k=ze.useRef(0);ze.useEffect(()=>{const K=()=>{_m()};return window.addEventListener("click",K),window.addEventListener("keydown",K),()=>{window.removeEventListener("click",K),window.removeEventListener("keydown",K)}},[]),ze.useEffect(()=>{try{localStorage.setItem(xu,JSON.stringify(i))}catch(K){console.error("Storage Save Failed (Likely Quota Exceeded):",K)}},[i]),ze.useEffect(()=>{i.scenes[l.currentSceneId]||(console.warn(`Current scene ID '${l.currentSceneId}' not found in new Game Data. Resetting to initial state.`),a(i.initialState))},[i,l.currentSceneId]),ze.useEffect(()=>{const K=N=>{const U=N.target;if(U.tagName==="INPUT"||U.tagName==="TEXTAREA")return;const $=N.key.toLowerCase();if($==="e"){const te=Date.now();te-k.current<500&&D(oe=>{const we=!oe;return Ut(we?"open":"click"),we}),k.current=te}$==="t"&&m(te=>(te||Ut("open"),!te)),$==="escape"&&(m(!1),h(te=>({...te,isOpen:!1})))};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[]);const B=()=>{_m(),Ut("transition"),T(!0)},q=()=>{a(i.initialState),T(!1),Ut("transition")},X=(K,N,U)=>{N==="scene"?(t($=>({...$,scenes:{...$.scenes,[K]:{...$.scenes[K],imageUrl:U}}})),_(!1)):N==="item"&&t($=>{const te={...$.items};te[K]&&(te[K]={...te[K],image:U});const oe={...$.scenes};return Object.keys(oe).forEach(we=>{oe[we]={...oe[we],interactables:oe[we].interactables.map(Ue=>Ue.id===K?{...Ue,image:U}:Ue)}}),{...$,items:te,scenes:oe}})},re=ze.useCallback(()=>{const K=l.currentSceneId,N=i.scenes[K];if(!N)return K;if(N.conditionalVariant){const U=N.conditionalVariant;let $=!0;if(U.requiredItemId&&!l.inventory.includes(U.requiredItemId)&&($=!1),U.requiredFlag&&!l.flags[U.requiredFlag]&&($=!1),$)return U.targetSceneId}return K},[l.currentSceneId,l.inventory,l.flags,i.scenes])(),O=i.scenes[re],ce=O==null?void 0:O.imageUrl;if(ze.useEffect(()=>{if(_(!1),!ce){O&&_(!0);return}const K=new Image;K.src=ce,K.onerror=()=>_(!0)},[ce,O]),!O){const K=Object.keys(i.scenes).join(", ");return x.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-950 text-slate-200 flex flex-col items-center justify-center p-8 overflow-y-auto",children:[x.jsxs("div",{className:"max-w-2xl w-full bg-slate-900 border border-red-900/50 rounded-lg p-8 shadow-2xl animate-fade-in relative",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-6 border-b border-red-900/30 pb-4",children:[x.jsx("div",{className:"text-4xl",children:""}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-red-500 font-typewriter",children:" (Critical Error)"}),x.jsx("p",{className:"text-slate-500 text-sm",children:""})]})]}),x.jsxs("div",{className:"space-y-6 mb-8",children:[x.jsxs("div",{className:"bg-black/50 p-4 rounded border border-red-900/30 font-mono text-sm relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-red-600"}),x.jsxs("p",{className:"text-red-400 font-bold mb-2",children:["Error: Scene '",re,"' not found."]}),x.jsxs("p",{className:"text-slate-400 text-xs",children:[" ID  ",x.jsxs("span",{className:"text-amber-500",children:['"',re,'"']}),"  (gameData.scenes)  ID"]})]}),x.jsxs("div",{className:"bg-slate-800/50 p-4 rounded text-sm text-slate-400 border border-slate-700",children:[x.jsx("p",{className:"font-bold text-slate-300 mb-2",children:" (Possible Causes)"}),x.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[x.jsxs("li",{children:[x.jsx("strong",{className:"text-slate-300",children:""}),"  ID"]}),x.jsxs("li",{children:[x.jsx("strong",{className:"text-slate-300",children:""}),"  `game.json`  ID"]}),x.jsxs("li",{children:[x.jsx("strong",{className:"text-slate-300",children:"Bug"}),"  ID"]})]})]}),x.jsxs("div",{className:"text-xs text-slate-600 font-mono break-all bg-black p-2 rounded",children:[x.jsx("span",{className:"block mb-1 font-bold text-slate-500",children:"Available Scene IDs:"}),K]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("button",{onClick:()=>a(i.initialState),className:"flex flex-col items-start p-4 bg-slate-800 hover:bg-slate-700 border border-slate-600 hover:border-amber-500/50 rounded transition-all group relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-amber-600 transform -translate-x-full group-hover:translate-x-0 transition-transform"}),x.jsxs("span",{className:"text-amber-500 font-bold mb-1 flex items-center gap-2",children:[x.jsx("span",{children:""}),"  (Soft Reset)"]}),x.jsxs("span",{className:"text-xs text-slate-500 text-left",children:[" (",i.initialState.currentSceneId,")"]})]}),x.jsxs("button",{onClick:()=>{window.confirm("")&&(localStorage.removeItem(xu),window.location.reload())},className:"flex flex-col items-start p-4 bg-red-950/30 hover:bg-red-900/40 border border-red-900/50 hover:border-red-500/50 rounded transition-all group relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-red-600 transform -translate-x-full group-hover:translate-x-0 transition-transform"}),x.jsxs("span",{className:"text-red-400 font-bold mb-1 flex items-center gap-2",children:[x.jsx("span",{children:""}),"  (Hard Reset)"]}),x.jsx("span",{className:"text-xs text-slate-500 text-left",children:""})]})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx("button",{onClick:()=>m(!0),className:"text-xs text-slate-600 hover:text-slate-400 underline",children:" (Open Resource Studio)"})})]}),g&&x.jsx(Tm,{gameData:i,setGameData:t,setGameState:a,onClose:()=>m(!1),onApplyAsset:X})]})}const Te=O.brightness??.6,L=K=>{a(N=>({...N,log:[...N.log,K]}))},ie=K=>{if(!R){if(K.requiredFlag&&!l.flags[K.requiredFlag]){L(""),Ut("error");return}if(K.isPuzzle&&K.puzzleId&&i.puzzles[K.puzzleId]){const N=i.puzzles[K.puzzleId];if(!l.flags[N.rewardFlag]){Ut("open"),h({isOpen:!0,puzzleId:K.puzzleId,input:""});return}}if(K.requiredItemId&&!(K.flagReward&&l.flags[K.flagReward])){if(r===K.requiredItemId){const U=i.items[r];L(K.lockedMessage?` ${(U==null?void 0:U.name)||""}`:""),Ut("success"),K.flagReward&&a($=>({...$,flags:{...$.flags,[K.flagReward]:!0}})),K.dialogue&&K.dialogue.forEach($=>L($)),c(null)}else L(K.lockedMessage||""),Ut("error");return}if(K.dialogue&&(K.dialogue.forEach(N=>L(N)),Ut("click")),(K.winsGame||K.itemRewardId==="mysterious_artifact")&&setTimeout(()=>a(N=>({...N,gameWon:!0})),2e3),K.itemRewardId&&i.items[K.itemRewardId]){const N=`found_${K.itemRewardId}`;if(!l.flags[N]){const U=i.items[K.itemRewardId];a($=>({...$,inventory:[...$.inventory,K.itemRewardId],flags:{...$.flags,[N]:!0,[K.hiddenIfFlag||"temp"]:!0}})),L(`${U.name}`),Ut("pickup")}}}},w=(K,N,U)=>{if(R){a(te=>({...te,currentSceneId:K}));return}const $=N&&l.flags[N];if(U&&!$||N&&!l.flags[N]){L(U&&!$?"":""),Ut("error");return}I.current||(I.current=!0,Ut("transition"),C(0),setTimeout(()=>{a(te=>({...te,currentSceneId:K})),C(1),I.current=!1},500))},ue=()=>{if(!d.puzzleId||!i.puzzles[d.puzzleId])return;const K=i.puzzles[d.puzzleId];d.input.trim()===K.answer?(L(""),L(K.rewardMessage),Ut("success"),a(N=>({...N,flags:{...N.flags,[K.rewardFlag]:!0}})),h({isOpen:!1,input:""})):(L(""),Ut("error"),h(N=>({...N,input:""})))},Y=(K,N)=>{t(U=>{const $=U.scenes[re];if(!$)return U;const te=$.interactables.map(oe=>oe.id===K?{...oe,...N}:oe);return{...U,scenes:{...U.scenes,[re]:{...$,interactables:te}}}})},J=l.inventory.map(K=>i.items[K]).filter(K=>!!K),ve=O.interactables.filter(K=>R?!0:!(K.hiddenIfFlag&&l.flags[K.hiddenIfFlag]||K.requiredFlag&&!l.flags[K.requiredFlag]));return S?l.gameWon?x.jsxs("div",{className:"h-screen w-screen bg-black flex flex-col items-center justify-center text-center p-8 animate-fade-in text-slate-100",children:[x.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-amber-500 mb-4 font-typewriter",children:[i.meta.name," - "]}),x.jsx("p",{className:"max-w-md text-lg text-slate-400 mb-8",children:""}),x.jsx("button",{onClick:q,className:"px-6 py-3 border border-amber-600 text-amber-500 hover:bg-amber-900/20 rounded uppercase tracking-widest transition-colors",children:""})]}):x.jsxs("div",{className:"h-screen w-screen flex flex-col bg-slate-950 overflow-hidden relative selection:bg-amber-500/30",children:[x.jsxs("div",{className:"absolute top-0 left-0 w-full z-30 p-4 flex justify-between items-start pointer-events-none",children:[x.jsxs("div",{className:"flex flex-col gap-1 pointer-events-auto",children:[x.jsx("h1",{className:"text-3xl font-bold text-amber-600 tracking-widest font-typewriter drop-shadow-md",children:i.meta.name}),x.jsx("div",{className:"bg-black/40 backdrop-blur-sm px-2 py-1 rounded border border-white/5 inline-flex self-start",children:x.jsx("span",{className:"text-xs text-slate-400 font-mono uppercase tracking-wider",children:O.title})})]}),x.jsx("div",{className:"flex flex-col items-end pointer-events-auto",children:R&&x.jsx("div",{className:"bg-amber-900/80 text-amber-200 text-xs px-2 py-1 rounded border border-amber-500/50 mb-2 w-full text-right shadow-lg animate-pulse",children:" (EE  / T )"})})]}),x.jsxs("div",{className:"flex-1 relative w-full h-full bg-black group overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 transition-opacity duration-500 ease-in-out",style:{opacity:A},children:[x.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-[filter] duration-500",style:{backgroundImage:`url(${ce})`,filter:`brightness(${Te}) contrast(1.1)`},children:v&&x.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-900 z-0 flex-col gap-4",children:x.jsxs("span",{className:"text-slate-500 font-mono",children:["Loading Asset / Missing: ",re]})})}),x.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_10%,rgba(0,0,0,0.8)_90%)] pointer-events-none"}),x.jsx("div",{className:"absolute inset-0 z-10",style:{perspective:"400px"},children:R?x.jsx(vx,{scene:O,onUpdateInteractable:Y}):x.jsx(yx,{interactables:ve,onInteract:ie})}),O.exits.map((K,N)=>{const U=!(!R&&K.requiredFlag&&!l.flags[K.requiredFlag]),$=K.locked&&(!K.requiredFlag||!l.flags[K.requiredFlag]);return U?x.jsxs("div",{onClick:()=>w(K.targetSceneId,K.requiredFlag,K.locked),className:`
                        absolute z-20 cursor-pointer bg-black/40 hover:bg-amber-500/20 border border-white/10 hover:border-amber-500/50 
                        text-white/70 text-xs font-bold uppercase tracking-widest flex items-center justify-center backdrop-blur-sm transition-all
                        ${K.direction==="north"?"top-4 left-1/2 -translate-x-1/2 min-w-[10rem] h-10 px-4 rounded-b-lg":""}
                        ${K.direction==="south"?"bottom-4 left-1/2 -translate-x-1/2 min-w-[10rem] h-10 px-4 rounded-t-lg":""} 
                        ${K.direction==="west"?"left-4 top-1/2 -translate-y-1/2 min-h-[10rem] w-10 py-4 rounded-r-lg [writing-mode:vertical-rl]":""}
                        ${K.direction==="east"?"right-4 top-1/2 -translate-y-1/2 min-h-[10rem] w-10 py-4 rounded-l-lg [writing-mode:vertical-rl]":""}
                        `,children:[$&&!R&&x.jsx("span",{className:"mr-1 mb-1",children:""}),K.label]},N):null})]}),!R&&x.jsx(mx,{logs:l.log}),(v||R)&&x.jsx("button",{onClick:()=>m(!0),className:"absolute bottom-28 right-4 z-50 p-2 bg-amber-900/80 hover:bg-amber-700 text-amber-200 rounded-full border border-amber-500/50 transition-colors shadow-lg animate-pulse",title:" (T)",children:""})]}),x.jsx(gx,{items:J,selectedItemId:r,onSelectItem:K=>{if(r===K){const N=i.items[K];N&&L(N.description),Ut("click")}else Ut("click"),c(K)}}),d.isOpen&&x.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg border border-slate-600 max-w-sm w-full shadow-2xl",children:[x.jsx("h3",{className:"text-xl font-bold text-amber-500 mb-4 font-typewriter",children:""}),x.jsx("p",{className:"text-slate-300 mb-4",children:(fe=i.puzzles[d.puzzleId])==null?void 0:fe.description}),x.jsx("input",{type:"text",value:d.input,onChange:K=>h(N=>({...N,input:K.target.value})),className:"w-full bg-slate-950 border border-slate-700 text-green-500 font-mono text-xl p-3 mb-4 rounded focus:outline-none focus:border-amber-500 text-center tracking-[0.5em]"}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx("button",{onClick:()=>h({isOpen:!1,input:""}),className:"px-4 py-2 text-slate-400 hover:text-white",children:""}),x.jsx("button",{onClick:ue,className:"px-4 py-2 bg-amber-700 hover:bg-amber-600 text-white rounded font-bold",children:""})]})]})}),g&&x.jsx(Tm,{gameData:i,setGameData:t,setGameState:a,onClose:()=>m(!1),onApplyAsset:X})]}):x.jsx("div",{className:"w-full h-full",onClick:B,children:x.jsx(px,{onStart:B,meta:i.meta})})}const ng=document.getElementById("root");if(!ng)throw new Error("Could not find root element to mount to");const bx=Cy.createRoot(ng);bx.render(x.jsx(yy.StrictMode,{children:x.jsx(Ex,{})}));
