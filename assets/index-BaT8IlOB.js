(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();var Qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ku(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gu={exports:{}},Do={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function dy(){if(Lh)return Do;Lh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,c){var d=null;if(c!==void 0&&(d=""+c),r.key!==void 0&&(d=""+r.key),"key"in r){c={};for(var h in r)h!=="key"&&(c[h]=r[h])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:d,ref:r!==void 0?r:null,props:c}}return Do.Fragment=t,Do.jsx=l,Do.jsxs=l,Do}var Gh;function hy(){return Gh||(Gh=1,gu.exports=dy()),gu.exports}var b=hy(),yu={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function py(){if(qh)return Oe;qh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(R){return R===null||typeof R!="object"?null:(R=S&&R[S]||R["@@iterator"],typeof R=="function"?R:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function N(R,U,$){this.props=R,this.context=U,this.refs=M,this.updater=$||A}N.prototype.isReactComponent={},N.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function D(){}D.prototype=N.prototype;function k(R,U,$){this.props=R,this.context=U,this.refs=M,this.updater=$||A}var B=k.prototype=new D;B.constructor=k,C(B,N.prototype),B.isPureReactComponent=!0;var q=Array.isArray;function X(){}var F={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function O(R,U,$){var W=$.ref;return{$$typeof:i,type:R,key:U,ref:W!==void 0?W:null,props:$}}function ce(R,U){return O(R.type,U,R.props)}function be(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function L(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function($){return U[$]})}var ie=/\/+/g;function w(R,U){return typeof R=="object"&&R!==null&&R.key!=null?L(""+R.key):U.toString(36)}function ue(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(X,X):(R.status="pending",R.then(function(U){R.status==="pending"&&(R.status="fulfilled",R.value=U)},function(U){R.status==="pending"&&(R.status="rejected",R.reason=U)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Y(R,U,$,W,le){var Te=typeof R;(Te==="undefined"||Te==="boolean")&&(R=null);var Ie=!1;if(R===null)Ie=!0;else switch(Te){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(R.$$typeof){case i:case t:Ie=!0;break;case v:return Ie=R._init,Y(Ie(R._payload),U,$,W,le)}}if(Ie)return le=le(R),Ie=W===""?"."+w(R,0):W,q(le)?($="",Ie!=null&&($=Ie.replace(ie,"$&/")+"/"),Y(le,U,$,"",function(at){return at})):le!=null&&(be(le)&&(le=ce(le,$+(le.key==null||R&&R.key===le.key?"":(""+le.key).replace(ie,"$&/")+"/")+Ie)),U.push(le)),1;Ie=0;var Le=W===""?".":W+":";if(q(R))for(var Ue=0;Ue<R.length;Ue++)W=R[Ue],Te=Le+w(W,Ue),Ie+=Y(W,U,$,Te,le);else if(Ue=T(R),typeof Ue=="function")for(R=Ue.call(R),Ue=0;!(W=R.next()).done;)W=W.value,Te=Le+w(W,Ue++),Ie+=Y(W,U,$,Te,le);else if(Te==="object"){if(typeof R.then=="function")return Y(ue(R),U,$,W,le);throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Z(R,U,$){if(R==null)return R;var W=[],le=0;return Y(R,W,"","",function(Te){return U.call($,Te,le++)}),W}function _e(R){if(R._status===-1){var U=R._result;U=U(),U.then(function($){(R._status===0||R._status===-1)&&(R._status=1,R._result=$)},function($){(R._status===0||R._status===-1)&&(R._status=2,R._result=$)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var fe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},J={map:Z,forEach:function(R,U,$){Z(R,function(){U.apply(this,arguments)},$)},count:function(R){var U=0;return Z(R,function(){U++}),U},toArray:function(R){return Z(R,function(U){return U})||[]},only:function(R){if(!be(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Oe.Activity=_,Oe.Children=J,Oe.Component=N,Oe.Fragment=l,Oe.Profiler=r,Oe.PureComponent=k,Oe.StrictMode=a,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return F.H.useMemoCache(R)}},Oe.cache=function(R){return function(){return R.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(R,U,$){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var W=C({},R.props),le=R.key;if(U!=null)for(Te in U.key!==void 0&&(le=""+U.key),U)!re.call(U,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&U.ref===void 0||(W[Te]=U[Te]);var Te=arguments.length-2;if(Te===1)W.children=$;else if(1<Te){for(var Ie=Array(Te),Le=0;Le<Te;Le++)Ie[Le]=arguments[Le+2];W.children=Ie}return O(R.type,le,W)},Oe.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Oe.createElement=function(R,U,$){var W,le={},Te=null;if(U!=null)for(W in U.key!==void 0&&(Te=""+U.key),U)re.call(U,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=U[W]);var Ie=arguments.length-2;if(Ie===1)le.children=$;else if(1<Ie){for(var Le=Array(Ie),Ue=0;Ue<Ie;Ue++)Le[Ue]=arguments[Ue+2];le.children=Le}if(R&&R.defaultProps)for(W in Ie=R.defaultProps,Ie)le[W]===void 0&&(le[W]=Ie[W]);return O(R,Te,le)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(R){return{$$typeof:h,render:R}},Oe.isValidElement=be,Oe.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:_e}},Oe.memo=function(R,U){return{$$typeof:m,type:R,compare:U===void 0?null:U}},Oe.startTransition=function(R){var U=F.T,$={};F.T=$;try{var W=R(),le=F.S;le!==null&&le($,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(X,fe)}catch(Te){fe(Te)}finally{U!==null&&$.types!==null&&(U.types=$.types),F.T=U}},Oe.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Oe.use=function(R){return F.H.use(R)},Oe.useActionState=function(R,U,$){return F.H.useActionState(R,U,$)},Oe.useCallback=function(R,U){return F.H.useCallback(R,U)},Oe.useContext=function(R){return F.H.useContext(R)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(R,U){return F.H.useDeferredValue(R,U)},Oe.useEffect=function(R,U){return F.H.useEffect(R,U)},Oe.useEffectEvent=function(R){return F.H.useEffectEvent(R)},Oe.useId=function(){return F.H.useId()},Oe.useImperativeHandle=function(R,U,$){return F.H.useImperativeHandle(R,U,$)},Oe.useInsertionEffect=function(R,U){return F.H.useInsertionEffect(R,U)},Oe.useLayoutEffect=function(R,U){return F.H.useLayoutEffect(R,U)},Oe.useMemo=function(R,U){return F.H.useMemo(R,U)},Oe.useOptimistic=function(R,U){return F.H.useOptimistic(R,U)},Oe.useReducer=function(R,U,$){return F.H.useReducer(R,U,$)},Oe.useRef=function(R){return F.H.useRef(R)},Oe.useState=function(R){return F.H.useState(R)},Oe.useSyncExternalStore=function(R,U,$){return F.H.useSyncExternalStore(R,U,$)},Oe.useTransition=function(){return F.H.useTransition()},Oe.version="19.2.1",Oe}var Ph;function zu(){return Ph||(Ph=1,yu.exports=py()),yu.exports}var ke=zu();const my=ku(ke);var vu={exports:{}},Uo={},_u={exports:{}},Su={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function gy(){return Bh||(Bh=1,(function(i){function t(Y,Z){var _e=Y.length;Y.push(Z);e:for(;0<_e;){var fe=_e-1>>>1,J=Y[fe];if(0<r(J,Z))Y[fe]=Z,Y[_e]=J,_e=fe;else break e}}function l(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var Z=Y[0],_e=Y.pop();if(_e!==Z){Y[0]=_e;e:for(var fe=0,J=Y.length,R=J>>>1;fe<R;){var U=2*(fe+1)-1,$=Y[U],W=U+1,le=Y[W];if(0>r($,_e))W<J&&0>r(le,$)?(Y[fe]=le,Y[W]=_e,fe=W):(Y[fe]=$,Y[U]=_e,fe=U);else if(W<J&&0>r(le,_e))Y[fe]=le,Y[W]=_e,fe=W;else break e}}return Z}function r(Y,Z){var _e=Y.sortIndex-Z.sortIndex;return _e!==0?_e:Y.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var g=[],m=[],v=1,_=null,S=3,T=!1,A=!1,C=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(Y){for(var Z=l(m);Z!==null;){if(Z.callback===null)a(m);else if(Z.startTime<=Y)a(m),Z.sortIndex=Z.expirationTime,t(g,Z);else break;Z=l(m)}}function q(Y){if(C=!1,B(Y),!A)if(l(g)!==null)A=!0,X||(X=!0,L());else{var Z=l(m);Z!==null&&ue(q,Z.startTime-Y)}}var X=!1,F=-1,re=5,O=-1;function ce(){return M?!0:!(i.unstable_now()-O<re)}function be(){if(M=!1,X){var Y=i.unstable_now();O=Y;var Z=!0;try{e:{A=!1,C&&(C=!1,D(F),F=-1),T=!0;var _e=S;try{t:{for(B(Y),_=l(g);_!==null&&!(_.expirationTime>Y&&ce());){var fe=_.callback;if(typeof fe=="function"){_.callback=null,S=_.priorityLevel;var J=fe(_.expirationTime<=Y);if(Y=i.unstable_now(),typeof J=="function"){_.callback=J,B(Y),Z=!0;break t}_===l(g)&&a(g),B(Y)}else a(g);_=l(g)}if(_!==null)Z=!0;else{var R=l(m);R!==null&&ue(q,R.startTime-Y),Z=!1}}break e}finally{_=null,S=_e,T=!1}Z=void 0}}finally{Z?L():X=!1}}}var L;if(typeof k=="function")L=function(){k(be)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,w=ie.port2;ie.port1.onmessage=be,L=function(){w.postMessage(null)}}else L=function(){N(be,0)};function ue(Y,Z){F=N(function(){Y(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var _e=S;S=Z;try{return Y()}finally{S=_e}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var _e=S;S=Y;try{return Z()}finally{S=_e}},i.unstable_scheduleCallback=function(Y,Z,_e){var fe=i.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?fe+_e:fe):_e=fe,Y){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=_e+J,Y={id:v++,callback:Z,priorityLevel:Y,startTime:_e,expirationTime:J,sortIndex:-1},_e>fe?(Y.sortIndex=_e,t(m,Y),l(g)===null&&Y===l(m)&&(C?(D(F),F=-1):C=!0,ue(q,_e-fe))):(Y.sortIndex=J,t(g,Y),A||T||(A=!0,X||(X=!0,L()))),Y},i.unstable_shouldYield=ce,i.unstable_wrapCallback=function(Y){var Z=S;return function(){var _e=S;S=Z;try{return Y.apply(this,arguments)}finally{S=_e}}}})(Su)),Su}var Hh;function yy(){return Hh||(Hh=1,_u.exports=gy()),_u.exports}var Tu={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function vy(){if(Vh)return Yt;Vh=1;var i=zu();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(g,m,null,v)},Yt.flushSync=function(g){var m=d.T,v=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=m,a.p=v,a.d.f()}},Yt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},Yt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Yt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Yt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},Yt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Yt.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=h(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},Yt.requestFormReset=function(g){a.d.r(g)},Yt.unstable_batchedUpdates=function(g,m){return g(m)},Yt.useFormState=function(g,m,v){return d.H.useFormState(g,m,v)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.1",Yt}var Oh;function _y(){if(Oh)return Tu.exports;Oh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Tu.exports=vy(),Tu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function Sy(){if(Fh)return Uo;Fh=1;var i=yy(),t=zu(),l=_y();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(s=p.return,s!==null){o=s;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return g(p),e;if(y===s)return g(p),n;y=y.sibling}throw Error(a(188))}if(o.return!==s.return)o=p,s=y;else{for(var E=!1,I=p.child;I;){if(I===o){E=!0,o=p,s=y;break}if(I===s){E=!0,s=p,o=y;break}I=I.sibling}if(!E){for(I=y.child;I;){if(I===o){E=!0,o=y,s=p;break}if(I===s){E=!0,s=y,o=p;break}I=I.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case k:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case B:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case re:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var ue=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},fe=[],J=-1;function R(e){return{current:e}}function U(e){0>J||(e.current=fe[J],fe[J]=null,J--)}function $(e,n){J++,fe[J]=e.current,e.current=n}var W=R(null),le=R(null),Te=R(null),Ie=R(null);function Le(e,n){switch($(Te,n),$(le,e),$(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?oh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=oh(n),e=ah(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(W),$(W,e)}function Ue(){U(W),U(le),U(Te)}function at(e){e.memoizedState!==null&&$(Ie,e);var n=W.current,o=ah(n,e.type);n!==o&&($(le,e),$(W,o))}function st(e){le.current===e&&(U(W),U(le)),Ie.current===e&&(U(Ie),No._currentValue=_e)}var Re,Fe;function x(e){if(Re===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Re=n&&n[1]||"",Fe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+e+Fe}var he=!1;function se(e,n){if(!e||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var ne=ae}Reflect.construct(e,[],me)}else{try{me.call()}catch(ae){ne=ae}e.call(me.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(me=e())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=s.DetermineComponentFrameRoot(),E=y[0],I=y[1];if(E&&I){var P=E.split(`
`),ee=I.split(`
`);for(p=s=0;s<P.length&&!P[s].includes("DetermineComponentFrameRoot");)s++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(s===P.length||p===ee.length)for(s=P.length-1,p=ee.length-1;1<=s&&0<=p&&P[s]!==ee[p];)p--;for(;1<=s&&0<=p;s--,p--)if(P[s]!==ee[p]){if(s!==1||p!==1)do if(s--,p--,0>p||P[s]!==ee[p]){var de=`
`+P[s].replace(" at new "," at ");return e.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",e.displayName)),de}while(1<=s&&0<=p);break}}}finally{he=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?x(o):""}function G(e,n){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return e.child!==n&&n!==null?x("Suspense Fallback"):x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return se(e.type,!1);case 11:return se(e.type.render,!1);case 1:return se(e.type,!0);case 31:return x("Activity");default:return""}}function z(e){try{var n="",o=null;do n+=G(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var K=Object.prototype.hasOwnProperty,ge=i.unstable_scheduleCallback,ye=i.unstable_cancelCallback,te=i.unstable_shouldYield,Ee=i.unstable_requestPaint,xe=i.unstable_now,Se=i.unstable_getCurrentPriorityLevel,De=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,Je=i.unstable_NormalPriority,Ft=i.unstable_LowPriority,Tn=i.unstable_IdlePriority,Xt=i.log,Un=i.unstable_setDisableYieldValue,rt=null,Mt=null;function Kt(e){if(typeof Xt=="function"&&Un(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(rt,e)}catch{}}var ft=Math.clz32?Math.clz32:Bl,Ki=Math.log,Pl=Math.LN2;function Bl(e){return e>>>=0,e===0?32:31-(Ki(e)/Pl|0)|0}var ti=256,H=262144,oe=4194304;function ve(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var p=0,y=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var I=s&134217727;return I!==0?(s=I&~y,s!==0?p=ve(s):(E&=I,E!==0?p=ve(E):o||(o=I&~e,o!==0&&(p=ve(o))))):(I=s&~y,I!==0?p=ve(I):E!==0?p=ve(E):o||(o=s&~e,o!==0&&(p=ve(o)))),p===0?0:n!==0&&n!==p&&(n&y)===0&&(y=p&-p,o=n&-n,y>=o||y===32&&(o&4194048)!==0)?n:p}function He(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Pe(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Be(){var e=oe;return oe<<=1,(oe&62914560)===0&&(oe=4194304),e}function Ce(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Ve(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yt(e,n,o,s,p,y){var E=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var I=e.entanglements,P=e.expirationTimes,ee=e.hiddenUpdates;for(o=E&~o;0<o;){var de=31-ft(o),me=1<<de;I[de]=0,P[de]=-1;var ne=ee[de];if(ne!==null)for(ee[de]=null,de=0;de<ne.length;de++){var ae=ne[de];ae!==null&&(ae.lane&=-536870913)}o&=~me}s!==0&&Ge(e,s,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(E&~n))}function Ge(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-ft(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function tt(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-ft(o),p=1<<s;p&n|e[s]&n&&(e[s]|=n),o&=~p}}function vt(e,n){var o=n&-n;return o=(o&42)!==0?1:qt(o),(o&(e.suspendedLanes|n))!==0?0:o}function qt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function An(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wn(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Rh(e.type))}function bt(e,n){var o=Z.p;try{return Z.p=e,n()}finally{Z.p=o}}var _t=Math.random().toString(36).slice(2),mt="__reactFiber$"+_t,Ze="__reactProps$"+_t,Pt="__reactContainer$"+_t,Nn="__reactEvents$"+_t,Hl="__reactListeners$"+_t,ng="__reactHandles$"+_t,Yu="__reactResources$"+_t,Vl="__reactMarker$"+_t;function rs(e){delete e[mt],delete e[Ze],delete e[Nn],delete e[Hl],delete e[ng]}function Zi(e){var n=e[mt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Pt]||o[mt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=hh(e);e!==null;){if(o=e[mt])return o;e=hh(e)}return n}e=o,o=e.parentNode}return null}function Xi(e){if(e=e[mt]||e[Pt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ol(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Qi(e){var n=e[Yu];return n||(n=e[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(e){e[Vl]=!0}var Ju=new Set,Ku={};function wi(e,n){$i(e,n),$i(e+"Capture",n)}function $i(e,n){for(Ku[e]=n,e=0;e<n.length;e++)Ju.add(n[e])}var ig=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zu={},Xu={};function lg(e){return K.call(Xu,e)?!0:K.call(Zu,e)?!1:ig.test(e)?Xu[e]=!0:(Zu[e]=!0,!1)}function qo(e,n,o){if(lg(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Po(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function kn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function og(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,y=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function us(e){if(!e._valueTracker){var n=Qu(e)?"checked":"value";e._valueTracker=og(e,n,""+e[n])}}function $u(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Qu(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function Bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ag=/[\n"\\]/g;function fn(e){return e.replace(ag,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cs(e,n,o,s,p,y,E,I){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),n!=null?E==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+cn(n)):e.value!==""+cn(n)&&(e.value=""+cn(n)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),n!=null?fs(e,E,cn(n)):o!=null?fs(e,E,cn(o)):s!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.name=""+cn(I):e.removeAttribute("name")}function Wu(e,n,o,s,p,y,E,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||n!=null)){us(e);return}o=o!=null?""+cn(o):"",n=n!=null?""+cn(n):o,I||n===e.value||(e.value=n),e.defaultValue=n}s=s??p,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=I?e.checked:!!s,e.defaultChecked=!!s,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),us(e)}function fs(e,n,o){n==="number"&&Bo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Wi(e,n,o,s){if(e=e.options,n){n={};for(var p=0;p<o.length;p++)n["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=n.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&s&&(e[o].defaultSelected=!0)}else{for(o=""+cn(o),n=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,s&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function ju(e,n,o){if(n!=null&&(n=""+cn(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+cn(o):""}function ec(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(ue(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=cn(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),us(e)}function ji(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var sg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||sg.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function nc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var p in n)s=n[p],n.hasOwnProperty(p)&&o[p]!==s&&tc(e,p,s)}else for(var y in n)n.hasOwnProperty(y)&&tc(e,y,n[y])}function ds(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ug=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ho(e){return ug.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var hs=null;function ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var el=null,tl=null;function ic(e){var n=Xi(e);if(n&&(e=n.stateNode)){var o=e[Ze]||null;e:switch(e=n.stateNode,n.type){case"input":if(cs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var p=s[Ze]||null;if(!p)throw Error(a(90));cs(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&$u(s)}break e;case"textarea":ju(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&Wi(e,!!o.multiple,n,!1)}}}var ms=!1;function lc(e,n,o){if(ms)return e(n,o);ms=!0;try{var s=e(n);return s}finally{if(ms=!1,(el!==null||tl!==null)&&(Na(),el&&(n=el,e=tl,tl=el=null,ic(n),e)))for(n=0;n<e.length;n++)ic(e[n])}}function Fl(e,n){var o=e.stateNode;if(o===null)return null;var s=o[Ze]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Ln)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{gs=!1}var ni=null,ys=null,Vo=null;function oc(){if(Vo)return Vo;var e,n=ys,o=n.length,s,p="value"in ni?ni.value:ni.textContent,y=p.length;for(e=0;e<o&&n[e]===p[e];e++);var E=o-e;for(s=1;s<=E&&n[o-s]===p[y-s];s++);return Vo=p.slice(e,1<s?1-s:void 0)}function Oo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fo(){return!0}function ac(){return!1}function Qt(e){function n(o,s,p,y,E){this._reactName=o,this._targetInst=p,this.type=s,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(o=e[I],this[I]=o?o(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Fo:ac,this.isPropagationStopped=ac,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Qt(Ni),Jl=_({},Ni,{view:0,detail:0}),cg=Qt(Jl),vs,_s,Kl,Jo=_({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(vs=e.screenX-Kl.screenX,_s=e.screenY-Kl.screenY):_s=vs=0,Kl=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:_s}}),sc=Qt(Jo),fg=_({},Jo,{dataTransfer:0}),dg=Qt(fg),hg=_({},Jl,{relatedTarget:0}),Ss=Qt(hg),pg=_({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),mg=Qt(pg),gg=_({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yg=Qt(gg),vg=_({},Ni,{data:0}),rc=Qt(vg),_g={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tg[e])?!!n[e]:!1}function Ts(){return Eg}var bg=_({},Jl,{key:function(e){if(e.key){var n=_g[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xg=Qt(bg),Cg=_({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=Qt(Cg),Ag=_({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),wg=Qt(Ag),Ng=_({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rg=Qt(Ng),Mg=_({},Jo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ig=Qt(Mg),Dg=_({},Ni,{newState:0,oldState:0}),Ug=Qt(Dg),kg=[9,13,27,32],Es=Ln&&"CompositionEvent"in window,Zl=null;Ln&&"documentMode"in document&&(Zl=document.documentMode);var zg=Ln&&"TextEvent"in window&&!Zl,cc=Ln&&(!Es||Zl&&8<Zl&&11>=Zl),fc=" ",dc=!1;function hc(e,n){switch(e){case"keyup":return kg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nl=!1;function Lg(e,n){switch(e){case"compositionend":return pc(n);case"keypress":return n.which!==32?null:(dc=!0,fc);case"textInput":return e=n.data,e===fc&&dc?null:e;default:return null}}function Gg(e,n){if(nl)return e==="compositionend"||!Es&&hc(e,n)?(e=oc(),Vo=ys=ni=null,nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cc&&n.locale!=="ko"?null:n.data;default:return null}}var qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qg[e.type]:n==="textarea"}function gc(e,n,o,s){el?tl?tl.push(s):tl=[s]:el=s,n=za(n,"onChange"),0<n.length&&(o=new Yo("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Xl=null,Ql=null;function Pg(e){jd(e,0)}function Ko(e){var n=Ol(e);if($u(n))return e}function yc(e,n){if(e==="change")return n}var vc=!1;if(Ln){var bs;if(Ln){var xs="oninput"in document;if(!xs){var _c=document.createElement("div");_c.setAttribute("oninput","return;"),xs=typeof _c.oninput=="function"}bs=xs}else bs=!1;vc=bs&&(!document.documentMode||9<document.documentMode)}function Sc(){Xl&&(Xl.detachEvent("onpropertychange",Tc),Ql=Xl=null)}function Tc(e){if(e.propertyName==="value"&&Ko(Ql)){var n=[];gc(n,Ql,e,ps(e)),lc(Pg,n)}}function Bg(e,n,o){e==="focusin"?(Sc(),Xl=n,Ql=o,Xl.attachEvent("onpropertychange",Tc)):e==="focusout"&&Sc()}function Hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ko(Ql)}function Vg(e,n){if(e==="click")return Ko(n)}function Og(e,n){if(e==="input"||e==="change")return Ko(n)}function Fg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nn=typeof Object.is=="function"?Object.is:Fg;function $l(e,n){if(nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var p=o[s];if(!K.call(n,p)||!nn(e[p],n[p]))return!1}return!0}function Ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,n){var o=Ec(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ec(o)}}function xc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Bo(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Bo(e.document)}return n}function Cs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Yg=Ln&&"documentMode"in document&&11>=document.documentMode,il=null,As=null,Wl=null,ws=!1;function Ac(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ws||il==null||il!==Bo(s)||(s=il,"selectionStart"in s&&Cs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wl&&$l(Wl,s)||(Wl=s,s=za(As,"onSelect"),0<s.length&&(n=new Yo("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=il)))}function Ri(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var ll={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},Ns={},wc={};Ln&&(wc=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Mi(e){if(Ns[e])return Ns[e];if(!ll[e])return e;var n=ll[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in wc)return Ns[e]=n[o];return e}var Nc=Mi("animationend"),Rc=Mi("animationiteration"),Mc=Mi("animationstart"),Jg=Mi("transitionrun"),Kg=Mi("transitionstart"),Zg=Mi("transitioncancel"),Ic=Mi("transitionend"),Dc=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function En(e,n){Dc.set(e,n),wi(n,[e])}var Zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},dn=[],ol=0,Ms=0;function Xo(){for(var e=ol,n=Ms=ol=0;n<e;){var o=dn[n];dn[n++]=null;var s=dn[n];dn[n++]=null;var p=dn[n];dn[n++]=null;var y=dn[n];if(dn[n++]=null,s!==null&&p!==null){var E=s.pending;E===null?p.next=p:(p.next=E.next,E.next=p),s.pending=p}y!==0&&Uc(o,p,y)}}function Qo(e,n,o,s){dn[ol++]=e,dn[ol++]=n,dn[ol++]=o,dn[ol++]=s,Ms|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Is(e,n,o,s){return Qo(e,n,o,s),$o(e)}function Ii(e,n){return Qo(e,null,null,n),$o(e)}function Uc(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var p=!1,y=e.return;y!==null;)y.childLanes|=o,s=y.alternate,s!==null&&(s.childLanes|=o),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&n!==null&&(p=31-ft(o),e=y.hiddenUpdates,s=e[p],s===null?e[p]=[n]:s.push(n),n.lane=o|536870912),y):null}function $o(e){if(50<To)throw To=0,Br=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var al={};function Xg(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,n,o,s){return new Xg(e,n,o,s)}function Ds(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gn(e,n){var o=e.alternate;return o===null?(o=ln(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function kc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Wo(e,n,o,s,p,y){var E=0;if(s=e,typeof e=="function")Ds(e)&&(E=1);else if(typeof e=="string")E=ey(e,o,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case O:return e=ln(31,o,n,p),e.elementType=O,e.lanes=y,e;case C:return Di(o.children,p,y,n);case M:E=8,p|=24;break;case N:return e=ln(12,o,n,p|2),e.elementType=N,e.lanes=y,e;case q:return e=ln(13,o,n,p),e.elementType=q,e.lanes=y,e;case X:return e=ln(19,o,n,p),e.elementType=X,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:E=10;break e;case D:E=9;break e;case B:E=11;break e;case F:E=14;break e;case re:E=16,s=null;break e}E=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=ln(E,o,n,p),n.elementType=e,n.type=s,n.lanes=y,n}function Di(e,n,o,s){return e=ln(7,e,s,n),e.lanes=o,e}function Us(e,n,o){return e=ln(6,e,null,n),e.lanes=o,e}function zc(e){var n=ln(18,null,null,0);return n.stateNode=e,n}function ks(e,n,o){return n=ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lc=new WeakMap;function hn(e,n){if(typeof e=="object"&&e!==null){var o=Lc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:z(n)},Lc.set(e,n),n)}return{value:e,source:n,stack:z(n)}}var sl=[],rl=0,jo=null,jl=0,pn=[],mn=0,ii=null,Rn=1,Mn="";function qn(e,n){sl[rl++]=jl,sl[rl++]=jo,jo=e,jl=n}function Gc(e,n,o){pn[mn++]=Rn,pn[mn++]=Mn,pn[mn++]=ii,ii=e;var s=Rn;e=Mn;var p=32-ft(s)-1;s&=~(1<<p),o+=1;var y=32-ft(n)+p;if(30<y){var E=p-p%5;y=(s&(1<<E)-1).toString(32),s>>=E,p-=E,Rn=1<<32-ft(n)+p|o<<p|s,Mn=y+e}else Rn=1<<y|o<<p|s,Mn=e}function zs(e){e.return!==null&&(qn(e,1),Gc(e,1,0))}function Ls(e){for(;e===jo;)jo=sl[--rl],sl[rl]=null,jl=sl[--rl],sl[rl]=null;for(;e===ii;)ii=pn[--mn],pn[mn]=null,Mn=pn[--mn],pn[mn]=null,Rn=pn[--mn],pn[mn]=null}function qc(e,n){pn[mn++]=Rn,pn[mn++]=Mn,pn[mn++]=ii,Rn=n.id,Mn=n.overflow,ii=e}var Bt=null,St=null,je=!1,li=null,gn=!1,Gs=Error(a(519));function oi(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eo(hn(n,e)),Gs}function Pc(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[mt]=e,n[Ze]=s,o){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(o=0;o<bo.length;o++)Qe(bo[o],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":Qe("invalid",n),Wu(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Qe("invalid",n);break;case"textarea":Qe("invalid",n),ec(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||ih(n.textContent,o)?(s.popover!=null&&(Qe("beforetoggle",n),Qe("toggle",n)),s.onScroll!=null&&Qe("scroll",n),s.onScrollEnd!=null&&Qe("scrollend",n),s.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||oi(e,!0)}function Bc(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:Bt=Bt.return}}function ul(e){if(e!==Bt)return!1;if(!je)return Bc(e),je=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||tu(e.type,e.memoizedProps)),o=!o),o&&St&&oi(e),Bc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));St=dh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));St=dh(e)}else n===27?(n=St,_i(e.type)?(e=au,au=null,St=e):St=n):St=Bt?vn(e.stateNode.nextSibling):null;return!0}function Ui(){St=Bt=null,je=!1}function qs(){var e=li;return e!==null&&(en===null?en=e:en.push.apply(en,e),li=null),e}function eo(e){li===null?li=[e]:li.push(e)}var Ps=R(null),ki=null,Pn=null;function ai(e,n,o){$(Ps,n._currentValue),n._currentValue=o}function Bn(e){e._currentValue=Ps.current,U(Ps)}function Bs(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Hs(e,n,o,s){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=p;for(var P=0;P<n.length;P++)if(I.context===n[P]){y.lanes|=o,I=y.alternate,I!==null&&(I.lanes|=o),Bs(y.return,o,e),s||(E=null);break e}y=I.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(a(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),Bs(E,o,e),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===e){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function cl(e,n,o,s){e=null;for(var p=n,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var I=p.type;nn(p.pendingProps.value,E.value)||(e!==null?e.push(I):e=[I])}}else if(p===Ie.current){if(E=p.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(No):e=[No])}p=p.return}e!==null&&Hs(n,e,o,s),n.flags|=262144}function ea(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zi(e){ki=e,Pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Hc(ki,e)}function ta(e,n){return ki===null&&zi(e),Hc(e,n)}function Hc(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Pn===null){if(e===null)throw Error(a(308));Pn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pn=Pn.next=n;return o}var Qg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},$g=i.unstable_scheduleCallback,Wg=i.unstable_NormalPriority,It={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vs(){return{controller:new Qg,data:new Map,refCount:0}}function to(e){e.refCount--,e.refCount===0&&$g(Wg,function(){e.controller.abort()})}var no=null,Os=0,fl=0,dl=null;function jg(e,n){if(no===null){var o=no=[];Os=0,fl=Jr(),dl={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Os++,n.then(Vc,Vc),n}function Vc(){if(--Os===0&&no!==null){dl!==null&&(dl.status="fulfilled");var e=no;no=null,fl=0,dl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function e0(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var p=0;p<o.length;p++)(0,o[p])(n)},function(p){for(s.status="rejected",s.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),s}var Oc=Y.S;Y.S=function(e,n){wd=xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&jg(e,n),Oc!==null&&Oc(e,n)};var Li=R(null);function Fs(){var e=Li.current;return e!==null?e:gt.pooledCache}function na(e,n){n===null?$(Li,Li.current):$(Li,n.pool)}function Fc(){var e=Fs();return e===null?null:{parent:It._currentValue,pool:e}}var hl=Error(a(460)),Ys=Error(a(474)),ia=Error(a(542)),la={then:function(){}};function Yc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jc(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(zn,zn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zc(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=gt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=s}},function(s){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zc(e),e}throw qi=n,hl}}function Gi(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(qi=o,hl):o}}var qi=null;function Kc(){if(qi===null)throw Error(a(459));var e=qi;return qi=null,e}function Zc(e){if(e===hl||e===ia)throw Error(a(483))}var pl=null,io=0;function oa(e){var n=io;return io+=1,pl===null&&(pl=[]),Jc(pl,e,n)}function lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function aa(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xc(e){function n(Q,V){if(e){var j=Q.deletions;j===null?(Q.deletions=[V],Q.flags|=16):j.push(V)}}function o(Q,V){if(!e)return null;for(;V!==null;)n(Q,V),V=V.sibling;return null}function s(Q){for(var V=new Map;Q!==null;)Q.key!==null?V.set(Q.key,Q):V.set(Q.index,Q),Q=Q.sibling;return V}function p(Q,V){return Q=Gn(Q,V),Q.index=0,Q.sibling=null,Q}function y(Q,V,j){return Q.index=j,e?(j=Q.alternate,j!==null?(j=j.index,j<V?(Q.flags|=67108866,V):j):(Q.flags|=67108866,V)):(Q.flags|=1048576,V)}function E(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function I(Q,V,j,pe){return V===null||V.tag!==6?(V=Us(j,Q.mode,pe),V.return=Q,V):(V=p(V,j),V.return=Q,V)}function P(Q,V,j,pe){var ze=j.type;return ze===C?de(Q,V,j.props.children,pe,j.key):V!==null&&(V.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===re&&Gi(ze)===V.type)?(V=p(V,j.props),lo(V,j),V.return=Q,V):(V=Wo(j.type,j.key,j.props,null,Q.mode,pe),lo(V,j),V.return=Q,V)}function ee(Q,V,j,pe){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=ks(j,Q.mode,pe),V.return=Q,V):(V=p(V,j.children||[]),V.return=Q,V)}function de(Q,V,j,pe,ze){return V===null||V.tag!==7?(V=Di(j,Q.mode,pe,ze),V.return=Q,V):(V=p(V,j),V.return=Q,V)}function me(Q,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Us(""+V,Q.mode,j),V.return=Q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return j=Wo(V.type,V.key,V.props,null,Q.mode,j),lo(j,V),j.return=Q,j;case A:return V=ks(V,Q.mode,j),V.return=Q,V;case re:return V=Gi(V),me(Q,V,j)}if(ue(V)||L(V))return V=Di(V,Q.mode,j,null),V.return=Q,V;if(typeof V.then=="function")return me(Q,oa(V),j);if(V.$$typeof===k)return me(Q,ta(Q,V),j);aa(Q,V)}return null}function ne(Q,V,j,pe){var ze=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ze!==null?null:I(Q,V,""+j,pe);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return j.key===ze?P(Q,V,j,pe):null;case A:return j.key===ze?ee(Q,V,j,pe):null;case re:return j=Gi(j),ne(Q,V,j,pe)}if(ue(j)||L(j))return ze!==null?null:de(Q,V,j,pe,null);if(typeof j.then=="function")return ne(Q,V,oa(j),pe);if(j.$$typeof===k)return ne(Q,V,ta(Q,j),pe);aa(Q,j)}return null}function ae(Q,V,j,pe,ze){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Q=Q.get(j)||null,I(V,Q,""+pe,ze);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case T:return Q=Q.get(pe.key===null?j:pe.key)||null,P(V,Q,pe,ze);case A:return Q=Q.get(pe.key===null?j:pe.key)||null,ee(V,Q,pe,ze);case re:return pe=Gi(pe),ae(Q,V,j,pe,ze)}if(ue(pe)||L(pe))return Q=Q.get(j)||null,de(V,Q,pe,ze,null);if(typeof pe.then=="function")return ae(Q,V,j,oa(pe),ze);if(pe.$$typeof===k)return ae(Q,V,j,ta(V,pe),ze);aa(V,pe)}return null}function Ne(Q,V,j,pe){for(var ze=null,nt=null,Me=V,Ke=V=0,We=null;Me!==null&&Ke<j.length;Ke++){Me.index>Ke?(We=Me,Me=null):We=Me.sibling;var it=ne(Q,Me,j[Ke],pe);if(it===null){Me===null&&(Me=We);break}e&&Me&&it.alternate===null&&n(Q,Me),V=y(it,V,Ke),nt===null?ze=it:nt.sibling=it,nt=it,Me=We}if(Ke===j.length)return o(Q,Me),je&&qn(Q,Ke),ze;if(Me===null){for(;Ke<j.length;Ke++)Me=me(Q,j[Ke],pe),Me!==null&&(V=y(Me,V,Ke),nt===null?ze=Me:nt.sibling=Me,nt=Me);return je&&qn(Q,Ke),ze}for(Me=s(Me);Ke<j.length;Ke++)We=ae(Me,Q,Ke,j[Ke],pe),We!==null&&(e&&We.alternate!==null&&Me.delete(We.key===null?Ke:We.key),V=y(We,V,Ke),nt===null?ze=We:nt.sibling=We,nt=We);return e&&Me.forEach(function(xi){return n(Q,xi)}),je&&qn(Q,Ke),ze}function qe(Q,V,j,pe){if(j==null)throw Error(a(151));for(var ze=null,nt=null,Me=V,Ke=V=0,We=null,it=j.next();Me!==null&&!it.done;Ke++,it=j.next()){Me.index>Ke?(We=Me,Me=null):We=Me.sibling;var xi=ne(Q,Me,it.value,pe);if(xi===null){Me===null&&(Me=We);break}e&&Me&&xi.alternate===null&&n(Q,Me),V=y(xi,V,Ke),nt===null?ze=xi:nt.sibling=xi,nt=xi,Me=We}if(it.done)return o(Q,Me),je&&qn(Q,Ke),ze;if(Me===null){for(;!it.done;Ke++,it=j.next())it=me(Q,it.value,pe),it!==null&&(V=y(it,V,Ke),nt===null?ze=it:nt.sibling=it,nt=it);return je&&qn(Q,Ke),ze}for(Me=s(Me);!it.done;Ke++,it=j.next())it=ae(Me,Q,Ke,it.value,pe),it!==null&&(e&&it.alternate!==null&&Me.delete(it.key===null?Ke:it.key),V=y(it,V,Ke),nt===null?ze=it:nt.sibling=it,nt=it);return e&&Me.forEach(function(fy){return n(Q,fy)}),je&&qn(Q,Ke),ze}function pt(Q,V,j,pe){if(typeof j=="object"&&j!==null&&j.type===C&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case T:e:{for(var ze=j.key;V!==null;){if(V.key===ze){if(ze=j.type,ze===C){if(V.tag===7){o(Q,V.sibling),pe=p(V,j.props.children),pe.return=Q,Q=pe;break e}}else if(V.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===re&&Gi(ze)===V.type){o(Q,V.sibling),pe=p(V,j.props),lo(pe,j),pe.return=Q,Q=pe;break e}o(Q,V);break}else n(Q,V);V=V.sibling}j.type===C?(pe=Di(j.props.children,Q.mode,pe,j.key),pe.return=Q,Q=pe):(pe=Wo(j.type,j.key,j.props,null,Q.mode,pe),lo(pe,j),pe.return=Q,Q=pe)}return E(Q);case A:e:{for(ze=j.key;V!==null;){if(V.key===ze)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){o(Q,V.sibling),pe=p(V,j.children||[]),pe.return=Q,Q=pe;break e}else{o(Q,V);break}else n(Q,V);V=V.sibling}pe=ks(j,Q.mode,pe),pe.return=Q,Q=pe}return E(Q);case re:return j=Gi(j),pt(Q,V,j,pe)}if(ue(j))return Ne(Q,V,j,pe);if(L(j)){if(ze=L(j),typeof ze!="function")throw Error(a(150));return j=ze.call(j),qe(Q,V,j,pe)}if(typeof j.then=="function")return pt(Q,V,oa(j),pe);if(j.$$typeof===k)return pt(Q,V,ta(Q,j),pe);aa(Q,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(o(Q,V.sibling),pe=p(V,j),pe.return=Q,Q=pe):(o(Q,V),pe=Us(j,Q.mode,pe),pe.return=Q,Q=pe),E(Q)):o(Q,V)}return function(Q,V,j,pe){try{io=0;var ze=pt(Q,V,j,pe);return pl=null,ze}catch(Me){if(Me===hl||Me===ia)throw Me;var nt=ln(29,Me,null,Q.mode);return nt.lanes=pe,nt.return=Q,nt}finally{}}}var Pi=Xc(!0),Qc=Xc(!1),si=!1;function Js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ks(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ui(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ot&2)!==0){var p=s.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),s.pending=n,n=$o(e),Uc(e,null,o),n}return Qo(e,s,n,o),$o(e)}function oo(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,tt(e,o)}}function Zs(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?p=y=n:y=y.next=n}else p=y=n;o={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Xs=!1;function ao(){if(Xs){var e=dl;if(e!==null)throw e}}function so(e,n,o,s){Xs=!1;var p=e.updateQueue;si=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var P=I,ee=P.next;P.next=null,E===null?y=ee:E.next=ee,E=P;var de=e.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==E&&(I===null?de.firstBaseUpdate=ee:I.next=ee,de.lastBaseUpdate=P))}if(y!==null){var me=p.baseState;E=0,de=ee=P=null,I=y;do{var ne=I.lane&-536870913,ae=ne!==I.lane;if(ae?($e&ne)===ne:(s&ne)===ne){ne!==0&&ne===fl&&(Xs=!0),de!==null&&(de=de.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ne=e,qe=I;ne=n;var pt=o;switch(qe.tag){case 1:if(Ne=qe.payload,typeof Ne=="function"){me=Ne.call(pt,me,ne);break e}me=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=qe.payload,ne=typeof Ne=="function"?Ne.call(pt,me,ne):Ne,ne==null)break e;me=_({},me,ne);break e;case 2:si=!0}}ne=I.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(ee=de=ae,P=me):de=de.next=ae,E|=ne;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);de===null&&(P=me),p.baseState=P,p.firstBaseUpdate=ee,p.lastBaseUpdate=de,y===null&&(p.shared.lanes=0),pi|=E,e.lanes=E,e.memoizedState=me}}function $c(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Wc(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)$c(o[e],n)}var ml=R(null),sa=R(0);function jc(e,n){e=Xn,$(sa,e),$(ml,n),Xn=e|n.baseLanes}function Qs(){$(sa,Xn),$(ml,ml.current)}function $s(){Xn=sa.current,U(ml),U(sa)}var on=R(null),yn=null;function ci(e){var n=e.alternate;$(Nt,Nt.current&1),$(on,e),yn===null&&(n===null||ml.current!==null||n.memoizedState!==null)&&(yn=e)}function Ws(e){$(Nt,Nt.current),$(on,e),yn===null&&(yn=e)}function ef(e){e.tag===22?($(Nt,Nt.current),$(on,e),yn===null&&(yn=e)):fi()}function fi(){$(Nt,Nt.current),$(on,on.current)}function an(e){U(on),yn===e&&(yn=null),U(Nt)}var Nt=R(0);function ra(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||lu(o)||ou(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hn=0,Ye=null,dt=null,Dt=null,ua=!1,gl=!1,Bi=!1,ca=0,ro=0,yl=null,t0=0;function Ct(){throw Error(a(321))}function js(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!nn(e[o],n[o]))return!1;return!0}function er(e,n,o,s,p,y){return Hn=y,Ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?qf:mr,Bi=!1,y=o(s,p),Bi=!1,gl&&(y=nf(n,o,s,p)),tf(e),y}function tf(e){Y.H=fo;var n=dt!==null&&dt.next!==null;if(Hn=0,Dt=dt=Ye=null,ua=!1,ro=0,yl=null,n)throw Error(a(300));e===null||Ut||(e=e.dependencies,e!==null&&ea(e)&&(Ut=!0))}function nf(e,n,o,s){Ye=e;var p=0;do{if(gl&&(yl=null),ro=0,gl=!1,25<=p)throw Error(a(301));if(p+=1,Dt=dt=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=Pf,y=n(o,s)}while(gl);return y}function n0(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?uo(n):n,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(Ye.flags|=1024),n}function tr(){var e=ca!==0;return ca=0,e}function nr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function ir(e){if(ua){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ua=!1}Hn=0,Dt=dt=Ye=null,gl=!1,ro=ca=0,yl=null}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ye.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Rt(){if(dt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var n=Dt===null?Ye.memoizedState:Dt.next;if(n!==null)Dt=n,dt=e;else{if(e===null)throw Ye.alternate===null?Error(a(467)):Error(a(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Dt===null?Ye.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function fa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uo(e){var n=ro;return ro+=1,yl===null&&(yl=[]),e=Jc(yl,e,n),n=Ye,(Dt===null?n.memoizedState:Dt.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?qf:mr),e}function da(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return uo(e);if(e.$$typeof===k)return Ht(e)}throw Error(a(438,String(e)))}function lr(e){var n=null,o=Ye.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=Ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=fa(),Ye.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=ce;return n.index++,o}function Vn(e,n){return typeof n=="function"?n(e):n}function ha(e){var n=Rt();return or(n,dt,e)}function or(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var p=e.baseQueue,y=s.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}n.baseQueue=p=y,s.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{n=p.next;var I=E=null,P=null,ee=n,de=!1;do{var me=ee.lane&-536870913;if(me!==ee.lane?($e&me)===me:(Hn&me)===me){var ne=ee.revertLane;if(ne===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),me===fl&&(de=!0);else if((Hn&ne)===ne){ee=ee.next,ne===fl&&(de=!0);continue}else me={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},P===null?(I=P=me,E=y):P=P.next=me,Ye.lanes|=ne,pi|=ne;me=ee.action,Bi&&o(y,me),y=ee.hasEagerState?ee.eagerState:o(y,me)}else ne={lane:me,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},P===null?(I=P=ne,E=y):P=P.next=ne,Ye.lanes|=me,pi|=me;ee=ee.next}while(ee!==null&&ee!==n);if(P===null?E=y:P.next=I,!nn(y,e.memoizedState)&&(Ut=!0,de&&(o=dl,o!==null)))throw o;e.memoizedState=y,e.baseState=E,e.baseQueue=P,s.lastRenderedState=y}return p===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ar(e){var n=Rt(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,p=o.pending,y=n.memoizedState;if(p!==null){o.pending=null;var E=p=p.next;do y=e(y,E.action),E=E.next;while(E!==p);nn(y,n.memoizedState)||(Ut=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),o.lastRenderedState=y}return[y,s]}function lf(e,n,o){var s=Ye,p=Rt(),y=je;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=n();var E=!nn((dt||p).memoizedState,o);if(E&&(p.memoizedState=o,Ut=!0),p=p.queue,ur(sf.bind(null,s,p,e),[e]),p.getSnapshot!==n||E||Dt!==null&&Dt.memoizedState.tag&1){if(s.flags|=2048,vl(9,{destroy:void 0},af.bind(null,s,p,o,n),null),gt===null)throw Error(a(349));y||(Hn&127)!==0||of(s,n,o)}return o}function of(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ye.updateQueue,n===null?(n=fa(),Ye.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function af(e,n,o,s){n.value=o,n.getSnapshot=s,rf(n)&&uf(e)}function sf(e,n,o){return o(function(){rf(n)&&uf(e)})}function rf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!nn(e,o)}catch{return!0}}function uf(e){var n=Ii(e,2);n!==null&&tn(n,e,2)}function sr(e){var n=Zt();if(typeof e=="function"){var o=e;if(e=o(),Bi){Kt(!0);try{o()}finally{Kt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},n}function cf(e,n,o,s){return e.baseState=o,or(e,dt,typeof s=="function"?s:Vn)}function i0(e,n,o,s,p){if(ga(e))throw Error(a(485));if(e=n.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};Y.T!==null?o(!0):y.isTransition=!1,s(y),o=n.pending,o===null?(y.next=n.pending=y,ff(n,y)):(y.next=o.next,n.pending=o.next=y)}}function ff(e,n){var o=n.action,s=n.payload,p=e.state;if(n.isTransition){var y=Y.T,E={};Y.T=E;try{var I=o(p,s),P=Y.S;P!==null&&P(E,I),df(e,n,I)}catch(ee){rr(e,n,ee)}finally{y!==null&&E.types!==null&&(y.types=E.types),Y.T=y}}else try{y=o(p,s),df(e,n,y)}catch(ee){rr(e,n,ee)}}function df(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){hf(e,n,s)},function(s){return rr(e,n,s)}):hf(e,n,o)}function hf(e,n,o){n.status="fulfilled",n.value=o,pf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,ff(e,o)))}function rr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,pf(n),n=n.next;while(n!==s)}e.action=null}function pf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mf(e,n){return n}function gf(e,n){if(je){var o=gt.formState;if(o!==null){e:{var s=Ye;if(je){if(St){t:{for(var p=St,y=gn;p.nodeType!==8;){if(!y){p=null;break t}if(p=vn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){St=vn(p.nextSibling),s=p.data==="F!";break e}}oi(s)}s=!1}s&&(n=o[0])}}return o=Zt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mf,lastRenderedState:n},o.queue=s,o=zf.bind(null,Ye,s),s.dispatch=o,s=sr(!1),y=pr.bind(null,Ye,!1,s.queue),s=Zt(),p={state:n,dispatch:null,action:e,pending:null},s.queue=p,o=i0.bind(null,Ye,p,y,o),p.dispatch=o,s.memoizedState=e,[n,o,!1]}function yf(e){var n=Rt();return vf(n,dt,e)}function vf(e,n,o){if(n=or(e,n,mf)[0],e=ha(Vn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=uo(n)}catch(E){throw E===hl?ia:E}else s=n;n=Rt();var p=n.queue,y=p.dispatch;return o!==n.memoizedState&&(Ye.flags|=2048,vl(9,{destroy:void 0},l0.bind(null,p,o),null)),[s,y,e]}function l0(e,n){e.action=n}function _f(e){var n=Rt(),o=dt;if(o!==null)return vf(n,o,e);Rt(),n=n.memoizedState,o=Rt();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function vl(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=Ye.updateQueue,n===null&&(n=fa(),Ye.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Sf(){return Rt().memoizedState}function pa(e,n,o,s){var p=Zt();Ye.flags|=e,p.memoizedState=vl(1|n,{destroy:void 0},o,s===void 0?null:s)}function ma(e,n,o,s){var p=Rt();s=s===void 0?null:s;var y=p.memoizedState.inst;dt!==null&&s!==null&&js(s,dt.memoizedState.deps)?p.memoizedState=vl(n,y,o,s):(Ye.flags|=e,p.memoizedState=vl(1|n,y,o,s))}function Tf(e,n){pa(8390656,8,e,n)}function ur(e,n){ma(2048,8,e,n)}function o0(e){Ye.flags|=4;var n=Ye.updateQueue;if(n===null)n=fa(),Ye.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Ef(e){var n=Rt().memoizedState;return o0({ref:n,nextImpl:e}),function(){if((ot&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function bf(e,n){return ma(4,2,e,n)}function xf(e,n){return ma(4,4,e,n)}function Cf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Af(e,n,o){o=o!=null?o.concat([e]):null,ma(4,4,Cf.bind(null,n,e),o)}function cr(){}function wf(e,n){var o=Rt();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&js(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function Nf(e,n){var o=Rt();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&js(n,s[1]))return s[0];if(s=e(),Bi){Kt(!0);try{e()}finally{Kt(!1)}}return o.memoizedState=[s,n],s}function fr(e,n,o){return o===void 0||(Hn&1073741824)!==0&&($e&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=Rd(),Ye.lanes|=e,pi|=e,o)}function Rf(e,n,o,s){return nn(o,n)?o:ml.current!==null?(e=fr(e,o,s),nn(e,n)||(Ut=!0),e):(Hn&42)===0||(Hn&1073741824)!==0&&($e&261930)===0?(Ut=!0,e.memoizedState=o):(e=Rd(),Ye.lanes|=e,pi|=e,n)}function Mf(e,n,o,s,p){var y=Z.p;Z.p=y!==0&&8>y?y:8;var E=Y.T,I={};Y.T=I,pr(e,!1,n,o);try{var P=p(),ee=Y.S;if(ee!==null&&ee(I,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var de=e0(P,s);co(e,n,de,un(e))}else co(e,n,s,un(e))}catch(me){co(e,n,{then:function(){},status:"rejected",reason:me},un())}finally{Z.p=y,E!==null&&I.types!==null&&(E.types=I.types),Y.T=E}}function a0(){}function dr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var p=If(e).queue;Mf(e,p,n,_e,o===null?a0:function(){return Df(e),o(s)})}function If(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:_e},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Df(e){var n=If(e);n.next===null&&(n=e.alternate.memoizedState),co(e,n.next.queue,{},un())}function hr(){return Ht(No)}function Uf(){return Rt().memoizedState}function kf(){return Rt().memoizedState}function s0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=un();e=ri(o);var s=ui(n,e,o);s!==null&&(tn(s,n,o),oo(s,n,o)),n={cache:Vs()},e.payload=n;return}n=n.return}}function r0(e,n,o){var s=un();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ga(e)?Lf(n,o):(o=Is(e,n,o,s),o!==null&&(tn(o,e,s),Gf(o,n,s)))}function zf(e,n,o){var s=un();co(e,n,o,s)}function co(e,n,o,s){var p={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ga(e))Lf(n,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var E=n.lastRenderedState,I=y(E,o);if(p.hasEagerState=!0,p.eagerState=I,nn(I,E))return Qo(e,n,p,0),gt===null&&Xo(),!1}catch{}finally{}if(o=Is(e,n,p,s),o!==null)return tn(o,e,s),Gf(o,n,s),!0}return!1}function pr(e,n,o,s){if(s={lane:2,revertLane:Jr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ga(e)){if(n)throw Error(a(479))}else n=Is(e,o,s,2),n!==null&&tn(n,e,2)}function ga(e){var n=e.alternate;return e===Ye||n!==null&&n===Ye}function Lf(e,n){gl=ua=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Gf(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,tt(e,o)}}var fo={readContext:Ht,use:da,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};fo.useEffectEvent=Ct;var qf={readContext:Ht,use:da,useCallback:function(e,n){return Zt().memoizedState=[e,n===void 0?null:n],e},useContext:Ht,useEffect:Tf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,pa(4194308,4,Cf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return pa(4194308,4,e,n)},useInsertionEffect:function(e,n){pa(4,2,e,n)},useMemo:function(e,n){var o=Zt();n=n===void 0?null:n;var s=e();if(Bi){Kt(!0);try{e()}finally{Kt(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=Zt();if(o!==void 0){var p=o(n);if(Bi){Kt(!0);try{o(n)}finally{Kt(!1)}}}else p=n;return s.memoizedState=s.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},s.queue=e,e=e.dispatch=r0.bind(null,Ye,e),[s.memoizedState,e]},useRef:function(e){var n=Zt();return e={current:e},n.memoizedState=e},useState:function(e){e=sr(e);var n=e.queue,o=zf.bind(null,Ye,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:cr,useDeferredValue:function(e,n){var o=Zt();return fr(o,e,n)},useTransition:function(){var e=sr(!1);return e=Mf.bind(null,Ye,e.queue,!0,!1),Zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=Ye,p=Zt();if(je){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),gt===null)throw Error(a(349));($e&127)!==0||of(s,n,o)}p.memoizedState=o;var y={value:o,getSnapshot:n};return p.queue=y,Tf(sf.bind(null,s,y,e),[e]),s.flags|=2048,vl(9,{destroy:void 0},af.bind(null,s,y,o,n),null),o},useId:function(){var e=Zt(),n=gt.identifierPrefix;if(je){var o=Mn,s=Rn;o=(s&~(1<<32-ft(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=ca++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=t0++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hr,useFormState:gf,useActionState:gf,useOptimistic:function(e){var n=Zt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=pr.bind(null,Ye,!0,o),o.dispatch=n,[e,n]},useMemoCache:lr,useCacheRefresh:function(){return Zt().memoizedState=s0.bind(null,Ye)},useEffectEvent:function(e){var n=Zt(),o={impl:e};return n.memoizedState=o,function(){if((ot&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},mr={readContext:Ht,use:da,useCallback:wf,useContext:Ht,useEffect:ur,useImperativeHandle:Af,useInsertionEffect:bf,useLayoutEffect:xf,useMemo:Nf,useReducer:ha,useRef:Sf,useState:function(){return ha(Vn)},useDebugValue:cr,useDeferredValue:function(e,n){var o=Rt();return Rf(o,dt.memoizedState,e,n)},useTransition:function(){var e=ha(Vn)[0],n=Rt().memoizedState;return[typeof e=="boolean"?e:uo(e),n]},useSyncExternalStore:lf,useId:Uf,useHostTransitionStatus:hr,useFormState:yf,useActionState:yf,useOptimistic:function(e,n){var o=Rt();return cf(o,dt,e,n)},useMemoCache:lr,useCacheRefresh:kf};mr.useEffectEvent=Ef;var Pf={readContext:Ht,use:da,useCallback:wf,useContext:Ht,useEffect:ur,useImperativeHandle:Af,useInsertionEffect:bf,useLayoutEffect:xf,useMemo:Nf,useReducer:ar,useRef:Sf,useState:function(){return ar(Vn)},useDebugValue:cr,useDeferredValue:function(e,n){var o=Rt();return dt===null?fr(o,e,n):Rf(o,dt.memoizedState,e,n)},useTransition:function(){var e=ar(Vn)[0],n=Rt().memoizedState;return[typeof e=="boolean"?e:uo(e),n]},useSyncExternalStore:lf,useId:Uf,useHostTransitionStatus:hr,useFormState:_f,useActionState:_f,useOptimistic:function(e,n){var o=Rt();return dt!==null?cf(o,dt,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:lr,useCacheRefresh:kf};Pf.useEffectEvent=Ef;function gr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:_({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var yr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=un(),p=ri(s);p.payload=n,o!=null&&(p.callback=o),n=ui(e,p,s),n!==null&&(tn(n,e,s),oo(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=un(),p=ri(s);p.tag=1,p.payload=n,o!=null&&(p.callback=o),n=ui(e,p,s),n!==null&&(tn(n,e,s),oo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=un(),s=ri(o);s.tag=2,n!=null&&(s.callback=n),n=ui(e,s,o),n!==null&&(tn(n,e,o),oo(n,e,o))}};function Bf(e,n,o,s,p,y,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,y,E):n.prototype&&n.prototype.isPureReactComponent?!$l(o,s)||!$l(p,y):!0}function Hf(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&yr.enqueueReplaceState(n,n.state,null)}function Hi(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=_({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function Vf(e){Zo(e)}function Of(e){console.error(e)}function Ff(e){Zo(e)}function ya(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Yf(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function vr(e,n,o){return o=ri(o),o.tag=3,o.payload={element:null},o.callback=function(){ya(e,n)},o}function Jf(e){return e=ri(e),e.tag=3,e}function Kf(e,n,o,s){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=s.value;e.payload=function(){return p(y)},e.callback=function(){Yf(n,o,s)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Yf(n,o,s),typeof p!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})})}function u0(e,n,o,s,p){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&cl(n,o,p,!0),o=on.current,o!==null){switch(o.tag){case 31:case 13:return yn===null?Ra():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=p,s===la?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Or(e,s,p)),!1;case 22:return o.flags|=65536,s===la?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Or(e,s,p)),!1}throw Error(a(435,o.tag))}return Or(e,s,p),Ra(),!1}if(je)return n=on.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,s!==Gs&&(e=Error(a(422),{cause:s}),eo(hn(e,o)))):(s!==Gs&&(n=Error(a(423),{cause:s}),eo(hn(n,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,s=hn(s,o),p=vr(e.stateNode,s,p),Zs(e,p),At!==4&&(At=2)),!1;var y=Error(a(520),{cause:s});if(y=hn(y,o),So===null?So=[y]:So.push(y),At!==4&&(At=2),n===null)return!0;s=hn(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=vr(o.stateNode,s,e),Zs(o,e),!1;case 1:if(n=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mi===null||!mi.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Jf(p),Kf(p,e,o,s),Zs(o,p),!1}o=o.return}while(o!==null);return!1}var _r=Error(a(461)),Ut=!1;function Vt(e,n,o,s){n.child=e===null?Qc(n,null,o,s):Pi(n,e.child,o,s)}function Zf(e,n,o,s,p){o=o.render;var y=n.ref;if("ref"in s){var E={};for(var I in s)I!=="ref"&&(E[I]=s[I])}else E=s;return zi(n),s=er(e,n,o,E,y,p),I=tr(),e!==null&&!Ut?(nr(e,n,p),On(e,n,p)):(je&&I&&zs(n),n.flags|=1,Vt(e,n,s,p),n.child)}function Xf(e,n,o,s,p){if(e===null){var y=o.type;return typeof y=="function"&&!Ds(y)&&y.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=y,Qf(e,n,y,s,p)):(e=Wo(o.type,null,s,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!wr(e,p)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:$l,o(E,s)&&e.ref===n.ref)return On(e,n,p)}return n.flags|=1,e=Gn(y,s),e.ref=n.ref,e.return=n,n.child=e}function Qf(e,n,o,s,p){if(e!==null){var y=e.memoizedProps;if($l(y,s)&&e.ref===n.ref)if(Ut=!1,n.pendingProps=s=y,wr(e,p))(e.flags&131072)!==0&&(Ut=!0);else return n.lanes=e.lanes,On(e,n,p)}return Sr(e,n,o,s,p)}function $f(e,n,o,s){var p=s.children,y=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,e!==null){for(s=n.child=e.child,p=0;s!==null;)p=p|s.lanes|s.childLanes,s=s.sibling;s=p&~y}else s=0,n.child=null;return Wf(e,n,y,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&na(n,y!==null?y.cachePool:null),y!==null?jc(n,y):Qs(),ef(n);else return s=n.lanes=536870912,Wf(e,n,y!==null?y.baseLanes|o:o,o,s)}else y!==null?(na(n,y.cachePool),jc(n,y),fi(),n.memoizedState=null):(e!==null&&na(n,null),Qs(),fi());return Vt(e,n,p,o),n.child}function ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wf(e,n,o,s,p){var y=Fs();return y=y===null?null:{parent:It._currentValue,pool:y},n.memoizedState={baseLanes:o,cachePool:y},e!==null&&na(n,null),Qs(),ef(n),e!==null&&cl(e,n,s,!0),n.childLanes=p,null}function va(e,n){return n=Sa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jf(e,n,o){return Pi(n,e.child,null,o),e=va(n,n.pendingProps),e.flags|=2,an(n),n.memoizedState=null,e}function c0(e,n,o){var s=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(je){if(s.mode==="hidden")return e=va(n,s),n.lanes=536870912,ho(null,e);if(Ws(n),(e=St)?(e=fh(e,gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:Rn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},o=zc(e),o.return=n,n.child=o,Bt=n,St=null)):e=null,e===null)throw oi(n);return n.lanes=536870912,null}return va(n,s)}var y=e.memoizedState;if(y!==null){var E=y.dehydrated;if(Ws(n),p)if(n.flags&256)n.flags&=-257,n=jf(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ut||cl(e,n,o,!1),p=(o&e.childLanes)!==0,Ut||p){if(s=gt,s!==null&&(E=vt(s,o),E!==0&&E!==y.retryLane))throw y.retryLane=E,Ii(e,E),tn(s,e,E),_r;Ra(),n=jf(e,n,o)}else e=y.treeContext,St=vn(E.nextSibling),Bt=n,je=!0,li=null,gn=!1,e!==null&&qc(n,e),n=va(n,s),n.flags|=4096;return n}return e=Gn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function _a(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Sr(e,n,o,s,p){return zi(n),o=er(e,n,o,s,void 0,p),s=tr(),e!==null&&!Ut?(nr(e,n,p),On(e,n,p)):(je&&s&&zs(n),n.flags|=1,Vt(e,n,o,p),n.child)}function ed(e,n,o,s,p,y){return zi(n),n.updateQueue=null,o=nf(n,s,o,p),tf(e),s=tr(),e!==null&&!Ut?(nr(e,n,y),On(e,n,y)):(je&&s&&zs(n),n.flags|=1,Vt(e,n,o,y),n.child)}function td(e,n,o,s,p){if(zi(n),n.stateNode===null){var y=al,E=o.contextType;typeof E=="object"&&E!==null&&(y=Ht(E)),y=new o(s,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=yr,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=s,y.state=n.memoizedState,y.refs={},Js(n),E=o.contextType,y.context=typeof E=="object"&&E!==null?Ht(E):al,y.state=n.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(gr(n,o,E,s),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&yr.enqueueReplaceState(y,y.state,null),so(n,s,y,p),ao(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){y=n.stateNode;var I=n.memoizedProps,P=Hi(o,I);y.props=P;var ee=y.context,de=o.contextType;E=al,typeof de=="object"&&de!==null&&(E=Ht(de));var me=o.getDerivedStateFromProps;de=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=n.pendingProps!==I,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||ee!==E)&&Hf(n,y,s,E),si=!1;var ne=n.memoizedState;y.state=ne,so(n,s,y,p),ao(),ee=n.memoizedState,I||ne!==ee||si?(typeof me=="function"&&(gr(n,o,me,s),ee=n.memoizedState),(P=si||Bf(n,o,P,s,ne,ee,E))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=ee),y.props=s,y.state=ee,y.context=E,s=P):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{y=n.stateNode,Ks(e,n),E=n.memoizedProps,de=Hi(o,E),y.props=de,me=n.pendingProps,ne=y.context,ee=o.contextType,P=al,typeof ee=="object"&&ee!==null&&(P=Ht(ee)),I=o.getDerivedStateFromProps,(ee=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==me||ne!==P)&&Hf(n,y,s,P),si=!1,ne=n.memoizedState,y.state=ne,so(n,s,y,p),ao();var ae=n.memoizedState;E!==me||ne!==ae||si||e!==null&&e.dependencies!==null&&ea(e.dependencies)?(typeof I=="function"&&(gr(n,o,I,s),ae=n.memoizedState),(de=si||Bf(n,o,de,s,ne,ae,P)||e!==null&&e.dependencies!==null&&ea(e.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,ae,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,ae,P)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=ae),y.props=s,y.state=ae,y.context=P,s=de):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),s=!1)}return y=s,_a(e,n),s=(n.flags&128)!==0,y||s?(y=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&s?(n.child=Pi(n,e.child,null,p),n.child=Pi(n,null,o,p)):Vt(e,n,o,p),n.memoizedState=y.state,e=n.child):e=On(e,n,p),e}function nd(e,n,o,s){return Ui(),n.flags|=256,Vt(e,n,o,s),n.child}var Tr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Er(e){return{baseLanes:e,cachePool:Fc()}}function br(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=rn),e}function id(e,n,o){var s=n.pendingProps,p=!1,y=(n.flags&128)!==0,E;if((E=y)||(E=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),E&&(p=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,e===null){if(je){if(p?ci(n):fi(),(e=St)?(e=fh(e,gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:Rn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},o=zc(e),o.return=n,n.child=o,Bt=n,St=null)):e=null,e===null)throw oi(n);return ou(e)?n.lanes=32:n.lanes=536870912,null}var I=s.children;return s=s.fallback,p?(fi(),p=n.mode,I=Sa({mode:"hidden",children:I},p),s=Di(s,p,o,null),I.return=n,s.return=n,I.sibling=s,n.child=I,s=n.child,s.memoizedState=Er(o),s.childLanes=br(e,E,o),n.memoizedState=Tr,ho(null,s)):(ci(n),xr(n,I))}var P=e.memoizedState;if(P!==null&&(I=P.dehydrated,I!==null)){if(y)n.flags&256?(ci(n),n.flags&=-257,n=Cr(e,n,o)):n.memoizedState!==null?(fi(),n.child=e.child,n.flags|=128,n=null):(fi(),I=s.fallback,p=n.mode,s=Sa({mode:"visible",children:s.children},p),I=Di(I,p,o,null),I.flags|=2,s.return=n,I.return=n,s.sibling=I,n.child=s,Pi(n,e.child,null,o),s=n.child,s.memoizedState=Er(o),s.childLanes=br(e,E,o),n.memoizedState=Tr,n=ho(null,s));else if(ci(n),ou(I)){if(E=I.nextSibling&&I.nextSibling.dataset,E)var ee=E.dgst;E=ee,s=Error(a(419)),s.stack="",s.digest=E,eo({value:s,source:null,stack:null}),n=Cr(e,n,o)}else if(Ut||cl(e,n,o,!1),E=(o&e.childLanes)!==0,Ut||E){if(E=gt,E!==null&&(s=vt(E,o),s!==0&&s!==P.retryLane))throw P.retryLane=s,Ii(e,s),tn(E,e,s),_r;lu(I)||Ra(),n=Cr(e,n,o)}else lu(I)?(n.flags|=192,n.child=e.child,n=null):(e=P.treeContext,St=vn(I.nextSibling),Bt=n,je=!0,li=null,gn=!1,e!==null&&qc(n,e),n=xr(n,s.children),n.flags|=4096);return n}return p?(fi(),I=s.fallback,p=n.mode,P=e.child,ee=P.sibling,s=Gn(P,{mode:"hidden",children:s.children}),s.subtreeFlags=P.subtreeFlags&65011712,ee!==null?I=Gn(ee,I):(I=Di(I,p,o,null),I.flags|=2),I.return=n,s.return=n,s.sibling=I,n.child=s,ho(null,s),s=n.child,I=e.child.memoizedState,I===null?I=Er(o):(p=I.cachePool,p!==null?(P=It._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=Fc(),I={baseLanes:I.baseLanes|o,cachePool:p}),s.memoizedState=I,s.childLanes=br(e,E,o),n.memoizedState=Tr,ho(e.child,s)):(ci(n),o=e.child,e=o.sibling,o=Gn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(E=n.deletions,E===null?(n.deletions=[e],n.flags|=16):E.push(e)),n.child=o,n.memoizedState=null,o)}function xr(e,n){return n=Sa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Sa(e,n){return e=ln(22,e,null,n),e.lanes=0,e}function Cr(e,n,o){return Pi(n,e.child,null,o),e=xr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ld(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Bs(e.return,n,o)}function Ar(e,n,o,s,p,y){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:p,treeForkCount:y}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=s,E.tail=o,E.tailMode=p,E.treeForkCount=y)}function od(e,n,o){var s=n.pendingProps,p=s.revealOrder,y=s.tail;s=s.children;var E=Nt.current,I=(E&2)!==0;if(I?(E=E&1|2,n.flags|=128):E&=1,$(Nt,E),Vt(e,n,s,o),s=je?jl:0,!I&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ld(e,o,n);else if(e.tag===19)ld(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=n.child,p=null;o!==null;)e=o.alternate,e!==null&&ra(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=n.child,n.child=null):(p=o.sibling,o.sibling=null),Ar(n,!1,p,o,y,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&ra(e)===null){n.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}Ar(n,!0,o,null,y,s);break;case"together":Ar(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function On(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),pi|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(cl(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=Gn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Gn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function wr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ea(e)))}function f0(e,n,o){switch(n.tag){case 3:Le(n,n.stateNode.containerInfo),ai(n,It,e.memoizedState.cache),Ui();break;case 27:case 5:at(n);break;case 4:Le(n,n.stateNode.containerInfo);break;case 10:ai(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ws(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(ci(n),n.flags|=128,null):(o&n.child.childLanes)!==0?id(e,n,o):(ci(n),e=On(e,n,o),e!==null?e.sibling:null);ci(n);break;case 19:var p=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(cl(e,n,o,!1),s=(o&n.childLanes)!==0),p){if(s)return od(e,n,o);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),$(Nt,Nt.current),s)break;return null;case 22:return n.lanes=0,$f(e,n,o,n.pendingProps);case 24:ai(n,It,e.memoizedState.cache)}return On(e,n,o)}function ad(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ut=!0;else{if(!wr(e,o)&&(n.flags&128)===0)return Ut=!1,f0(e,n,o);Ut=(e.flags&131072)!==0}else Ut=!1,je&&(n.flags&1048576)!==0&&Gc(n,jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Gi(n.elementType),n.type=e,typeof e=="function")Ds(e)?(s=Hi(e,s),n.tag=1,n=td(null,n,e,s,o)):(n.tag=0,n=Sr(null,n,e,s,o));else{if(e!=null){var p=e.$$typeof;if(p===B){n.tag=11,n=Zf(null,n,e,s,o);break e}else if(p===F){n.tag=14,n=Xf(null,n,e,s,o);break e}}throw n=w(e)||e,Error(a(306,n,""))}}return n;case 0:return Sr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,p=Hi(s,n.pendingProps),td(e,n,s,p,o);case 3:e:{if(Le(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var y=n.memoizedState;p=y.element,Ks(e,n),so(n,s,null,o);var E=n.memoizedState;if(s=E.cache,ai(n,It,s),s!==y.cache&&Hs(n,[It],o,!0),ao(),s=E.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=nd(e,n,s,o);break e}else if(s!==p){p=hn(Error(a(424)),n),eo(p),n=nd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=vn(e.firstChild),Bt=n,je=!0,li=null,gn=!0,o=Qc(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ui(),s===p){n=On(e,n,o);break e}Vt(e,n,s,o)}n=n.child}return n;case 26:return _a(e,n),e===null?(o=yh(n.type,null,n.pendingProps,null))?n.memoizedState=o:je||(o=n.type,e=n.pendingProps,s=La(Te.current).createElement(o),s[mt]=n,s[Ze]=e,Ot(s,o,e),Lt(s),n.stateNode=s):n.memoizedState=yh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return at(n),e===null&&je&&(s=n.stateNode=ph(n.type,n.pendingProps,Te.current),Bt=n,gn=!0,p=St,_i(n.type)?(au=p,St=vn(s.firstChild)):St=p),Vt(e,n,n.pendingProps.children,o),_a(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&je&&((p=s=St)&&(s=H0(s,n.type,n.pendingProps,gn),s!==null?(n.stateNode=s,Bt=n,St=vn(s.firstChild),gn=!1,p=!0):p=!1),p||oi(n)),at(n),p=n.type,y=n.pendingProps,E=e!==null?e.memoizedProps:null,s=y.children,tu(p,y)?s=null:E!==null&&tu(p,E)&&(n.flags|=32),n.memoizedState!==null&&(p=er(e,n,n0,null,null,o),No._currentValue=p),_a(e,n),Vt(e,n,s,o),n.child;case 6:return e===null&&je&&((e=o=St)&&(o=V0(o,n.pendingProps,gn),o!==null?(n.stateNode=o,Bt=n,St=null,e=!0):e=!1),e||oi(n)),null;case 13:return id(e,n,o);case 4:return Le(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Pi(n,null,s,o):Vt(e,n,s,o),n.child;case 11:return Zf(e,n,n.type,n.pendingProps,o);case 7:return Vt(e,n,n.pendingProps,o),n.child;case 8:return Vt(e,n,n.pendingProps.children,o),n.child;case 12:return Vt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,ai(n,n.type,s.value),Vt(e,n,s.children,o),n.child;case 9:return p=n.type._context,s=n.pendingProps.children,zi(n),p=Ht(p),s=s(p),n.flags|=1,Vt(e,n,s,o),n.child;case 14:return Xf(e,n,n.type,n.pendingProps,o);case 15:return Qf(e,n,n.type,n.pendingProps,o);case 19:return od(e,n,o);case 31:return c0(e,n,o);case 22:return $f(e,n,o,n.pendingProps);case 24:return zi(n),s=Ht(It),e===null?(p=Fs(),p===null&&(p=gt,y=Vs(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),n.memoizedState={parent:s,cache:p},Js(n),ai(n,It,p)):((e.lanes&o)!==0&&(Ks(e,n),so(n,null,null,o),ao()),p=e.memoizedState,y=n.memoizedState,p.parent!==s?(p={parent:s,cache:s},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),ai(n,It,s)):(s=y.cache,ai(n,It,s),s!==p.cache&&Hs(n,[It],o,!0))),Vt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fn(e){e.flags|=4}function Nr(e,n,o,s,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(Ud())e.flags|=8192;else throw qi=la,Ys}else e.flags&=-16777217}function sd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Eh(n))if(Ud())e.flags|=8192;else throw qi=la,Ys}function Ta(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Be():536870912,e.lanes|=n,El|=n)}function po(e,n){if(!je)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,s|=p.subtreeFlags&65011712,s|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function d0(e,n,o){var s=n.pendingProps;switch(Ls(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(n),null;case 1:return Tt(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bn(It),Ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ul(n)?Fn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qs())),Tt(n),null;case 26:var p=n.type,y=n.memoizedState;return e===null?(Fn(n),y!==null?(Tt(n),sd(n,y)):(Tt(n),Nr(n,p,null,s,o))):y?y!==e.memoizedState?(Fn(n),Tt(n),sd(n,y)):(Tt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Fn(n),Tt(n),Nr(n,p,e,s,o)),null;case 27:if(st(n),o=Te.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Fn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Tt(n),null}e=W.current,ul(n)?Pc(n):(e=ph(p,s,o),n.stateNode=e,Fn(n))}return Tt(n),null;case 5:if(st(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Fn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Tt(n),null}if(y=W.current,ul(n))Pc(n);else{var E=La(Te.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof s.is=="string"?E.createElement("select",{is:s.is}):E.createElement("select"),s.multiple?y.multiple=!0:s.size&&(y.size=s.size);break;default:y=typeof s.is=="string"?E.createElement(p,{is:s.is}):E.createElement(p)}}y[mt]=n,y[Ze]=s;e:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break e;for(;E.sibling===null;){if(E.return===null||E.return===n)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=y;e:switch(Ot(y,p,s),p){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Fn(n)}}return Tt(n),Nr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Fn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=Te.current,ul(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,p=Bt,p!==null)switch(p.tag){case 27:case 5:s=p.memoizedProps}e[mt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||ih(e.nodeValue,o)),e||oi(n,!0)}else e=La(e).createTextNode(s),e[mt]=n,n.stateNode=e}return Tt(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=ul(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[mt]=n}else Ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),e=!1}else o=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(an(n),n):(an(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Tt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=ul(n),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[mt]=n}else Ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Tt(n),p=!1}else p=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(an(n),n):(an(n),null)}return an(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,p=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(p=s.alternate.memoizedState.cachePool.pool),y=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==p&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Ta(n,n.updateQueue),Tt(n),null);case 4:return Ue(),e===null&&Qr(n.stateNode.containerInfo),Tt(n),null;case 10:return Bn(n.type),Tt(n),null;case 19:if(U(Nt),s=n.memoizedState,s===null)return Tt(n),null;if(p=(n.flags&128)!==0,y=s.rendering,y===null)if(p)po(s,!1);else{if(At!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=ra(e),y!==null){for(n.flags|=128,po(s,!1),e=y.updateQueue,n.updateQueue=e,Ta(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)kc(o,e),o=o.sibling;return $(Nt,Nt.current&1|2),je&&qn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&xe()>Aa&&(n.flags|=128,p=!0,po(s,!1),n.lanes=4194304)}else{if(!p)if(e=ra(y),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,Ta(n,e),po(s,!0),s.tail===null&&s.tailMode==="hidden"&&!y.alternate&&!je)return Tt(n),null}else 2*xe()-s.renderingStartTime>Aa&&o!==536870912&&(n.flags|=128,p=!0,po(s,!1),n.lanes=4194304);s.isBackwards?(y.sibling=n.child,n.child=y):(e=s.last,e!==null?e.sibling=y:n.child=y,s.last=y)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,o=Nt.current,$(Nt,p?o&1|2:o&1),je&&qn(n,s.treeForkCount),e):(Tt(n),null);case 22:case 23:return an(n),$s(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(Tt(n),n.subtreeFlags&6&&(n.flags|=8192)):Tt(n),o=n.updateQueue,o!==null&&Ta(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&U(Li),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bn(It),Tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function h0(e,n){switch(Ls(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bn(It),Ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return st(n),null;case 31:if(n.memoizedState!==null){if(an(n),n.alternate===null)throw Error(a(340));Ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(an(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(Nt),null;case 4:return Ue(),null;case 10:return Bn(n.type),null;case 22:case 23:return an(n),$s(),e!==null&&U(Li),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bn(It),null;case 25:return null;default:return null}}function rd(e,n){switch(Ls(n),n.tag){case 3:Bn(It),Ue();break;case 26:case 27:case 5:st(n);break;case 4:Ue();break;case 31:n.memoizedState!==null&&an(n);break;case 13:an(n);break;case 19:U(Nt);break;case 10:Bn(n.type);break;case 22:case 23:an(n),$s(),e!==null&&U(Li);break;case 24:Bn(It)}}function mo(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var p=s.next;o=p;do{if((o.tag&e)===e){s=void 0;var y=o.create,E=o.inst;s=y(),E.destroy=s}o=o.next}while(o!==p)}}catch(I){ct(n,n.return,I)}}function di(e,n,o){try{var s=n.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var y=p.next;s=y;do{if((s.tag&e)===e){var E=s.inst,I=E.destroy;if(I!==void 0){E.destroy=void 0,p=n;var P=o,ee=I;try{ee()}catch(de){ct(p,P,de)}}}s=s.next}while(s!==y)}}catch(de){ct(n,n.return,de)}}function ud(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Wc(n,o)}catch(s){ct(e,e.return,s)}}}function cd(e,n,o){o.props=Hi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){ct(e,n,s)}}function go(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(p){ct(e,n,p)}}function In(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(p){ct(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){ct(e,n,p)}else o.current=null}function fd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(p){ct(e,e.return,p)}}function Rr(e,n,o){try{var s=e.stateNode;z0(s,e.type,o,n),s[Ze]=n}catch(p){ct(e,e.return,p)}}function dd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_i(e.type)||e.tag===4}function Mr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_i(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ir(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=zn));else if(s!==4&&(s===27&&_i(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Ir(e,n,o),e=e.sibling;e!==null;)Ir(e,n,o),e=e.sibling}function Ea(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&_i(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ea(e,n,o),e=e.sibling;e!==null;)Ea(e,n,o),e=e.sibling}function hd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Ot(n,s,o),n[mt]=e,n[Ze]=o}catch(y){ct(e,e.return,y)}}var Yn=!1,kt=!1,Dr=!1,pd=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function p0(e,n){if(e=e.containerInfo,jr=Oa,e=Cc(e),Cs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var p=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,I=-1,P=-1,ee=0,de=0,me=e,ne=null;t:for(;;){for(var ae;me!==o||p!==0&&me.nodeType!==3||(I=E+p),me!==y||s!==0&&me.nodeType!==3||(P=E+s),me.nodeType===3&&(E+=me.nodeValue.length),(ae=me.firstChild)!==null;)ne=me,me=ae;for(;;){if(me===e)break t;if(ne===o&&++ee===p&&(I=E),ne===y&&++de===s&&(P=E),(ae=me.nextSibling)!==null)break;me=ne,ne=me.parentNode}me=ae}o=I===-1||P===-1?null:{start:I,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(eu={focusedElem:e,selectionRange:o},Oa=!1,Gt=n;Gt!==null;)if(n=Gt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Gt=e;else for(;Gt!==null;){switch(n=Gt,y=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,o=n,p=y.memoizedProps,y=y.memoizedState,s=o.stateNode;try{var Ne=Hi(o.type,p);e=s.getSnapshotBeforeUpdate(Ne,y),s.__reactInternalSnapshotBeforeUpdate=e}catch(qe){ct(o,o.return,qe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)iu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Gt=e;break}Gt=n.return}}function md(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:Kn(e,o),s&4&&mo(5,o);break;case 1:if(Kn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(E){ct(o,o.return,E)}else{var p=Hi(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ct(o,o.return,E)}}s&64&&ud(o),s&512&&go(o,o.return);break;case 3:if(Kn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Wc(e,n)}catch(E){ct(o,o.return,E)}}break;case 27:n===null&&s&4&&hd(o);case 26:case 5:Kn(e,o),n===null&&s&4&&fd(o),s&512&&go(o,o.return);break;case 12:Kn(e,o);break;case 31:Kn(e,o),s&4&&vd(e,o);break;case 13:Kn(e,o),s&4&&_d(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=b0.bind(null,o),O0(e,o))));break;case 22:if(s=o.memoizedState!==null||Yn,!s){n=n!==null&&n.memoizedState!==null||kt,p=Yn;var y=kt;Yn=s,(kt=n)&&!y?Zn(e,o,(o.subtreeFlags&8772)!==0):Kn(e,o),Yn=p,kt=y}break;case 30:break;default:Kn(e,o)}}function gd(e){var n=e.alternate;n!==null&&(e.alternate=null,gd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&rs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,$t=!1;function Jn(e,n,o){for(o=o.child;o!==null;)yd(e,n,o),o=o.sibling}function yd(e,n,o){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(rt,o)}catch{}switch(o.tag){case 26:kt||In(o,n),Jn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||In(o,n);var s=xt,p=$t;_i(o.type)&&(xt=o.stateNode,$t=!1),Jn(e,n,o),Co(o.stateNode),xt=s,$t=p;break;case 5:kt||In(o,n);case 6:if(s=xt,p=$t,xt=null,Jn(e,n,o),xt=s,$t=p,xt!==null)if($t)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(y){ct(o,n,y)}else try{xt.removeChild(o.stateNode)}catch(y){ct(o,n,y)}break;case 18:xt!==null&&($t?(e=xt,uh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Ml(e)):uh(xt,o.stateNode));break;case 4:s=xt,p=$t,xt=o.stateNode.containerInfo,$t=!0,Jn(e,n,o),xt=s,$t=p;break;case 0:case 11:case 14:case 15:di(2,o,n),kt||di(4,o,n),Jn(e,n,o);break;case 1:kt||(In(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&cd(o,n,s)),Jn(e,n,o);break;case 21:Jn(e,n,o);break;case 22:kt=(s=kt)||o.memoizedState!==null,Jn(e,n,o),kt=s;break;default:Jn(e,n,o)}}function vd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ml(e)}catch(o){ct(n,n.return,o)}}}function _d(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ml(e)}catch(o){ct(n,n.return,o)}}function m0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new pd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new pd),n;default:throw Error(a(435,e.tag))}}function ba(e,n){var o=m0(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var p=x0.bind(null,e,s);s.then(p,p)}})}function Wt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var p=o[s],y=e,E=n,I=E;e:for(;I!==null;){switch(I.tag){case 27:if(_i(I.type)){xt=I.stateNode,$t=!1;break e}break;case 5:xt=I.stateNode,$t=!1;break e;case 3:case 4:xt=I.stateNode.containerInfo,$t=!0;break e}I=I.return}if(xt===null)throw Error(a(160));yd(y,E,p),xt=null,$t=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sd(n,e),n=n.sibling}var bn=null;function Sd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(n,e),jt(e),s&4&&(di(3,e,e.return),mo(3,e),di(5,e,e.return));break;case 1:Wt(n,e),jt(e),s&512&&(kt||o===null||In(o,o.return)),s&64&&Yn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var p=bn;if(Wt(n,e),jt(e),s&512&&(kt||o===null||In(o,o.return)),s&4){var y=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,p=p.ownerDocument||p;t:switch(s){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Vl]||y[mt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(s),p.head.insertBefore(y,p.querySelector("head > title"))),Ot(y,s,o),y[mt]=e,Lt(y),s=y;break e;case"link":var E=Sh("link","href",p).get(s+(o.href||""));if(E){for(var I=0;I<E.length;I++)if(y=E[I],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(I,1);break t}}y=p.createElement(s),Ot(y,s,o),p.head.appendChild(y);break;case"meta":if(E=Sh("meta","content",p).get(s+(o.content||""))){for(I=0;I<E.length;I++)if(y=E[I],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(I,1);break t}}y=p.createElement(s),Ot(y,s,o),p.head.appendChild(y);break;default:throw Error(a(468,s))}y[mt]=e,Lt(y),s=y}e.stateNode=s}else Th(p,e.type,e.stateNode);else e.stateNode=_h(p,s,e.memoizedProps);else y!==s?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,s===null?Th(p,e.type,e.stateNode):_h(p,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Rr(e,e.memoizedProps,o.memoizedProps)}break;case 27:Wt(n,e),jt(e),s&512&&(kt||o===null||In(o,o.return)),o!==null&&s&4&&Rr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Wt(n,e),jt(e),s&512&&(kt||o===null||In(o,o.return)),e.flags&32){p=e.stateNode;try{ji(p,"")}catch(Ne){ct(e,e.return,Ne)}}s&4&&e.stateNode!=null&&(p=e.memoizedProps,Rr(e,p,o!==null?o.memoizedProps:p)),s&1024&&(Dr=!0);break;case 6:if(Wt(n,e),jt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(Ne){ct(e,e.return,Ne)}}break;case 3:if(Pa=null,p=bn,bn=Ga(n.containerInfo),Wt(n,e),bn=p,jt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Ml(n.containerInfo)}catch(Ne){ct(e,e.return,Ne)}Dr&&(Dr=!1,Td(e));break;case 4:s=bn,bn=Ga(e.stateNode.containerInfo),Wt(n,e),jt(e),bn=s;break;case 12:Wt(n,e),jt(e);break;case 31:Wt(n,e),jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ba(e,s)));break;case 13:Wt(n,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ca=xe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ba(e,s)));break;case 22:p=e.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,ee=Yn,de=kt;if(Yn=ee||p,kt=de||P,Wt(n,e),kt=de,Yn=ee,jt(e),s&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(o===null||P||Yn||kt||Vi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){P=o=n;try{if(y=P.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{I=P.stateNode;var me=P.memoizedProps.style,ne=me!=null&&me.hasOwnProperty("display")?me.display:null;I.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ne){ct(P,P.return,Ne)}}}else if(n.tag===6){if(o===null){P=n;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(Ne){ct(P,P.return,Ne)}}}else if(n.tag===18){if(o===null){P=n;try{var ae=P.stateNode;p?ch(ae,!0):ch(P.stateNode,!1)}catch(Ne){ct(P,P.return,Ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,ba(e,o))));break;case 19:Wt(n,e),jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ba(e,s)));break;case 30:break;case 21:break;default:Wt(n,e),jt(e)}}function jt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(dd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,y=Mr(e);Ea(e,y,p);break;case 5:var E=o.stateNode;o.flags&32&&(ji(E,""),o.flags&=-33);var I=Mr(e);Ea(e,I,E);break;case 3:case 4:var P=o.stateNode.containerInfo,ee=Mr(e);Ir(e,ee,P);break;default:throw Error(a(161))}}catch(de){ct(e,e.return,de)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Td(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Td(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Kn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)md(e,n.alternate,n),n=n.sibling}function Vi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:di(4,n,n.return),Vi(n);break;case 1:In(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&cd(n,n.return,o),Vi(n);break;case 27:Co(n.stateNode);case 26:case 5:In(n,n.return),Vi(n);break;case 22:n.memoizedState===null&&Vi(n);break;case 30:Vi(n);break;default:Vi(n)}e=e.sibling}}function Zn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,p=e,y=n,E=y.flags;switch(y.tag){case 0:case 11:case 15:Zn(p,y,o),mo(4,y);break;case 1:if(Zn(p,y,o),s=y,p=s.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){ct(s,s.return,ee)}if(s=y,p=s.updateQueue,p!==null){var I=s.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)$c(P[p],I)}catch(ee){ct(s,s.return,ee)}}o&&E&64&&ud(y),go(y,y.return);break;case 27:hd(y);case 26:case 5:Zn(p,y,o),o&&s===null&&E&4&&fd(y),go(y,y.return);break;case 12:Zn(p,y,o);break;case 31:Zn(p,y,o),o&&E&4&&vd(p,y);break;case 13:Zn(p,y,o),o&&E&4&&_d(p,y);break;case 22:y.memoizedState===null&&Zn(p,y,o),go(y,y.return);break;case 30:break;default:Zn(p,y,o)}n=n.sibling}}function Ur(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&to(o))}function kr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&to(e))}function xn(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ed(e,n,o,s),n=n.sibling}function Ed(e,n,o,s){var p=n.flags;switch(n.tag){case 0:case 11:case 15:xn(e,n,o,s),p&2048&&mo(9,n);break;case 1:xn(e,n,o,s);break;case 3:xn(e,n,o,s),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&to(e)));break;case 12:if(p&2048){xn(e,n,o,s),e=n.stateNode;try{var y=n.memoizedProps,E=y.id,I=y.onPostCommit;typeof I=="function"&&I(E,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){ct(n,n.return,P)}}else xn(e,n,o,s);break;case 31:xn(e,n,o,s);break;case 13:xn(e,n,o,s);break;case 23:break;case 22:y=n.stateNode,E=n.alternate,n.memoizedState!==null?y._visibility&2?xn(e,n,o,s):yo(e,n):y._visibility&2?xn(e,n,o,s):(y._visibility|=2,_l(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),p&2048&&Ur(E,n);break;case 24:xn(e,n,o,s),p&2048&&kr(n.alternate,n);break;default:xn(e,n,o,s)}}function _l(e,n,o,s,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var y=e,E=n,I=o,P=s,ee=E.flags;switch(E.tag){case 0:case 11:case 15:_l(y,E,I,P,p),mo(8,E);break;case 23:break;case 22:var de=E.stateNode;E.memoizedState!==null?de._visibility&2?_l(y,E,I,P,p):yo(y,E):(de._visibility|=2,_l(y,E,I,P,p)),p&&ee&2048&&Ur(E.alternate,E);break;case 24:_l(y,E,I,P,p),p&&ee&2048&&kr(E.alternate,E);break;default:_l(y,E,I,P,p)}n=n.sibling}}function yo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,p=s.flags;switch(s.tag){case 22:yo(o,s),p&2048&&Ur(s.alternate,s);break;case 24:yo(o,s),p&2048&&kr(s.alternate,s);break;default:yo(o,s)}n=n.sibling}}var vo=8192;function Sl(e,n,o){if(e.subtreeFlags&vo)for(e=e.child;e!==null;)bd(e,n,o),e=e.sibling}function bd(e,n,o){switch(e.tag){case 26:Sl(e,n,o),e.flags&vo&&e.memoizedState!==null&&ty(o,bn,e.memoizedState,e.memoizedProps);break;case 5:Sl(e,n,o);break;case 3:case 4:var s=bn;bn=Ga(e.stateNode.containerInfo),Sl(e,n,o),bn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=vo,vo=16777216,Sl(e,n,o),vo=s):Sl(e,n,o));break;default:Sl(e,n,o)}}function xd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function _o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Gt=s,Ad(s,e)}xd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cd(e),e=e.sibling}function Cd(e){switch(e.tag){case 0:case 11:case 15:_o(e),e.flags&2048&&di(9,e,e.return);break;case 3:_o(e);break;case 12:_o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,xa(e)):_o(e);break;default:_o(e)}}function xa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Gt=s,Ad(s,e)}xd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:di(8,n,n.return),xa(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,xa(n));break;default:xa(n)}e=e.sibling}}function Ad(e,n){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:di(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:to(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,Gt=s;else e:for(o=e;Gt!==null;){s=Gt;var p=s.sibling,y=s.return;if(gd(s),s===o){Gt=null;break e}if(p!==null){p.return=y,Gt=p;break e}Gt=y}}}var g0={getCacheForType:function(e){var n=Ht(It),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return Ht(It).controller.signal}},y0=typeof WeakMap=="function"?WeakMap:Map,ot=0,gt=null,Xe=null,$e=0,ut=0,sn=null,hi=!1,Tl=!1,zr=!1,Xn=0,At=0,pi=0,Oi=0,Lr=0,rn=0,El=0,So=null,en=null,Gr=!1,Ca=0,wd=0,Aa=1/0,wa=null,mi=null,zt=0,gi=null,bl=null,Qn=0,qr=0,Pr=null,Nd=null,To=0,Br=null;function un(){return(ot&2)!==0&&$e!==0?$e&-$e:Y.T!==null?Jr():wn()}function Rd(){if(rn===0)if(($e&536870912)===0||je){var e=H;H<<=1,(H&3932160)===0&&(H=262144),rn=e}else rn=536870912;return e=on.current,e!==null&&(e.flags|=32),rn}function tn(e,n,o){(e===gt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(xl(e,0),yi(e,$e,rn,!1)),Ve(e,o),((ot&2)===0||e!==gt)&&(e===gt&&((ot&2)===0&&(Oi|=o),At===4&&yi(e,$e,rn,!1)),Dn(e))}function Md(e,n,o){if((ot&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||He(e,n),p=s?S0(e,n):Vr(e,n,!0),y=s;do{if(p===0){Tl&&!s&&yi(e,n,0,!1);break}else{if(o=e.current.alternate,y&&!v0(o)){p=Vr(e,n,!1),y=!1;continue}if(p===2){if(y=n,e.errorRecoveryDisabledLanes&y)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;e:{var I=e;p=So;var P=I.current.memoizedState.isDehydrated;if(P&&(xl(I,E).flags|=256),E=Vr(I,E,!1),E!==2){if(zr&&!P){I.errorRecoveryDisabledLanes|=y,Oi|=y,p=4;break e}y=en,en=p,y!==null&&(en===null?en=y:en.push.apply(en,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){xl(e,0),yi(e,n,0,!0);break}e:{switch(s=e,y=p,y){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:yi(s,n,rn,!hi);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(p=Ca+300-xe(),10<p)){if(yi(s,n,rn,!hi),we(s,0,!0)!==0)break e;Qn=n,s.timeoutHandle=sh(Id.bind(null,s,o,en,wa,Gr,n,rn,Oi,El,hi,y,"Throttled",-0,0),p);break e}Id(s,o,en,wa,Gr,n,rn,Oi,El,hi,y,null,-0,0)}}break}while(!0);Dn(e)}function Id(e,n,o,s,p,y,E,I,P,ee,de,me,ne,ae){if(e.timeoutHandle=-1,me=n.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},bd(n,y,me);var Ne=(y&62914560)===y?Ca-xe():(y&4194048)===y?wd-xe():0;if(Ne=ny(me,Ne),Ne!==null){Qn=y,e.cancelPendingCommit=Ne(Pd.bind(null,e,n,y,o,s,p,E,I,P,de,me,null,ne,ae)),yi(e,y,E,!ee);return}}Pd(e,n,y,o,s,p,E,I,P)}function v0(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var p=o[s],y=p.getSnapshot;p=p.value;try{if(!nn(y(),p))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yi(e,n,o,s){n&=~Lr,n&=~Oi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var p=n;0<p;){var y=31-ft(p),E=1<<y;s[y]=-1,p&=~E}o!==0&&Ge(e,o,n)}function Na(){return(ot&6)===0?(Eo(0),!1):!0}function Hr(){if(Xe!==null){if(ut===0)var e=Xe.return;else e=Xe,Pn=ki=null,ir(e),pl=null,io=0,e=Xe;for(;e!==null;)rd(e.alternate,e),e=e.return;Xe=null}}function xl(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,q0(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Qn=0,Hr(),gt=e,Xe=o=Gn(e.current,null),$e=n,ut=0,sn=null,hi=!1,Tl=He(e,n),zr=!1,El=rn=Lr=Oi=pi=At=0,en=So=null,Gr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var p=31-ft(s),y=1<<p;n|=e[p],s&=~y}return Xn=n,Xo(),o}function Dd(e,n){Ye=null,Y.H=fo,n===hl||n===ia?(n=Kc(),ut=3):n===Ys?(n=Kc(),ut=4):ut=n===_r?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sn=n,Xe===null&&(At=1,ya(e,hn(n,e.current)))}function Ud(){var e=on.current;return e===null?!0:($e&4194048)===$e?yn===null:($e&62914560)===$e||($e&536870912)!==0?e===yn:!1}function kd(){var e=Y.H;return Y.H=fo,e===null?fo:e}function zd(){var e=Y.A;return Y.A=g0,e}function Ra(){At=4,hi||($e&4194048)!==$e&&on.current!==null||(Tl=!0),(pi&134217727)===0&&(Oi&134217727)===0||gt===null||yi(gt,$e,rn,!1)}function Vr(e,n,o){var s=ot;ot|=2;var p=kd(),y=zd();(gt!==e||$e!==n)&&(wa=null,xl(e,n)),n=!1;var E=At;e:do try{if(ut!==0&&Xe!==null){var I=Xe,P=sn;switch(ut){case 8:Hr(),E=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(n=!0);var ee=ut;if(ut=0,sn=null,Cl(e,I,P,ee),o&&Tl){E=0;break e}break;default:ee=ut,ut=0,sn=null,Cl(e,I,P,ee)}}_0(),E=At;break}catch(de){Dd(e,de)}while(!0);return n&&e.shellSuspendCounter++,Pn=ki=null,ot=s,Y.H=p,Y.A=y,Xe===null&&(gt=null,$e=0,Xo()),E}function _0(){for(;Xe!==null;)Ld(Xe)}function S0(e,n){var o=ot;ot|=2;var s=kd(),p=zd();gt!==e||$e!==n?(wa=null,Aa=xe()+500,xl(e,n)):Tl=He(e,n);e:do try{if(ut!==0&&Xe!==null){n=Xe;var y=sn;t:switch(ut){case 1:ut=0,sn=null,Cl(e,n,y,1);break;case 2:case 9:if(Yc(y)){ut=0,sn=null,Gd(n);break}n=function(){ut!==2&&ut!==9||gt!==e||(ut=7),Dn(e)},y.then(n,n);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Yc(y)?(ut=0,sn=null,Gd(n)):(ut=0,sn=null,Cl(e,n,y,7));break;case 5:var E=null;switch(Xe.tag){case 26:E=Xe.memoizedState;case 5:case 27:var I=Xe;if(E?Eh(E):I.stateNode.complete){ut=0,sn=null;var P=I.sibling;if(P!==null)Xe=P;else{var ee=I.return;ee!==null?(Xe=ee,Ma(ee)):Xe=null}break t}}ut=0,sn=null,Cl(e,n,y,5);break;case 6:ut=0,sn=null,Cl(e,n,y,6);break;case 8:Hr(),At=6;break e;default:throw Error(a(462))}}T0();break}catch(de){Dd(e,de)}while(!0);return Pn=ki=null,Y.H=s,Y.A=p,ot=o,Xe!==null?0:(gt=null,$e=0,Xo(),At)}function T0(){for(;Xe!==null&&!te();)Ld(Xe)}function Ld(e){var n=ad(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,n===null?Ma(e):Xe=n}function Gd(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=ed(o,n,n.pendingProps,n.type,void 0,$e);break;case 11:n=ed(o,n,n.pendingProps,n.type.render,n.ref,$e);break;case 5:ir(n);default:rd(o,n),n=Xe=kc(n,Xn),n=ad(o,n,Xn)}e.memoizedProps=e.pendingProps,n===null?Ma(e):Xe=n}function Cl(e,n,o,s){Pn=ki=null,ir(n),pl=null,io=0;var p=n.return;try{if(u0(e,p,n,o,$e)){At=1,ya(e,hn(o,e.current)),Xe=null;return}}catch(y){if(p!==null)throw Xe=p,y;At=1,ya(e,hn(o,e.current)),Xe=null;return}n.flags&32768?(je||s===1?e=!0:Tl||($e&536870912)!==0?e=!1:(hi=e=!0,(s===2||s===9||s===3||s===6)&&(s=on.current,s!==null&&s.tag===13&&(s.flags|=16384))),qd(n,e)):Ma(n)}function Ma(e){var n=e;do{if((n.flags&32768)!==0){qd(n,hi);return}e=n.return;var o=d0(n.alternate,n,Xn);if(o!==null){Xe=o;return}if(n=n.sibling,n!==null){Xe=n;return}Xe=n=e}while(n!==null);At===0&&(At=5)}function qd(e,n){do{var o=h0(e.alternate,e);if(o!==null){o.flags&=32767,Xe=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Xe=e;return}Xe=e=o}while(e!==null);At=6,Xe=null}function Pd(e,n,o,s,p,y,E,I,P){e.cancelPendingCommit=null;do Ia();while(zt!==0);if((ot&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(y=n.lanes|n.childLanes,y|=Ms,yt(e,o,y,E,I,P),e===gt&&(Xe=gt=null,$e=0),bl=n,gi=e,Qn=o,qr=y,Pr=p,Nd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C0(Je,function(){return Fd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null,p=Z.p,Z.p=2,E=ot,ot|=4;try{p0(e,n,o)}finally{ot=E,Z.p=p,Y.T=s}}zt=1,Bd(),Hd(),Vd()}}function Bd(){if(zt===1){zt=0;var e=gi,n=bl,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var s=Z.p;Z.p=2;var p=ot;ot|=4;try{Sd(n,e);var y=eu,E=Cc(e.containerInfo),I=y.focusedElem,P=y.selectionRange;if(E!==I&&I&&I.ownerDocument&&xc(I.ownerDocument.documentElement,I)){if(P!==null&&Cs(I)){var ee=P.start,de=P.end;if(de===void 0&&(de=ee),"selectionStart"in I)I.selectionStart=ee,I.selectionEnd=Math.min(de,I.value.length);else{var me=I.ownerDocument||document,ne=me&&me.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Ne=I.textContent.length,qe=Math.min(P.start,Ne),pt=P.end===void 0?qe:Math.min(P.end,Ne);!ae.extend&&qe>pt&&(E=pt,pt=qe,qe=E);var Q=bc(I,qe),V=bc(I,pt);if(Q&&V&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==V.node||ae.focusOffset!==V.offset)){var j=me.createRange();j.setStart(Q.node,Q.offset),ae.removeAllRanges(),qe>pt?(ae.addRange(j),ae.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),ae.addRange(j))}}}}for(me=[],ae=I;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<me.length;I++){var pe=me[I];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Oa=!!jr,eu=jr=null}finally{ot=p,Z.p=s,Y.T=o}}e.current=n,zt=2}}function Hd(){if(zt===2){zt=0;var e=gi,n=bl,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var s=Z.p;Z.p=2;var p=ot;ot|=4;try{md(e,n.alternate,n)}finally{ot=p,Z.p=s,Y.T=o}}zt=3}}function Vd(){if(zt===4||zt===3){zt=0,Ee();var e=gi,n=bl,o=Qn,s=Nd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,bl=gi=null,Od(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(mi=null),An(o),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(rt,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=Y.T,p=Z.p,Z.p=2,Y.T=null;try{for(var y=e.onRecoverableError,E=0;E<s.length;E++){var I=s[E];y(I.value,{componentStack:I.stack})}}finally{Y.T=n,Z.p=p}}(Qn&3)!==0&&Ia(),Dn(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===Br?To++:(To=0,Br=e):To=0,Eo(0)}}function Od(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,to(n)))}function Ia(){return Bd(),Hd(),Vd(),Fd()}function Fd(){if(zt!==5)return!1;var e=gi,n=qr;qr=0;var o=An(Qn),s=Y.T,p=Z.p;try{Z.p=32>o?32:o,Y.T=null,o=Pr,Pr=null;var y=gi,E=Qn;if(zt=0,bl=gi=null,Qn=0,(ot&6)!==0)throw Error(a(331));var I=ot;if(ot|=4,Cd(y.current),Ed(y,y.current,E,o),ot=I,Eo(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(rt,y)}catch{}return!0}finally{Z.p=p,Y.T=s,Od(e,n)}}function Yd(e,n,o){n=hn(o,n),n=vr(e.stateNode,n,2),e=ui(e,n,2),e!==null&&(Ve(e,2),Dn(e))}function ct(e,n,o){if(e.tag===3)Yd(e,e,o);else for(;n!==null;){if(n.tag===3){Yd(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mi===null||!mi.has(s))){e=hn(o,e),o=Jf(2),s=ui(n,o,2),s!==null&&(Kf(o,s,n,e),Ve(s,2),Dn(s));break}}n=n.return}}function Or(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new y0;var p=new Set;s.set(n,p)}else p=s.get(n),p===void 0&&(p=new Set,s.set(n,p));p.has(o)||(zr=!0,p.add(o),e=E0.bind(null,e,n,o),n.then(e,e))}function E0(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,gt===e&&($e&o)===o&&(At===4||At===3&&($e&62914560)===$e&&300>xe()-Ca?(ot&2)===0&&xl(e,0):Lr|=o,El===$e&&(El=0)),Dn(e)}function Jd(e,n){n===0&&(n=Be()),e=Ii(e,n),e!==null&&(Ve(e,n),Dn(e))}function b0(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Jd(e,o)}function x0(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Jd(e,o)}function C0(e,n){return ge(e,n)}var Da=null,Al=null,Fr=!1,Ua=!1,Yr=!1,vi=0;function Dn(e){e!==Al&&e.next===null&&(Al===null?Da=Al=e:Al=Al.next=e),Ua=!0,Fr||(Fr=!0,w0())}function Eo(e,n){if(!Yr&&Ua){Yr=!0;do for(var o=!1,s=Da;s!==null;){if(e!==0){var p=s.pendingLanes;if(p===0)var y=0;else{var E=s.suspendedLanes,I=s.pingedLanes;y=(1<<31-ft(42|e)+1)-1,y&=p&~(E&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Qd(s,y))}else y=$e,y=we(s,s===gt?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(y&3)===0||He(s,y)||(o=!0,Qd(s,y));s=s.next}while(o);Yr=!1}}function A0(){Kd()}function Kd(){Ua=Fr=!1;var e=0;vi!==0&&G0()&&(e=vi);for(var n=xe(),o=null,s=Da;s!==null;){var p=s.next,y=Zd(s,n);y===0?(s.next=null,o===null?Da=p:o.next=p,p===null&&(Al=o)):(o=s,(e!==0||(y&3)!==0)&&(Ua=!0)),s=p}zt!==0&&zt!==5||Eo(e),vi!==0&&(vi=0)}function Zd(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var E=31-ft(y),I=1<<E,P=p[E];P===-1?((I&o)===0||(I&s)!==0)&&(p[E]=Pe(I,n)):P<=n&&(e.expiredLanes|=I),y&=~I}if(n=gt,o=$e,o=we(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ye(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||He(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&ye(s),An(o)){case 2:case 8:o=et;break;case 32:o=Je;break;case 268435456:o=Tn;break;default:o=Je}return s=Xd.bind(null,e),o=ge(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&ye(s),e.callbackPriority=2,e.callbackNode=null,2}function Xd(e,n){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ia()&&e.callbackNode!==o)return null;var s=$e;return s=we(e,e===gt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Md(e,s,n),Zd(e,xe()),e.callbackNode!=null&&e.callbackNode===o?Xd.bind(null,e):null)}function Qd(e,n){if(Ia())return null;Md(e,n,!0)}function w0(){P0(function(){(ot&6)!==0?ge(De,A0):Kd()})}function Jr(){if(vi===0){var e=fl;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),vi=e}return vi}function $d(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ho(""+e)}function Wd(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function N0(e,n,o,s,p){if(n==="submit"&&o&&o.stateNode===p){var y=$d((p[Ze]||null).action),E=s.submitter;E&&(n=(n=E[Ze]||null)?$d(n.formAction):E.getAttribute("formAction"),n!==null&&(y=n,E=null));var I=new Yo("action","action",null,s,p);e.push({event:I,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(vi!==0){var P=E?Wd(p,E):new FormData(p);dr(o,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(I.preventDefault(),P=E?Wd(p,E):new FormData(p),dr(o,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var Kr=0;Kr<Rs.length;Kr++){var Zr=Rs[Kr],R0=Zr.toLowerCase(),M0=Zr[0].toUpperCase()+Zr.slice(1);En(R0,"on"+M0)}En(Nc,"onAnimationEnd"),En(Rc,"onAnimationIteration"),En(Mc,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Jg,"onTransitionRun"),En(Kg,"onTransitionStart"),En(Zg,"onTransitionCancel"),En(Ic,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function jd(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],p=s.event;s=s.listeners;e:{var y=void 0;if(n)for(var E=s.length-1;0<=E;E--){var I=s[E],P=I.instance,ee=I.currentTarget;if(I=I.listener,P!==y&&p.isPropagationStopped())break e;y=I,p.currentTarget=ee;try{y(p)}catch(de){Zo(de)}p.currentTarget=null,y=P}else for(E=0;E<s.length;E++){if(I=s[E],P=I.instance,ee=I.currentTarget,I=I.listener,P!==y&&p.isPropagationStopped())break e;y=I,p.currentTarget=ee;try{y(p)}catch(de){Zo(de)}p.currentTarget=null,y=P}}}}function Qe(e,n){var o=n[Nn];o===void 0&&(o=n[Nn]=new Set);var s=e+"__bubble";o.has(s)||(eh(n,e,2,!1),o.add(s))}function Xr(e,n,o){var s=0;n&&(s|=4),eh(o,e,s,n)}var ka="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[ka]){e[ka]=!0,Ju.forEach(function(o){o!=="selectionchange"&&(I0.has(o)||Xr(o,!1,e),Xr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ka]||(n[ka]=!0,Xr("selectionchange",!1,n))}}function eh(e,n,o,s){switch(Rh(n)){case 2:var p=oy;break;case 8:p=ay;break;default:p=fu}o=p.bind(null,n,o,e),p=void 0,!gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),s?p!==void 0?e.addEventListener(n,o,{capture:!0,passive:p}):e.addEventListener(n,o,!0):p!==void 0?e.addEventListener(n,o,{passive:p}):e.addEventListener(n,o,!1)}function $r(e,n,o,s,p){var y=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var E=s.tag;if(E===3||E===4){var I=s.stateNode.containerInfo;if(I===p)break;if(E===4)for(E=s.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;I!==null;){if(E=Zi(I),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){s=y=E;continue e}I=I.parentNode}}s=s.return}lc(function(){var ee=y,de=ps(o),me=[];e:{var ne=Dc.get(e);if(ne!==void 0){var ae=Yo,Ne=e;switch(e){case"keypress":if(Oo(o)===0)break e;case"keydown":case"keyup":ae=xg;break;case"focusin":Ne="focus",ae=Ss;break;case"focusout":Ne="blur",ae=Ss;break;case"beforeblur":case"afterblur":ae=Ss;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=wg;break;case Nc:case Rc:case Mc:ae=mg;break;case Ic:ae=Rg;break;case"scroll":case"scrollend":ae=cg;break;case"wheel":ae=Ig;break;case"copy":case"cut":case"paste":ae=yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=uc;break;case"toggle":case"beforetoggle":ae=Ug}var qe=(n&4)!==0,pt=!qe&&(e==="scroll"||e==="scrollend"),Q=qe?ne!==null?ne+"Capture":null:ne;qe=[];for(var V=ee,j;V!==null;){var pe=V;if(j=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||j===null||Q===null||(pe=Fl(V,Q),pe!=null&&qe.push(xo(V,pe,j))),pt)break;V=V.return}0<qe.length&&(ne=new ae(ne,Ne,null,o,de),me.push({event:ne,listeners:qe}))}}if((n&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&o!==hs&&(Ne=o.relatedTarget||o.fromElement)&&(Zi(Ne)||Ne[Pt]))break e;if((ae||ne)&&(ne=de.window===de?de:(ne=de.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Ne=o.relatedTarget||o.toElement,ae=ee,Ne=Ne?Zi(Ne):null,Ne!==null&&(pt=c(Ne),qe=Ne.tag,Ne!==pt||qe!==5&&qe!==27&&qe!==6)&&(Ne=null)):(ae=null,Ne=ee),ae!==Ne)){if(qe=sc,pe="onMouseLeave",Q="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(qe=uc,pe="onPointerLeave",Q="onPointerEnter",V="pointer"),pt=ae==null?ne:Ol(ae),j=Ne==null?ne:Ol(Ne),ne=new qe(pe,V+"leave",ae,o,de),ne.target=pt,ne.relatedTarget=j,pe=null,Zi(de)===ee&&(qe=new qe(Q,V+"enter",Ne,o,de),qe.target=j,qe.relatedTarget=pt,pe=qe),pt=pe,ae&&Ne)t:{for(qe=D0,Q=ae,V=Ne,j=0,pe=Q;pe;pe=qe(pe))j++;pe=0;for(var ze=V;ze;ze=qe(ze))pe++;for(;0<j-pe;)Q=qe(Q),j--;for(;0<pe-j;)V=qe(V),pe--;for(;j--;){if(Q===V||V!==null&&Q===V.alternate){qe=Q;break t}Q=qe(Q),V=qe(V)}qe=null}else qe=null;ae!==null&&th(me,ne,ae,qe,!1),Ne!==null&&pt!==null&&th(me,pt,Ne,qe,!0)}}e:{if(ne=ee?Ol(ee):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var nt=yc;else if(mc(ne))if(vc)nt=Og;else{nt=Hg;var Me=Bg}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&ds(ee.elementType)&&(nt=yc):nt=Vg;if(nt&&(nt=nt(e,ee))){gc(me,nt,o,de);break e}Me&&Me(e,ne,ee),e==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&fs(ne,"number",ne.value)}switch(Me=ee?Ol(ee):window,e){case"focusin":(mc(Me)||Me.contentEditable==="true")&&(il=Me,As=ee,Wl=null);break;case"focusout":Wl=As=il=null;break;case"mousedown":ws=!0;break;case"contextmenu":case"mouseup":case"dragend":ws=!1,Ac(me,o,de);break;case"selectionchange":if(Yg)break;case"keydown":case"keyup":Ac(me,o,de)}var Ke;if(Es)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else nl?hc(e,o)&&(We="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(cc&&o.locale!=="ko"&&(nl||We!=="onCompositionStart"?We==="onCompositionEnd"&&nl&&(Ke=oc()):(ni=de,ys="value"in ni?ni.value:ni.textContent,nl=!0)),Me=za(ee,We),0<Me.length&&(We=new rc(We,e,null,o,de),me.push({event:We,listeners:Me}),Ke?We.data=Ke:(Ke=pc(o),Ke!==null&&(We.data=Ke)))),(Ke=zg?Lg(e,o):Gg(e,o))&&(We=za(ee,"onBeforeInput"),0<We.length&&(Me=new rc("onBeforeInput","beforeinput",null,o,de),me.push({event:Me,listeners:We}),Me.data=Ke)),N0(me,e,ee,o,de)}jd(me,n)})}function xo(e,n,o){return{instance:e,listener:n,currentTarget:o}}function za(e,n){for(var o=n+"Capture",s=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Fl(e,o),p!=null&&s.unshift(xo(e,p,y)),p=Fl(e,n),p!=null&&s.push(xo(e,p,y))),e.tag===3)return s;e=e.return}return[]}function D0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function th(e,n,o,s,p){for(var y=n._reactName,E=[];o!==null&&o!==s;){var I=o,P=I.alternate,ee=I.stateNode;if(I=I.tag,P!==null&&P===s)break;I!==5&&I!==26&&I!==27||ee===null||(P=ee,p?(ee=Fl(o,y),ee!=null&&E.unshift(xo(o,ee,P))):p||(ee=Fl(o,y),ee!=null&&E.push(xo(o,ee,P)))),o=o.return}E.length!==0&&e.push({event:n,listeners:E})}var U0=/\r\n?/g,k0=/\u0000|\uFFFD/g;function nh(e){return(typeof e=="string"?e:""+e).replace(U0,`
`).replace(k0,"")}function ih(e,n){return n=nh(n),nh(e)===n}function ht(e,n,o,s,p,y){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||ji(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&ji(e,""+s);break;case"className":Po(e,"class",s);break;case"tabIndex":Po(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Po(e,o,s);break;case"style":nc(e,s,y);break;case"data":if(n!=="object"){Po(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Ho(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(n!=="input"&&ht(e,n,"name",p.name,p,null),ht(e,n,"formEncType",p.formEncType,p,null),ht(e,n,"formMethod",p.formMethod,p,null),ht(e,n,"formTarget",p.formTarget,p,null)):(ht(e,n,"encType",p.encType,p,null),ht(e,n,"method",p.method,p,null),ht(e,n,"target",p.target,p,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Ho(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=zn);break;case"onScroll":s!=null&&Qe("scroll",e);break;case"onScrollEnd":s!=null&&Qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Ho(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Qe("beforetoggle",e),Qe("toggle",e),qo(e,"popover",s);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":qo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rg.get(o)||o,qo(e,o,s))}}function Wr(e,n,o,s,p,y){switch(o){case"style":nc(e,s,y);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?ji(e,s):(typeof s=="number"||typeof s=="bigint")&&ji(e,""+s);break;case"onScroll":s!=null&&Qe("scroll",e);break;case"onScrollEnd":s!=null&&Qe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ku.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),n=o.slice(2,p?o.length-7:void 0),y=e[Ze]||null,y=y!=null?y[o]:null,typeof y=="function"&&e.removeEventListener(n,y,p),typeof s=="function")){typeof y!="function"&&y!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,p);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):qo(e,o,s)}}}function Ot(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",e),Qe("load",e);var s=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":s=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(e,n,y,E,o,null)}}p&&ht(e,n,"srcSet",o.srcSet,o,null),s&&ht(e,n,"src",o.src,o,null);return;case"input":Qe("invalid",e);var I=y=E=p=null,P=null,ee=null;for(s in o)if(o.hasOwnProperty(s)){var de=o[s];if(de!=null)switch(s){case"name":p=de;break;case"type":E=de;break;case"checked":P=de;break;case"defaultChecked":ee=de;break;case"value":y=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,n));break;default:ht(e,n,s,de,o,null)}}Wu(e,y,I,P,ee,E,p,!1);return;case"select":Qe("invalid",e),s=E=y=null;for(p in o)if(o.hasOwnProperty(p)&&(I=o[p],I!=null))switch(p){case"value":y=I;break;case"defaultValue":E=I;break;case"multiple":s=I;default:ht(e,n,p,I,o,null)}n=y,o=E,e.multiple=!!s,n!=null?Wi(e,!!s,n,!1):o!=null&&Wi(e,!!s,o,!0);return;case"textarea":Qe("invalid",e),y=p=s=null;for(E in o)if(o.hasOwnProperty(E)&&(I=o[E],I!=null))switch(E){case"value":s=I;break;case"defaultValue":p=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:ht(e,n,E,I,o,null)}ec(e,s,p,y);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(s=o[P],s!=null))switch(P){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ht(e,n,P,s,o,null)}return;case"dialog":Qe("beforetoggle",e),Qe("toggle",e),Qe("cancel",e),Qe("close",e);break;case"iframe":case"object":Qe("load",e);break;case"video":case"audio":for(s=0;s<bo.length;s++)Qe(bo[s],e);break;case"image":Qe("error",e),Qe("load",e);break;case"details":Qe("toggle",e);break;case"embed":case"source":case"link":Qe("error",e),Qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(s=o[ee],s!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(e,n,ee,s,o,null)}return;default:if(ds(n)){for(de in o)o.hasOwnProperty(de)&&(s=o[de],s!==void 0&&Wr(e,n,de,s,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(s=o[I],s!=null&&ht(e,n,I,s,o,null))}function z0(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,I=null,P=null,ee=null,de=null;for(ae in o){var me=o[ae];if(o.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":P=me;default:s.hasOwnProperty(ae)||ht(e,n,ae,null,s,me)}}for(var ne in s){var ae=s[ne];if(me=o[ne],s.hasOwnProperty(ne)&&(ae!=null||me!=null))switch(ne){case"type":y=ae;break;case"name":p=ae;break;case"checked":ee=ae;break;case"defaultChecked":de=ae;break;case"value":E=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,n));break;default:ae!==me&&ht(e,n,ne,ae,s,me)}}cs(e,E,I,P,ee,de,y,p);return;case"select":ae=E=I=ne=null;for(y in o)if(P=o[y],o.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":ae=P;default:s.hasOwnProperty(y)||ht(e,n,y,null,s,P)}for(p in s)if(y=s[p],P=o[p],s.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":ne=y;break;case"defaultValue":I=y;break;case"multiple":E=y;default:y!==P&&ht(e,n,p,y,s,P)}n=I,o=E,s=ae,ne!=null?Wi(e,!!o,ne,!1):!!s!=!!o&&(n!=null?Wi(e,!!o,n,!0):Wi(e,!!o,o?[]:"",!1));return;case"textarea":ae=ne=null;for(I in o)if(p=o[I],o.hasOwnProperty(I)&&p!=null&&!s.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ht(e,n,I,null,s,p)}for(E in s)if(p=s[E],y=o[E],s.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":ne=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==y&&ht(e,n,E,p,s,y)}ju(e,ne,ae);return;case"option":for(var Ne in o)if(ne=o[Ne],o.hasOwnProperty(Ne)&&ne!=null&&!s.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:ht(e,n,Ne,null,s,ne)}for(P in s)if(ne=s[P],ae=o[P],s.hasOwnProperty(P)&&ne!==ae&&(ne!=null||ae!=null))switch(P){case"selected":e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:ht(e,n,P,ne,s,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in o)ne=o[qe],o.hasOwnProperty(qe)&&ne!=null&&!s.hasOwnProperty(qe)&&ht(e,n,qe,null,s,ne);for(ee in s)if(ne=s[ee],ae=o[ee],s.hasOwnProperty(ee)&&ne!==ae&&(ne!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,n));break;default:ht(e,n,ee,ne,s,ae)}return;default:if(ds(n)){for(var pt in o)ne=o[pt],o.hasOwnProperty(pt)&&ne!==void 0&&!s.hasOwnProperty(pt)&&Wr(e,n,pt,void 0,s,ne);for(de in s)ne=s[de],ae=o[de],!s.hasOwnProperty(de)||ne===ae||ne===void 0&&ae===void 0||Wr(e,n,de,ne,s,ae);return}}for(var Q in o)ne=o[Q],o.hasOwnProperty(Q)&&ne!=null&&!s.hasOwnProperty(Q)&&ht(e,n,Q,null,s,ne);for(me in s)ne=s[me],ae=o[me],!s.hasOwnProperty(me)||ne===ae||ne==null&&ae==null||ht(e,n,me,ne,s,ae)}function lh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var p=o[s],y=p.transferSize,E=p.initiatorType,I=p.duration;if(y&&I&&lh(E)){for(E=0,I=p.responseEnd,s+=1;s<o.length;s++){var P=o[s],ee=P.startTime;if(ee>I)break;var de=P.transferSize,me=P.initiatorType;de&&lh(me)&&(P=P.responseEnd,E+=de*(P<I?1:(I-ee)/(P-ee)))}if(--s,n+=8*(y+E)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jr=null,eu=null;function La(e){return e.nodeType===9?e:e.ownerDocument}function oh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ah(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function tu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nu=null;function G0(){var e=window.event;return e&&e.type==="popstate"?e===nu?!1:(nu=e,!0):(nu=null,!1)}var sh=typeof setTimeout=="function"?setTimeout:void 0,q0=typeof clearTimeout=="function"?clearTimeout:void 0,rh=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof rh<"u"?function(e){return rh.resolve(null).then(e).catch(B0)}:sh;function B0(e){setTimeout(function(){throw e})}function _i(e){return e==="head"}function uh(e,n){var o=n,s=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(p),Ml(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Co(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Co(o);for(var y=o.firstChild;y;){var E=y.nextSibling,I=y.nodeName;y[Vl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=E}}else o==="body"&&Co(e.ownerDocument.body);o=p}while(o);Ml(n)}function ch(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function iu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":iu(o),rs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function H0(e,n,o,s){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Vl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=vn(e.nextSibling),e===null)break}return null}function V0(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=vn(e.nextSibling),e===null))return null;return e}function fh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=vn(e.nextSibling),e===null))return null;return e}function lu(e){return e.data==="$?"||e.data==="$~"}function ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O0(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var au=null;function dh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return vn(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function hh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function ph(e,n,o){switch(n=La(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Co(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);rs(e)}var _n=new Map,mh=new Set;function Ga(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $n=Z.d;Z.d={f:F0,r:Y0,D:J0,C:K0,L:Z0,m:X0,X:$0,S:Q0,M:W0};function F0(){var e=$n.f(),n=Na();return e||n}function Y0(e){var n=Xi(e);n!==null&&n.tag===5&&n.type==="form"?Df(n):$n.r(e)}var wl=typeof document>"u"?null:document;function gh(e,n,o){var s=wl;if(s&&typeof n=="string"&&n){var p=fn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),mh.has(p)||(mh.add(p),e={rel:e,crossOrigin:o,href:n},s.querySelector(p)===null&&(n=s.createElement("link"),Ot(n,"link",e),Lt(n),s.head.appendChild(n)))}}function J0(e){$n.D(e),gh("dns-prefetch",e,null)}function K0(e,n){$n.C(e,n),gh("preconnect",e,n)}function Z0(e,n,o){$n.L(e,n,o);var s=wl;if(s&&e&&n){var p='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+fn(o.imageSizes)+'"]')):p+='[href="'+fn(e)+'"]';var y=p;switch(n){case"style":y=Nl(e);break;case"script":y=Rl(e)}_n.has(y)||(e=_({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),_n.set(y,e),s.querySelector(p)!==null||n==="style"&&s.querySelector(Ao(y))||n==="script"&&s.querySelector(wo(y))||(n=s.createElement("link"),Ot(n,"link",e),Lt(n),s.head.appendChild(n)))}}function X0(e,n){$n.m(e,n);var o=wl;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+fn(s)+'"][href="'+fn(e)+'"]',y=p;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Rl(e)}if(!_n.has(y)&&(e=_({rel:"modulepreload",href:e},n),_n.set(y,e),o.querySelector(p)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wo(y)))return}s=o.createElement("link"),Ot(s,"link",e),Lt(s),o.head.appendChild(s)}}}function Q0(e,n,o){$n.S(e,n,o);var s=wl;if(s&&e){var p=Qi(s).hoistableStyles,y=Nl(e);n=n||"default";var E=p.get(y);if(!E){var I={loading:0,preload:null};if(E=s.querySelector(Ao(y)))I.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},o),(o=_n.get(y))&&su(e,o);var P=E=s.createElement("link");Lt(P),Ot(P,"link",e),P._p=new Promise(function(ee,de){P.onload=ee,P.onerror=de}),P.addEventListener("load",function(){I.loading|=1}),P.addEventListener("error",function(){I.loading|=2}),I.loading|=4,qa(E,n,s)}E={type:"stylesheet",instance:E,count:1,state:I},p.set(y,E)}}}function $0(e,n){$n.X(e,n);var o=wl;if(o&&e){var s=Qi(o).hoistableScripts,p=Rl(e),y=s.get(p);y||(y=o.querySelector(wo(p)),y||(e=_({src:e,async:!0},n),(n=_n.get(p))&&ru(e,n),y=o.createElement("script"),Lt(y),Ot(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function W0(e,n){$n.M(e,n);var o=wl;if(o&&e){var s=Qi(o).hoistableScripts,p=Rl(e),y=s.get(p);y||(y=o.querySelector(wo(p)),y||(e=_({src:e,async:!0,type:"module"},n),(n=_n.get(p))&&ru(e,n),y=o.createElement("script"),Lt(y),Ot(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function yh(e,n,o,s){var p=(p=Te.current)?Ga(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Nl(o.href),o=Qi(p).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Nl(o.href);var y=Qi(p).hoistableStyles,E=y.get(e);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,E),(y=p.querySelector(Ao(e)))&&!y._p&&(E.instance=y,E.state.loading=5),_n.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_n.set(e,o),y||j0(p,e,o,E.state))),n&&s===null)throw Error(a(528,""));return E}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rl(o),o=Qi(p).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Nl(e){return'href="'+fn(e)+'"'}function Ao(e){return'link[rel="stylesheet"]['+e+"]"}function vh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function j0(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Ot(n,"link",o),Lt(n),e.head.appendChild(n))}function Rl(e){return'[src="'+fn(e)+'"]'}function wo(e){return"script[async]"+e}function _h(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+fn(o.href)+'"]');if(s)return n.instance=s,Lt(s),s;var p=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Lt(s),Ot(s,"style",p),qa(s,o.precedence,e),n.instance=s;case"stylesheet":p=Nl(o.href);var y=e.querySelector(Ao(p));if(y)return n.state.loading|=4,n.instance=y,Lt(y),y;s=vh(o),(p=_n.get(p))&&su(s,p),y=(e.ownerDocument||e).createElement("link"),Lt(y);var E=y;return E._p=new Promise(function(I,P){E.onload=I,E.onerror=P}),Ot(y,"link",s),n.state.loading|=4,qa(y,o.precedence,e),n.instance=y;case"script":return y=Rl(o.src),(p=e.querySelector(wo(y)))?(n.instance=p,Lt(p),p):(s=o,(p=_n.get(y))&&(s=_({},o),ru(s,p)),e=e.ownerDocument||e,p=e.createElement("script"),Lt(p),Ot(p,"link",s),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,qa(s,o.precedence,e));return n.instance}function qa(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=s.length?s[s.length-1]:null,y=p,E=0;E<s.length;E++){var I=s[E];if(I.dataset.precedence===n)y=I;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function su(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ru(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Pa=null;function Sh(e,n,o){if(Pa===null){var s=new Map,p=Pa=new Map;p.set(o,s)}else p=Pa,s=p.get(o),s||(s=new Map,p.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var y=o[p];if(!(y[Vl]||y[mt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(n)||"";E=e+E;var I=s.get(E);I?I.push(y):s.set(E,[y])}}return s}function Th(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function ey(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Eh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ty(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Nl(s.href),y=n.querySelector(Ao(p));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ba.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=y,Lt(y);return}y=n.ownerDocument||n,s=vh(s),(p=_n.get(p))&&su(s,p),y=y.createElement("link"),Lt(y);var E=y;E._p=new Promise(function(I,P){E.onload=I,E.onerror=P}),Ot(y,"link",s),o.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ba.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var uu=0;function ny(e,n){return e.stylesheets&&e.count===0&&Va(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Va(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+n);0<e.imgBytes&&uu===0&&(uu=62500*L0());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Va(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>uu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(p)}}:null}function Ba(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Va(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ha=null;function Va(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ha=new Map,n.forEach(iy,e),Ha=null,Ba.call(e))}function iy(e,n){if(!(n.state.loading&4)){var o=Ha.get(e);if(o)var s=o.get(null);else{o=new Map,Ha.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),s=E)}s&&o.set(null,s)}p=n.instance,E=p.getAttribute("data-precedence"),y=o.get(E)||s,y===s&&o.set(null,p),o.set(E,p),this.count++,s=Ba.bind(this),p.addEventListener("load",s),p.addEventListener("error",s),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var No={$$typeof:k,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function ly(e,n,o,s,p,y,E,I,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=s,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function bh(e,n,o,s,p,y,E,I,P,ee,de,me){return e=new ly(e,n,o,E,P,ee,de,me,I),n=1,y===!0&&(n|=24),y=ln(3,null,null,n),e.current=y,y.stateNode=e,n=Vs(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:s,isDehydrated:o,cache:n},Js(y),e}function xh(e){return e?(e=al,e):al}function Ch(e,n,o,s,p,y){p=xh(p),s.context===null?s.context=p:s.pendingContext=p,s=ri(n),s.payload={element:o},y=y===void 0?null:y,y!==null&&(s.callback=y),o=ui(e,s,n),o!==null&&(tn(o,e,n),oo(o,e,n))}function Ah(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function cu(e,n){Ah(e,n),(e=e.alternate)&&Ah(e,n)}function wh(e){if(e.tag===13||e.tag===31){var n=Ii(e,67108864);n!==null&&tn(n,e,67108864),cu(e,67108864)}}function Nh(e){if(e.tag===13||e.tag===31){var n=un();n=qt(n);var o=Ii(e,n);o!==null&&tn(o,e,n),cu(e,n)}}var Oa=!0;function oy(e,n,o,s){var p=Y.T;Y.T=null;var y=Z.p;try{Z.p=2,fu(e,n,o,s)}finally{Z.p=y,Y.T=p}}function ay(e,n,o,s){var p=Y.T;Y.T=null;var y=Z.p;try{Z.p=8,fu(e,n,o,s)}finally{Z.p=y,Y.T=p}}function fu(e,n,o,s){if(Oa){var p=du(s);if(p===null)$r(e,n,s,Fa,o),Mh(e,s);else if(ry(p,e,n,o,s))s.stopPropagation();else if(Mh(e,s),n&4&&-1<sy.indexOf(e)){for(;p!==null;){var y=Xi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=ve(y.pendingLanes);if(E!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;E;){var P=1<<31-ft(E);I.entanglements[1]|=P,E&=~P}Dn(y),(ot&6)===0&&(Aa=xe()+500,Eo(0))}}break;case 31:case 13:I=Ii(y,2),I!==null&&tn(I,y,2),Na(),cu(y,2)}if(y=du(s),y===null&&$r(e,n,s,Fa,o),y===p)break;p=y}p!==null&&s.stopPropagation()}else $r(e,n,s,null,o)}}function du(e){return e=ps(e),hu(e)}var Fa=null;function hu(e){if(Fa=null,e=Zi(e),e!==null){var n=c(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=d(n),e!==null)return e;e=null}else if(o===31){if(e=h(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Fa=e,null}function Rh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case De:return 2;case et:return 8;case Je:case Ft:return 32;case Tn:return 268435456;default:return 32}default:return 32}}var pu=!1,Si=null,Ti=null,Ei=null,Ro=new Map,Mo=new Map,bi=[],sy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mh(e,n){switch(e){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(n.pointerId)}}function Io(e,n,o,s,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:y,targetContainers:[p]},n!==null&&(n=Xi(n),n!==null&&wh(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function ry(e,n,o,s,p){switch(n){case"focusin":return Si=Io(Si,e,n,o,s,p),!0;case"dragenter":return Ti=Io(Ti,e,n,o,s,p),!0;case"mouseover":return Ei=Io(Ei,e,n,o,s,p),!0;case"pointerover":var y=p.pointerId;return Ro.set(y,Io(Ro.get(y)||null,e,n,o,s,p)),!0;case"gotpointercapture":return y=p.pointerId,Mo.set(y,Io(Mo.get(y)||null,e,n,o,s,p)),!0}return!1}function Ih(e){var n=Zi(e.target);if(n!==null){var o=c(n);if(o!==null){if(n=o.tag,n===13){if(n=d(o),n!==null){e.blockedOn=n,bt(e.priority,function(){Nh(o)});return}}else if(n===31){if(n=h(o),n!==null){e.blockedOn=n,bt(e.priority,function(){Nh(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ya(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=du(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);hs=s,o.target.dispatchEvent(s),hs=null}else return n=Xi(o),n!==null&&wh(n),e.blockedOn=o,!1;n.shift()}return!0}function Dh(e,n,o){Ya(e)&&o.delete(n)}function uy(){pu=!1,Si!==null&&Ya(Si)&&(Si=null),Ti!==null&&Ya(Ti)&&(Ti=null),Ei!==null&&Ya(Ei)&&(Ei=null),Ro.forEach(Dh),Mo.forEach(Dh)}function Ja(e,n){e.blockedOn===n&&(e.blockedOn=null,pu||(pu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,uy)))}var Ka=null;function Uh(e){Ka!==e&&(Ka=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ka===e&&(Ka=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],p=e[n+2];if(typeof s!="function"){if(hu(s||o)===null)continue;break}var y=Xi(o);y!==null&&(e.splice(n,3),n-=3,dr(y,{pending:!0,data:p,method:o.method,action:s},s,p))}}))}function Ml(e){function n(P){return Ja(P,e)}Si!==null&&Ja(Si,e),Ti!==null&&Ja(Ti,e),Ei!==null&&Ja(Ei,e),Ro.forEach(n),Mo.forEach(n);for(var o=0;o<bi.length;o++){var s=bi[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<bi.length&&(o=bi[0],o.blockedOn===null);)Ih(o),o.blockedOn===null&&bi.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var p=o[s],y=o[s+1],E=p[Ze]||null;if(typeof y=="function")E||Uh(o);else if(E){var I=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[Ze]||null)I=E.formAction;else if(hu(p)!==null)continue}else I=E.action;typeof I=="function"?o[s+1]=I:(o.splice(s,3),s-=3),Uh(o)}}}function kh(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function mu(e){this._internalRoot=e}Za.prototype.render=mu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=un();Ch(o,s,e,n,null,null)},Za.prototype.unmount=mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ch(e.current,2,null,e,null,null),Na(),n[Pt]=null}};function Za(e){this._internalRoot=e}Za.prototype.unstable_scheduleHydration=function(e){if(e){var n=wn();e={blockedOn:null,target:e,priority:n};for(var o=0;o<bi.length&&n!==0&&n<bi[o].priority;o++);bi.splice(o,0,e),o===0&&Ih(e)}};var zh=t.version;if(zh!=="19.2.1")throw Error(a(527,zh,"19.2.1"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var cy={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{rt=Xa.inject(cy),Mt=Xa}catch{}}return Uo.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",p=Vf,y=Of,E=Ff;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=bh(e,1,!1,null,null,o,s,null,p,y,E,kh),e[Pt]=n.current,Qr(e),new mu(n)},Uo.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,p="",y=Vf,E=Of,I=Ff,P=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),n=bh(e,1,!0,n,o??null,s,p,P,y,E,I,kh),n.context=xh(null),o=n.current,s=un(),s=qt(s),p=ri(s),p.callback=null,ui(o,p,s),o=s,n.current.lanes=o,Ve(n,o),Dn(n),e[Pt]=n.current,Qr(e),new Za(n)},Uo.version="19.2.1",Uo}var Yh;function Ty(){if(Yh)return vu.exports;Yh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),vu.exports=Sy(),vu.exports}var Ey=Ty();const by=ku(Ey),xy={meta:{name:"",author:"Unknown",version:"0.0.1",description:"",endingMessage:"",useBannerAsTitleBg:!1,bgmUrl:""},marketing:{iconUrl:"",bannerUrl:""},initialState:{currentSceneId:"start",inventory:[],flags:{},log:[],gameOver:!1,gameWon:!1},items:{},puzzles:{},scenes:{}},Cy=xy;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ay,wy;function Ny(){return{geminiUrl:Ay,vertexUrl:wy}}function Ry(i,t,l,a){var r,c;if(!(i!=null&&i.baseUrl)){const d=Ny();return t?(r=d.vertexUrl)!==null&&r!==void 0?r:l:(c=d.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jn{}function Ae(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,l){for(let c=0;c<t.length-1;c++){const d=t[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in i))if(Array.isArray(l))i[h]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(i[h])){const g=i[h];if(Array.isArray(l))for(let m=0;m<g.length;m++){const v=g[m];f(v,t.slice(c+1),l[m])}else for(const m of g)f(m,t.slice(c+1),l)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in i||(i[h]=[{}]);const g=i[h];f(g[0],t.slice(c+1),l);return}(!i[d]||typeof i[d]!="object")&&(i[d]={}),i=i[d]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const d=i[c];return Array.isArray(d)?d.map(h=>u(h,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function My(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),c=a.split("."),d=new Set;let h=-1;for(let g=0;g<r.length;g++)if(r[g]==="*"){h=g;break}if(h!==-1&&c.length>h)for(let g=h;g<c.length;g++){const m=c[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}Cu(i,r,c,0,d)}}function Cu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const d=c.slice(0,-2),h=i;if(d in h&&Array.isArray(h[d]))for(const g of h[d])Cu(g,t,l,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const d=i,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!r.has(m)),g={};for(const m of h)g[m]=d[m];for(const[m,v]of Object.entries(g)){const _=[];for(const S of l.slice(a))S==="*"?_.push(m):_.push(S);f(d,_,v)}for(const m of h)delete d[m]}}else{const d=i;c in d&&Cu(d[c],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iy(i){const t={},l=u(i,["operationName"]);l!=null&&f(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function Dy(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],ky(d)),t}function Uy(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],zy(d)),t}function ky(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Ly(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function zy(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Gy(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Ly(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],Oy(l)),t}function Gy(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],Fy(l)),t}function qy(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function Py(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function By(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],Hy(d)),t}function Hy(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function bm(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],Vy(d)),t}function Vy(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Oy(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Lu(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function Fy(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Lu(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jh||(Jh={}));var Kh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Kh||(Kh={}));var Zh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Zh||(Zh={}));var Ci;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Ci||(Ci={}));var Xh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Xh||(Xh={}));var Qh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Qh||(Qh={}));var $h;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})($h||($h={}));var Wh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Wh||(Wh={}));var jh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(jh||(jh={}));var ep;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(ep||(ep={}));var tp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(tp||(tp={}));var np;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(np||(np={}));var ip;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(ip||(ip={}));var lp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(lp||(lp={}));var op;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(op||(op={}));var ap;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ap||(ap={}));var sp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(sp||(sp={}));var rp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(rp||(rp={}));var up;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(up||(up={}));var es;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(es||(es={}));var cp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(cp||(cp={}));var fp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fp||(fp={}));var dp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dp||(dp={}));var Au;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Au||(Au={}));var hp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(hp||(hp={}));var pp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pp||(pp={}));var mp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(mp||(mp={}));var gp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(gp||(gp={}));var yp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(yp||(yp={}));var vp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(vp||(vp={}));var _p;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(_p||(_p={}));var Sp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Sp||(Sp={}));var Tp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Tp||(Tp={}));var Ep;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Ep||(Ep={}));var bp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bp||(bp={}));var xp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xp||(xp={}));var Cp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Cp||(Cp={}));var Ap;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ap||(Ap={}));var wp;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(wp||(wp={}));var Np;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Np||(Np={}));var Rp;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Rp||(Rp={}));var Mp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Mp||(Mp={}));var Ip;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ip||(Ip={}));var Dp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Dp||(Dp={}));var Up;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Up||(Up={}));var kp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(kp||(kp={}));var zp;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zp||(zp={}));var Lp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Lp||(Lp={}));var Gp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gp||(Gp={}));var qp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qp||(qp={}));var Pp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Pp||(Pp={}));var Bp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Bp||(Bp={}));var Hp;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Hp||(Hp={}));var Vp;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Vp||(Vp={}));var Il;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Il||(Il={}));class wu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class ko{get text(){var t,l,a,r,c,d,h,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const S of(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[T,A]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(A!==null||A!==void 0)&&_.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,c,d,h,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,T]of Object.entries(_))S!=="inlineData"&&(T!==null||T!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,c,d,h,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,a,r,c,d,h,g,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,c,d,h,g,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Op{}class Fp{}class Yy{}class Jy{}class Ky{}class Zy{}class Yp{}class Jp{}class Kp{}class Xy{}class ts{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new ts;let r;const c=t;return l?r=Uy(c):r=Dy(c),Object.assign(a,r),a}}class Zp{}class Xp{}class Qp{}class $p{}class Qy{}class $y{}class Wy{}class Gu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Gu,c=By(t);return Object.assign(a,c),a}}class jy{}class ev{}class tv{}class Wp{}class nv{get text(){var t,l,a;let r="",c=!1;const d=[];for(const h of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,r+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,l,a;let r="";const c=[];for(const d of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&g!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(r+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class iv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class qu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new qu,c=bm(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function xm(i,t){const l=lt(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Cm(i){return Array.isArray(i)?i.map(t=>ns(t)):[ns(i)]}function ns(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Am(i){const t=ns(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function wm(i){const t=ns(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function jp(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Nm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>jp(t)):[jp(i)]}function Nu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function em(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function tm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Jt(i){if(i==null)throw new Error("ContentUnion is required");return Nu(i)?i:{role:"user",parts:Nm(i)}}function Pu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=Jt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=Jt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Jt(l)):[Jt(t)]}function Sn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(em(i)||tm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Jt(i)]}const t=[],l=[],a=Nu(i[0]);for(const r of i){const c=Nu(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(em(r)||tm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:Nm(l)}),t}function lv(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Ci).includes(l[0].toUpperCase())?l[0].toUpperCase():Ci.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Ci).includes(a.toUpperCase())?a.toUpperCase():Ci.TYPE_UNSPECIFIED})}}function Ul(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&lv(i.type,t);for(const[d,h]of Object.entries(i))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(Ci).includes(h.toUpperCase())?h.toUpperCase():Ci.TYPE_UNSPECIFIED}else if(l.includes(d))t[d]=Ul(h);else if(a.includes(d)){const g=[];for(const m of h){if(m.type=="null"){t.nullable=!0;continue}g.push(Ul(m))}t[d]=g}else if(r.includes(d)){const g={};for(const[m,v]of Object.entries(h))g[m]=Ul(v);t[d]=g}else{if(d==="additionalProperties")continue;t[d]=h}return t}function Bu(i){return Ul(i)}function Hu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Vu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ll(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ul(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ul(t.response));return i}function Gl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function ov(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function ei(i,t){if(typeof t!="string")throw new Error("name must be a string");return ov(i,t,"cachedContents")}function Rm(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ai(i){return Lu(i)}function av(i){return i!=null&&typeof i=="object"&&"name"in i}function sv(i){return i!=null&&typeof i=="object"&&"video"in i}function rv(i){return i!=null&&typeof i=="object"&&"uri"in i}function Mm(i){var t;let l;if(av(i)&&(l=i.name),!(rv(i)&&(l=i.uri,l===void 0))&&!(sv(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Im(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function Dm(i){for(const t of["models","tunedModels","publisherModels"])if(uv(i,t))return i[t];return[]}function uv(i,t){return i!==null&&typeof i=="object"&&t in i}function cv(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function fv(i,t={}){const l=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const d=cv(r,t);d.functionDeclarations&&l.push(...d.functionDeclarations)}return{functionDeclarations:l}}function Um(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function dv(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function km(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const d of r){if(typeof d!="object"||d===null)continue;const g=d.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function ql(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function zm(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hv(i){const t={},l=u(i,["responsesFile"]);l!=null&&f(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Kv(d))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["inlinedEmbedContentResponses"],c)}return t}function pv(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function mv(i){const t={},l=u(i,["format"]);l!=null&&f(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Wa(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],zm(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const d=u(i,["metadata","endTime"]);d!=null&&f(t,["endTime"],d);const h=u(i,["metadata","updateTime"]);h!=null&&f(t,["updateTime"],h);const g=u(i,["metadata","model"]);g!=null&&f(t,["model"],g);const m=u(i,["metadata","output"]);return m!=null&&f(t,["dest"],hv(km(m))),t}function Ru(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],zm(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["createTime"]);d!=null&&f(t,["createTime"],d);const h=u(i,["startTime"]);h!=null&&f(t,["startTime"],h);const g=u(i,["endTime"]);g!=null&&f(t,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(t,["updateTime"],m);const v=u(i,["model"]);v!=null&&f(t,["model"],v);const _=u(i,["inputConfig"]);_!=null&&f(t,["src"],gv(_));const S=u(i,["outputConfig"]);S!=null&&f(t,["dest"],pv(km(S)));const T=u(i,["completionStats"]);return T!=null&&f(t,["completionStats"],T),t}function gv(i){const t={},l=u(i,["instancesFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function yv(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Jv(i,d))),f(l,["requests","requests"],c)}return l}function vv(i){const t={},l=u(i,["format"]);l!=null&&f(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function _v(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Sv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Tv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Ev(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],bv(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const d=u(i,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const h=u(i,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const g=u(i,["index"]);g!=null&&f(t,["index"],g);const m=u(i,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),f(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(t,["urlContextMetadata"],_),t}function bv(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function Lm(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>e_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function xv(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Cv(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],mv(dv(r))),l}function nm(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],yv(i,Um(i,r)));const c=u(t,["config"]);return c!=null&&xv(c,l),l}function Av(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],lt(i,a));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],vv(Um(i,r)));const c=u(t,["config"]);return c!=null&&Cv(c,l),l}function wv(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),l}function Nv(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],zv(i,r));const c=u(t,["config"]);return c!=null&&wv(c,l),l}function Rv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Mv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Iv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function Dv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function Uv(i,t){const l={},a=u(t,["contents"]);if(a!=null){let c=Pu(i,a);Array.isArray(c)&&(c=c.map(d=>d)),f(l,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],kv(r,l)),My(l,{"requests[].*":"requests[].request.*"})),l}function kv(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function zv(i,t){const l={},a=u(t,["fileName"]);a!=null&&f(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],Uv(i,r)),l}function Lv(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Gv(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qv(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Pv(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],Lm(Jt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const h=u(t,["topK"]);h!=null&&f(a,["topK"],h);const g=u(t,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const T=u(t,["presencePenalty"]);T!=null&&f(a,["presencePenalty"],T);const A=u(t,["frequencyPenalty"]);A!=null&&f(a,["frequencyPenalty"],A);const C=u(t,["seed"]);C!=null&&f(a,["seed"],C);const M=u(t,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const N=u(t,["responseSchema"]);N!=null&&f(a,["responseSchema"],Bu(N));const D=u(t,["responseJsonSchema"]);if(D!=null&&f(a,["responseJsonSchema"],D),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(t,["safetySettings"]);if(l!==void 0&&k!=null){let L=k;Array.isArray(L)&&(L=L.map(ie=>t_(ie))),f(l,["safetySettings"],L)}const B=u(t,["tools"]);if(l!==void 0&&B!=null){let L=Gl(B);Array.isArray(L)&&(L=L.map(ie=>i_(Ll(ie)))),f(l,["tools"],L)}const q=u(t,["toolConfig"]);if(l!==void 0&&q!=null&&f(l,["toolConfig"],n_(q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);l!==void 0&&X!=null&&f(l,["cachedContent"],ei(i,X));const F=u(t,["responseModalities"]);F!=null&&f(a,["responseModalities"],F);const re=u(t,["mediaResolution"]);re!=null&&f(a,["mediaResolution"],re);const O=u(t,["speechConfig"]);if(O!=null&&f(a,["speechConfig"],Hu(O)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(t,["thinkingConfig"]);ce!=null&&f(a,["thinkingConfig"],ce);const be=u(t,["imageConfig"]);return be!=null&&f(a,["imageConfig"],Yv(be)),a}function Bv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>Ev(m))),f(t,["candidates"],g)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const d=u(i,["responseId"]);d!=null&&f(t,["responseId"],d);const h=u(i,["usageMetadata"]);return h!=null&&f(t,["usageMetadata"],h),t}function Hv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Vv(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ql(i,a)),l}function Ov(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function Fv(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function Yv(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Jv(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["request","model"],lt(i,a));const r=u(t,["contents"]);if(r!=null){let h=Sn(r);Array.isArray(h)&&(h=h.map(g=>Lm(g))),f(l,["request","contents"],h)}const c=u(t,["metadata"]);c!=null&&f(l,["metadata"],c);const d=u(t,["config"]);return d!=null&&f(l,["request","generationConfig"],Pv(i,d,u(l,["request"],{}))),l}function Kv(i){const t={},l=u(i,["response"]);l!=null&&f(t,["response"],Bv(l));const a=u(i,["error"]);return a!=null&&f(t,["error"],a),t}function Zv(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function Xv(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),l}function Qv(i){const t={},l=u(i,["config"]);return l!=null&&Zv(l,t),t}function $v(i){const t={},l=u(i,["config"]);return l!=null&&Xv(l,t),t}function Wv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Wa(d))),f(t,["batchJobs"],c)}return t}function jv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ru(d))),f(t,["batchJobs"],c)}return t}function e_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],Lv(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],Gv(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],_v(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function t_(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function n_(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],qv(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function i_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],Ov(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],Fv(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Wn||(Wn={}));class Ji{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,c;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!a||Object.keys(a).length===0?d={config:{}}:typeof a=="object"?d=Object.assign({},a):d=a,d.config&&(d.config.pageToken=l.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(r=d.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l_ extends jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Wn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=nm(this.apiClient,t),a=l._url,r=Ae("{model}:batchGenerateContent",a),h=l.batch.inputConfig.requests,g=h.requests,m=[];for(const v of g){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=S,_.request=T}m.push(_)}return h.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),d=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(d)a.dest=`${d}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Av(this.apiClient,t);return h=Ae("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Ru(v))}else{const m=nm(this.apiClient,t);return h=Ae("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Wa(v))}}async createEmbeddingsInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Nv(this.apiClient,t);return c=Ae("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>Wa(g))}}async get(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Vv(this.apiClient,t);return h=Ae("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Ru(v))}else{const m=Hv(this.apiClient,t);return h=Ae("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Wa(v))}}async cancel(t){var l,a,r,c;let d="",h={};if(this.apiClient.isVertexAI()){const g=Tv(this.apiClient,t);d=Ae("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const g=Sv(this.apiClient,t);d=Ae("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=$v(t);return h=Ae("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=jv(v),S=new Wp;return Object.assign(S,_),S})}else{const m=Qv(t);return h=Ae("batches",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Wv(v),S=new Wp;return Object.assign(S,_),S})}}async delete(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Mv(this.apiClient,t);return h=Ae("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Dv(v))}else{const m=Rv(this.apiClient,t);return h=Ae("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Iv(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o_(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function im(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>N_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function a_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let v=Sn(d);Array.isArray(v)&&(v=v.map(_=>im(_))),f(t,["contents"],v)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],im(Jt(h)));const g=u(i,["tools"]);if(t!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(_=>M_(_))),f(t,["tools"],v)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],R_(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function s_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let _=Sn(d);Array.isArray(_)&&(_=_.map(S=>S)),f(t,["contents"],_)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],Jt(h));const g=u(i,["tools"]);if(t!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>I_(S))),f(t,["tools"],_)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),l}function r_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],xm(i,a));const r=u(t,["config"]);return r!=null&&a_(r,l),l}function u_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],xm(i,a));const r=u(t,["config"]);return r!=null&&s_(r,l),l}function c_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function f_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function d_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function h_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function p_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function m_(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function g_(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function y_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const h=u(i,["responseJsonSchema"]);return h!=null&&f(t,["responseJsonSchema"],h),t}function v_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function __(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function S_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function T_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function E_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function b_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function x_(i){const t={},l=u(i,["config"]);return l!=null&&E_(l,t),t}function C_(i){const t={},l=u(i,["config"]);return l!=null&&b_(l,t),t}function A_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function w_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function N_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],p_(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],m_(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],o_(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function R_(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],g_(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function M_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],S_(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],T_(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function I_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>y_(S))),f(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const h=u(i,["enterpriseWebSearch"]);h!=null&&f(t,["enterpriseWebSearch"],h);const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function D_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function U_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function k_(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],ei(i,a));const r=u(t,["config"]);return r!=null&&D_(r,l),l}function z_(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],ei(i,a));const r=u(t,["config"]);return r!=null&&U_(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L_ extends jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Wn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=u_(this.apiClient,t);return h=Ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=r_(this.apiClient,t);return h=Ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=__(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=v_(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=f_(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=h_(v),S=new Qp;return Object.assign(S,_),S})}else{const m=c_(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=d_(v),S=new Qp;return Object.assign(S,_),S})}}async update(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=z_(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=k_(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=C_(t);return h=Ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=w_(v),S=new $p;return Object.assign(S,_),S})}else{const m=x_(t);return h=Ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=A_(v),S=new $p;return Object.assign(S,_),S})}}}function lm(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Et(i){return this instanceof Et?(this.v=i,this):new Et(i)}function kl(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),r[Symbol.asyncIterator]=function(){return this},r;function d(T){return function(A){return Promise.resolve(A).then(T,_)}}function h(T,A){a[T]&&(r[T]=function(C){return new Promise(function(M,N){c.push([T,C,M,N])>1||g(T,C)})},A&&(r[T]=A(r[T])))}function g(T,A){try{m(a[T](A))}catch(C){S(c[0][3],C)}}function m(T){T.value instanceof Et?Promise.resolve(T.value.v).then(v,_):S(c[0][2],T)}function v(T){g("next",T)}function _(T){g("throw",T)}function S(T,A){T(A),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Lo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof lm=="function"?lm(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(c){l[c]=i[c]&&function(d){return new Promise(function(h,g){d=i[c](d),r(h,g,d.done,d.value)})}}function r(c,d,h,g){Promise.resolve(g).then(function(m){c({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G_(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:Gm(l)}function Gm(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function q_(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function om(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),c&&!Gm(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class P_{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new B_(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class B_{constructor(t,l,a,r={},c=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),q_(c)}async sendMessage(t){var l;await this.sendPromise;const a=Jt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,d,h;const g=await r,m=(d=(c=g.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(_))!==null&&h!==void 0?h:[]);const T=m?[m]:[];this.recordHistory(a,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=Jt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const l=t?om(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){var a,r;return kl(this,arguments,function*(){var d,h,g,m;const v=[];try{for(var _=!0,S=Lo(t),T;T=yield Et(S.next()),d=T.done,!d;_=!0){m=T.value,_=!1;const A=m;if(G_(A)){const C=(r=(a=A.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;C!==void 0&&v.push(C)}yield yield Et(A)}}catch(A){h={error:A}}finally{try{!_&&!d&&(g=S.return)&&(yield Et(g.call(S)))}finally{if(h)throw h.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(c=>c.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...om(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ls extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ls.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H_(i){const t={},l=u(i,["file"]);return l!=null&&f(t,["file"],l),t}function V_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function O_(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],Mm(l)),t}function F_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function Y_(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],Mm(l)),t}function J_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function K_(i){const t={},l=u(i,["config"]);return l!=null&&J_(l,t),t}function Z_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["files"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_ extends jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Wn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=K_(t);return c=Ae("files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=Z_(g),v=new jy;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=H_(t);return c=Ae("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=V_(g),v=new ev;return Object.assign(v,m),v})}}async get(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Y_(t);return c=Ae("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=O_(t);return c=Ae("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=F_(g),v=new tv;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ja(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Q_(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>dS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function $_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function W_(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function j_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const h=u(i,["responseJsonSchema"]);return h!=null&&f(t,["responseJsonSchema"],h),t}function eS(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const h=u(i,["frequencyPenalty"]);h!=null&&f(t,["frequencyPenalty"],h);const g=u(i,["logprobs"]);g!=null&&f(t,["logprobs"],g);const m=u(i,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&f(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const T=u(i,["responseMimeType"]);T!=null&&f(t,["responseMimeType"],T);const A=u(i,["responseModalities"]);A!=null&&f(t,["responseModalities"],A);const C=u(i,["responseSchema"]);C!=null&&f(t,["responseSchema"],C);const M=u(i,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const N=u(i,["seed"]);N!=null&&f(t,["seed"],N);const D=u(i,["speechConfig"]);D!=null&&f(t,["speechConfig"],qm(D));const k=u(i,["stopSequences"]);k!=null&&f(t,["stopSequences"],k);const B=u(i,["temperature"]);B!=null&&f(t,["temperature"],B);const q=u(i,["thinkingConfig"]);q!=null&&f(t,["thinkingConfig"],q);const X=u(i,["topK"]);X!=null&&f(t,["topK"],X);const F=u(i,["topP"]);if(F!=null&&f(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function tS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function nS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function iS(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=u(i,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const g=u(i,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],Vu(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const T=u(i,["enableAffectiveDialog"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],T);const A=u(i,["systemInstruction"]);t!==void 0&&A!=null&&f(t,["setup","systemInstruction"],Q_(Jt(A)));const C=u(i,["tools"]);if(t!==void 0&&C!=null){let X=Gl(C);Array.isArray(X)&&(X=X.map(F=>pS(Ll(F)))),f(t,["setup","tools"],X)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],hS(M));const N=u(i,["inputAudioTranscription"]);t!==void 0&&N!=null&&f(t,["setup","inputAudioTranscription"],N);const D=u(i,["outputAudioTranscription"]);t!==void 0&&D!=null&&f(t,["setup","outputAudioTranscription"],D);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&f(t,["setup","realtimeInputConfig"],k);const B=u(i,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],B);const q=u(i,["proactivity"]);return t!==void 0&&q!=null&&f(t,["setup","proactivity"],q),l}function lS(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],eS(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=u(i,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const g=u(i,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],qm(Vu(_)));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const T=u(i,["enableAffectiveDialog"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],T);const A=u(i,["systemInstruction"]);t!==void 0&&A!=null&&f(t,["setup","systemInstruction"],Jt(A));const C=u(i,["tools"]);if(t!==void 0&&C!=null){let X=Gl(C);Array.isArray(X)&&(X=X.map(F=>mS(Ll(F)))),f(t,["setup","tools"],X)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],M);const N=u(i,["inputAudioTranscription"]);t!==void 0&&N!=null&&f(t,["setup","inputAudioTranscription"],N);const D=u(i,["outputAudioTranscription"]);t!==void 0&&D!=null&&f(t,["setup","outputAudioTranscription"],D);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&f(t,["setup","realtimeInputConfig"],k);const B=u(i,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],B);const q=u(i,["proactivity"]);return t!==void 0&&q!=null&&f(t,["setup","proactivity"],q),l}function oS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],lt(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],iS(r,l)),l}function aS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],lt(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],lS(r,l)),l}function sS(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function rS(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function uS(i){const t={},l=u(i,["media"]);if(l!=null){let m=Cm(l);Array.isArray(m)&&(m=m.map(v=>ja(v))),f(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],ja(wm(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],ja(Am(c)));const d=u(i,["text"]);d!=null&&f(t,["text"],d);const h=u(i,["activityStart"]);h!=null&&f(t,["activityStart"],h);const g=u(i,["activityEnd"]);return g!=null&&f(t,["activityEnd"],g),t}function cS(i){const t={},l=u(i,["media"]);if(l!=null){let m=Cm(l);Array.isArray(m)&&(m=m.map(v=>v)),f(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],wm(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Am(c));const d=u(i,["text"]);d!=null&&f(t,["text"],d);const h=u(i,["activityStart"]);h!=null&&f(t,["activityStart"],h);const g=u(i,["activityEnd"]);return g!=null&&f(t,["activityEnd"],g),t}function fS(i){const t={},l=u(i,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const d=u(i,["usageMetadata"]);d!=null&&f(t,["usageMetadata"],gS(d));const h=u(i,["goAway"]);h!=null&&f(t,["goAway"],h);const g=u(i,["sessionResumptionUpdate"]);return g!=null&&f(t,["sessionResumptionUpdate"],g),t}function dS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],$_(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],W_(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],ja(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function hS(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function qm(i){const t={},l=u(i,["languageCode"]);l!=null&&f(t,["languageCode"],l);const a=u(i,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function pS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],tS(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],nS(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function mS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>j_(S))),f(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const h=u(i,["enterpriseWebSearch"]);h!=null&&f(t,["enterpriseWebSearch"],h);const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function gS(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const d=u(i,["thoughtsTokenCount"]);d!=null&&f(t,["thoughtsTokenCount"],d);const h=u(i,["totalTokenCount"]);h!=null&&f(t,["totalTokenCount"],h);const g=u(i,["promptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["promptTokensDetails"],T)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["cacheTokensDetails"],T)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["responseTokensDetails"],T)}const _=u(i,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(A=>A)),f(t,["toolUsePromptTokensDetails"],T)}const S=u(i,["trafficType"]);return S!=null&&f(t,["trafficType"],S),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function vS(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],_S(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const d=u(i,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const h=u(i,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const g=u(i,["index"]);g!=null&&f(t,["index"],g);const m=u(i,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),f(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(t,["urlContextMetadata"],_),t}function _S(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function SS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["contents"]);if(r!=null){let c=Sn(r);Array.isArray(c)&&(c=c.map(d=>d)),f(l,["contents"],c)}return l}function TS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["tokensInfo"],r)}return t}function ES(i){const t={},l=u(i,["values"]);l!=null&&f(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&f(t,["statistics"],bS(a)),t}function bS(i){const t={},l=u(i,["truncated"]);l!=null&&f(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&f(t,["tokenCount"],a),t}function os(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>DT(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function xS(i){const t={},l=u(i,["controlType"]);l!=null&&f(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&f(t,["computeControl"],a),t}function CS(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function AS(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],Jt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>Om(h))),f(t,["tools"],d)}const c=u(i,["generationConfig"]);return t!==void 0&&c!=null&&f(t,["generationConfig"],yT(c)),l}function wS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["contents"]);if(r!=null){let d=Sn(r);Array.isArray(d)&&(d=d.map(h=>os(h))),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&CS(c),l}function NS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["contents"]);if(r!=null){let d=Sn(r);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&AS(c,l),l}function RS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&f(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function MS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&f(t,["totalTokens"],a),t}function IS(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],lt(i,a)),l}function DS(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],lt(i,a)),l}function US(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function kS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function zS(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const h=u(i,["guidanceScale"]);t!==void 0&&h!=null&&f(t,["parameters","guidanceScale"],h);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const T=u(i,["language"]);t!==void 0&&T!=null&&f(t,["parameters","language"],T);const A=u(i,["outputMimeType"]);t!==void 0&&A!=null&&f(t,["parameters","outputOptions","mimeType"],A);const C=u(i,["outputCompressionQuality"]);t!==void 0&&C!=null&&f(t,["parameters","outputOptions","compressionQuality"],C);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const N=u(i,["labels"]);t!==void 0&&N!=null&&f(t,["labels"],N);const D=u(i,["editMode"]);t!==void 0&&D!=null&&f(t,["parameters","editMode"],D);const k=u(i,["baseSteps"]);return t!==void 0&&k!=null&&f(t,["parameters","editConfig","baseSteps"],k),l}function LS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>qT(g))),f(l,["instances[0]","referenceImages"],h)}const d=u(t,["config"]);return d!=null&&zS(d,l),l}function GS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>as(c))),f(t,["generatedImages"],r)}return t}function qS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function PS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const c=u(i,["outputDimensionality"]);t!==void 0&&c!=null&&f(t,["parameters","outputDimensionality"],c);const d=u(i,["mimeType"]);t!==void 0&&d!=null&&f(t,["instances[]","mimeType"],d);const h=u(i,["autoTruncate"]);return t!==void 0&&h!=null&&f(t,["parameters","autoTruncate"],h),l}function BS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["contents"]);if(r!=null){let h=Pu(i,r);Array.isArray(h)&&(h=h.map(g=>g)),f(l,["requests[]","content"],h)}const c=u(t,["config"]);c!=null&&qS(c,l);const d=u(t,["model"]);return d!==void 0&&f(l,["requests[]","model"],lt(i,d)),l}function HS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["contents"]);if(r!=null){let d=Pu(i,r);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["instances[]","content"],d)}const c=u(t,["config"]);return c!=null&&PS(c,l),l}function VS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function OS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>ES(d))),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function FS(i){const t={},l=u(i,["endpoint"]);l!=null&&f(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&f(t,["deployedModelId"],a),t}function YS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function JS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KS(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function ZS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const h=u(i,["responseJsonSchema"]);return h!=null&&f(t,["responseJsonSchema"],h),t}function XS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],os(Jt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const h=u(t,["topK"]);h!=null&&f(a,["topK"],h);const g=u(t,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const T=u(t,["presencePenalty"]);T!=null&&f(a,["presencePenalty"],T);const A=u(t,["frequencyPenalty"]);A!=null&&f(a,["frequencyPenalty"],A);const C=u(t,["seed"]);C!=null&&f(a,["seed"],C);const M=u(t,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const N=u(t,["responseSchema"]);N!=null&&f(a,["responseSchema"],Bu(N));const D=u(t,["responseJsonSchema"]);if(D!=null&&f(a,["responseJsonSchema"],D),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(t,["safetySettings"]);if(l!==void 0&&k!=null){let L=k;Array.isArray(L)&&(L=L.map(ie=>PT(ie))),f(l,["safetySettings"],L)}const B=u(t,["tools"]);if(l!==void 0&&B!=null){let L=Gl(B);Array.isArray(L)&&(L=L.map(ie=>JT(Ll(ie)))),f(l,["tools"],L)}const q=u(t,["toolConfig"]);if(l!==void 0&&q!=null&&f(l,["toolConfig"],YT(q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);l!==void 0&&X!=null&&f(l,["cachedContent"],ei(i,X));const F=u(t,["responseModalities"]);F!=null&&f(a,["responseModalities"],F);const re=u(t,["mediaResolution"]);re!=null&&f(a,["mediaResolution"],re);const O=u(t,["speechConfig"]);if(O!=null&&f(a,["speechConfig"],Hu(O)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(t,["thinkingConfig"]);ce!=null&&f(a,["thinkingConfig"],ce);const be=u(t,["imageConfig"]);return be!=null&&f(a,["imageConfig"],ET(be)),a}function QS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],Jt(r));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const h=u(t,["topK"]);h!=null&&f(a,["topK"],h);const g=u(t,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const T=u(t,["presencePenalty"]);T!=null&&f(a,["presencePenalty"],T);const A=u(t,["frequencyPenalty"]);A!=null&&f(a,["frequencyPenalty"],A);const C=u(t,["seed"]);C!=null&&f(a,["seed"],C);const M=u(t,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const N=u(t,["responseSchema"]);N!=null&&f(a,["responseSchema"],Bu(N));const D=u(t,["responseJsonSchema"]);D!=null&&f(a,["responseJsonSchema"],D);const k=u(t,["routingConfig"]);k!=null&&f(a,["routingConfig"],k);const B=u(t,["modelSelectionConfig"]);B!=null&&f(a,["modelConfig"],B);const q=u(t,["safetySettings"]);if(l!==void 0&&q!=null){let Y=q;Array.isArray(Y)&&(Y=Y.map(Z=>Z)),f(l,["safetySettings"],Y)}const X=u(t,["tools"]);if(l!==void 0&&X!=null){let Y=Gl(X);Array.isArray(Y)&&(Y=Y.map(Z=>Om(Ll(Z)))),f(l,["tools"],Y)}const F=u(t,["toolConfig"]);l!==void 0&&F!=null&&f(l,["toolConfig"],F);const re=u(t,["labels"]);l!==void 0&&re!=null&&f(l,["labels"],re);const O=u(t,["cachedContent"]);l!==void 0&&O!=null&&f(l,["cachedContent"],ei(i,O));const ce=u(t,["responseModalities"]);ce!=null&&f(a,["responseModalities"],ce);const be=u(t,["mediaResolution"]);be!=null&&f(a,["mediaResolution"],be);const L=u(t,["speechConfig"]);L!=null&&f(a,["speechConfig"],Vm(Hu(L)));const ie=u(t,["audioTimestamp"]);ie!=null&&f(a,["audioTimestamp"],ie);const w=u(t,["thinkingConfig"]);w!=null&&f(a,["thinkingConfig"],w);const ue=u(t,["imageConfig"]);return ue!=null&&f(a,["imageConfig"],bT(ue)),a}function am(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["contents"]);if(r!=null){let d=Sn(r);Array.isArray(d)&&(d=d.map(h=>os(h))),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],XS(i,c,l)),l}function sm(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["contents"]);if(r!=null){let d=Sn(r);Array.isArray(d)&&(d=d.map(h=>h)),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],QS(i,c,l)),l}function rm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>vS(m))),f(t,["candidates"],g)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const d=u(i,["responseId"]);d!=null&&f(t,["responseId"],d);const h=u(i,["usageMetadata"]);return h!=null&&f(t,["usageMetadata"],h),t}function um(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),f(t,["candidates"],m)}const r=u(i,["createTime"]);r!=null&&f(t,["createTime"],r);const c=u(i,["modelVersion"]);c!=null&&f(t,["modelVersion"],c);const d=u(i,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const h=u(i,["responseId"]);h!=null&&f(t,["responseId"],h);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function $S(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const c=u(i,["guidanceScale"]);if(t!==void 0&&c!=null&&f(t,["parameters","guidanceScale"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["safetyFilterLevel"]);t!==void 0&&d!=null&&f(t,["parameters","safetySetting"],d);const h=u(i,["personGeneration"]);t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h);const g=u(i,["includeSafetyAttributes"]);t!==void 0&&g!=null&&f(t,["parameters","includeSafetyAttributes"],g);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const v=u(i,["language"]);t!==void 0&&v!=null&&f(t,["parameters","language"],v);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","mimeType"],_);const S=u(i,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=u(i,["imageSize"]);if(t!==void 0&&T!=null&&f(t,["parameters","sampleImageSize"],T),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function WS(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const h=u(i,["guidanceScale"]);t!==void 0&&h!=null&&f(t,["parameters","guidanceScale"],h);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const T=u(i,["language"]);t!==void 0&&T!=null&&f(t,["parameters","language"],T);const A=u(i,["outputMimeType"]);t!==void 0&&A!=null&&f(t,["parameters","outputOptions","mimeType"],A);const C=u(i,["outputCompressionQuality"]);t!==void 0&&C!=null&&f(t,["parameters","outputOptions","compressionQuality"],C);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&f(t,["parameters","addWatermark"],M);const N=u(i,["labels"]);t!==void 0&&N!=null&&f(t,["labels"],N);const D=u(i,["imageSize"]);t!==void 0&&D!=null&&f(t,["parameters","sampleImageSize"],D);const k=u(i,["enhancePrompt"]);return t!==void 0&&k!=null&&f(t,["parameters","enhancePrompt"],k),l}function jS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&$S(c,l),l}function eT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&WS(c,l),l}function tT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>hT(d))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],Bm(r)),t}function nT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>as(d))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],Hm(r)),t}function iT(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const d=u(i,["resolution"]);t!==void 0&&d!=null&&f(t,["parameters","resolution"],d);const h=u(i,["personGeneration"]);if(t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=u(i,["negativePrompt"]);t!==void 0&&g!=null&&f(t,["parameters","negativePrompt"],g);const m=u(i,["enhancePrompt"]);if(t!==void 0&&m!=null&&f(t,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&f(t,["instances[0]","lastFrame"],ss(v));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>oE(T))),f(t,["instances[0]","referenceImages"],S)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function lT(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["fps"]);t!==void 0&&c!=null&&f(t,["parameters","fps"],c);const d=u(i,["durationSeconds"]);t!==void 0&&d!=null&&f(t,["parameters","durationSeconds"],d);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const m=u(i,["resolution"]);t!==void 0&&m!=null&&f(t,["parameters","resolution"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&f(t,["parameters","pubsubTopic"],_);const S=u(i,["negativePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","negativePrompt"],S);const T=u(i,["enhancePrompt"]);t!==void 0&&T!=null&&f(t,["parameters","enhancePrompt"],T);const A=u(i,["generateAudio"]);t!==void 0&&A!=null&&f(t,["parameters","generateAudio"],A);const C=u(i,["lastFrame"]);t!==void 0&&C!=null&&f(t,["instances[0]","lastFrame"],Cn(C));const M=u(i,["referenceImages"]);if(t!==void 0&&M!=null){let k=M;Array.isArray(k)&&(k=k.map(B=>aE(B))),f(t,["instances[0]","referenceImages"],k)}const N=u(i,["mask"]);t!==void 0&&N!=null&&f(t,["instances[0]","mask"],lE(N));const D=u(i,["compressionQuality"]);return t!==void 0&&D!=null&&f(t,["parameters","compressionQuality"],D),l}function oT(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],uT(d)),t}function aT(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],cT(d)),t}function sT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],ss(c));const d=u(t,["video"]);d!=null&&f(l,["instances[0]","video"],Fm(d));const h=u(t,["source"]);h!=null&&fT(h,l);const g=u(t,["config"]);return g!=null&&iT(g,l),l}function rT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],Cn(c));const d=u(t,["video"]);d!=null&&f(l,["instances[0]","video"],Ym(d));const h=u(t,["source"]);h!=null&&dT(h,l);const g=u(t,["config"]);return g!=null&&lT(g,l),l}function uT(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>mT(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function cT(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>gT(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function fT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],ss(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],Fm(c)),l}function dT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Cn(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],Ym(c)),l}function hT(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],xT(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&f(t,["safetyAttributes"],Bm(r)),t}function as(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],Pm(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&f(t,["safetyAttributes"],Hm(r));const c=u(i,["prompt"]);return c!=null&&f(t,["enhancedPrompt"],c),t}function pT(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["mask"],Pm(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["labels"],r)}return t}function mT(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],nE(l)),t}function gT(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],iE(l)),t}function yT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const h=u(i,["frequencyPenalty"]);h!=null&&f(t,["frequencyPenalty"],h);const g=u(i,["logprobs"]);g!=null&&f(t,["logprobs"],g);const m=u(i,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&f(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const T=u(i,["responseMimeType"]);T!=null&&f(t,["responseMimeType"],T);const A=u(i,["responseModalities"]);A!=null&&f(t,["responseModalities"],A);const C=u(i,["responseSchema"]);C!=null&&f(t,["responseSchema"],C);const M=u(i,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const N=u(i,["seed"]);N!=null&&f(t,["seed"],N);const D=u(i,["speechConfig"]);D!=null&&f(t,["speechConfig"],Vm(D));const k=u(i,["stopSequences"]);k!=null&&f(t,["stopSequences"],k);const B=u(i,["temperature"]);B!=null&&f(t,["temperature"],B);const q=u(i,["thinkingConfig"]);q!=null&&f(t,["thinkingConfig"],q);const X=u(i,["topK"]);X!=null&&f(t,["topK"],X);const F=u(i,["topP"]);if(F!=null&&f(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function vT(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],lt(i,a)),l}function _T(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],lt(i,a)),l}function ST(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function TT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function ET(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function bT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&f(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&f(t,["imageOutputOptions","mimeType"],r);const c=u(i,["outputCompressionQuality"]);return c!=null&&f(t,["imageOutputOptions","compressionQuality"],c),t}function xT(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],Ai(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Pm(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],Ai(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function ss(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],Ai(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Cn(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Ai(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function CT(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const d=u(t,["filter"]);l!==void 0&&d!=null&&f(l,["_query","filter"],d);const h=u(t,["queryBase"]);return l!==void 0&&h!=null&&f(l,["_url","models_url"],Im(i,h)),a}function AT(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const d=u(t,["filter"]);l!==void 0&&d!=null&&f(l,["_query","filter"],d);const h=u(t,["queryBase"]);return l!==void 0&&h!=null&&f(l,["_url","models_url"],Im(i,h)),a}function wT(i,t){const l={},a=u(t,["config"]);return a!=null&&CT(i,a,l),l}function NT(i,t){const l={},a=u(t,["config"]);return a!=null&&AT(i,a,l),l}function RT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=Dm(r);Array.isArray(c)&&(c=c.map(d=>Mu(d))),f(t,["models"],c)}return t}function MT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=Dm(r);Array.isArray(c)&&(c=c.map(d=>Iu(d))),f(t,["models"],c)}return t}function IT(i){const t={},l=u(i,["maskMode"]);l!=null&&f(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&f(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function Mu(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["version"]);c!=null&&f(t,["version"],c);const d=u(i,["_self"]);d!=null&&f(t,["tunedModelInfo"],KT(d));const h=u(i,["inputTokenLimit"]);h!=null&&f(t,["inputTokenLimit"],h);const g=u(i,["outputTokenLimit"]);g!=null&&f(t,["outputTokenLimit"],g);const m=u(i,["supportedGenerationMethods"]);m!=null&&f(t,["supportedActions"],m);const v=u(i,["temperature"]);v!=null&&f(t,["temperature"],v);const _=u(i,["maxTemperature"]);_!=null&&f(t,["maxTemperature"],_);const S=u(i,["topP"]);S!=null&&f(t,["topP"],S);const T=u(i,["topK"]);T!=null&&f(t,["topK"],T);const A=u(i,["thinking"]);return A!=null&&f(t,["thinking"],A),t}function Iu(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["versionId"]);c!=null&&f(t,["version"],c);const d=u(i,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>FS(S))),f(t,["endpoints"],_)}const h=u(i,["labels"]);h!=null&&f(t,["labels"],h);const g=u(i,["_self"]);g!=null&&f(t,["tunedModelInfo"],ZT(g));const m=u(i,["defaultCheckpointId"]);m!=null&&f(t,["defaultCheckpointId"],m);const v=u(i,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),f(t,["checkpoints"],_)}return t}function DT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],YS(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],JS(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],yS(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function UT(i){const t={},l=u(i,["productImage"]);return l!=null&&f(t,["image"],Cn(l)),t}function kT(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const d=u(i,["seed"]);t!==void 0&&d!=null&&f(t,["parameters","seed"],d);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const m=u(i,["addWatermark"]);t!==void 0&&m!=null&&f(t,["parameters","addWatermark"],m);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","compressionQuality"],_);const S=u(i,["enhancePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","enhancePrompt"],S);const T=u(i,["labels"]);return t!==void 0&&T!=null&&f(t,["labels"],T),l}function zT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["source"]);r!=null&&GT(r,l);const c=u(t,["config"]);return c!=null&&kT(c,l),l}function LT(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>as(r))),f(t,["generatedImages"],a)}return t}function GT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],Cn(r));const c=u(i,["productImages"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>UT(h))),f(t,["instances[0]","productImages"],d)}return l}function qT(i){const t={},l=u(i,["referenceImage"]);l!=null&&f(t,["referenceImage"],Cn(l));const a=u(i,["referenceId"]);a!=null&&f(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&f(t,["referenceType"],r);const c=u(i,["maskImageConfig"]);c!=null&&f(t,["maskImageConfig"],IT(c));const d=u(i,["controlImageConfig"]);d!=null&&f(t,["controlImageConfig"],xS(d));const h=u(i,["styleImageConfig"]);h!=null&&f(t,["styleImageConfig"],h);const g=u(i,["subjectImageConfig"]);return g!=null&&f(t,["subjectImageConfig"],g),t}function Bm(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function Hm(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function PT(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function BT(i){const t={},l=u(i,["image"]);return l!=null&&f(t,["image"],Cn(l)),t}function HT(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&f(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const c=u(i,["confidenceThreshold"]);t!==void 0&&c!=null&&f(t,["parameters","confidenceThreshold"],c);const d=u(i,["maskDilation"]);t!==void 0&&d!=null&&f(t,["parameters","maskDilation"],d);const h=u(i,["binaryColorThreshold"]);t!==void 0&&h!=null&&f(t,["parameters","binaryColorThreshold"],h);const g=u(i,["labels"]);return t!==void 0&&g!=null&&f(t,["labels"],g),l}function VT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["source"]);r!=null&&FT(r,l);const c=u(t,["config"]);return c!=null&&HT(c,l),l}function OT(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>pT(r))),f(t,["generatedMasks"],a)}return t}function FT(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Cn(r));const c=u(i,["scribbleImage"]);return t!==void 0&&c!=null&&f(t,["instances[0]","scribble"],BT(c)),l}function Vm(i){const t={},l=u(i,["languageCode"]);l!=null&&f(t,["languageCode"],l);const a=u(i,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function YT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],KS(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function JT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],ST(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],TT(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function Om(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>ZS(S))),f(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const h=u(i,["enterpriseWebSearch"]);h!=null&&f(t,["enterpriseWebSearch"],h);const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function KT(i){const t={},l=u(i,["baseModel"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function ZT(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function XT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function QT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function $T(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","name"],lt(i,a));const r=u(t,["config"]);return r!=null&&XT(r,l),l}function WT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["config"]);return r!=null&&QT(r,l),l}function jT(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const c=u(i,["personGeneration"]);t!==void 0&&c!=null&&f(t,["parameters","personGeneration"],c);const d=u(i,["includeRaiReason"]);t!==void 0&&d!=null&&f(t,["parameters","includeRaiReason"],d);const h=u(i,["outputMimeType"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","mimeType"],h);const g=u(i,["outputCompressionQuality"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","compressionQuality"],g);const m=u(i,["enhanceInputImage"]);t!==void 0&&m!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=u(i,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const S=u(i,["numberOfImages"]);t!==void 0&&S!=null&&f(t,["parameters","sampleCount"],S);const T=u(i,["mode"]);return t!==void 0&&T!=null&&f(t,["parameters","mode"],T),l}function eE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],lt(i,a));const r=u(t,["image"]);r!=null&&f(l,["instances[0]","image"],Cn(r));const c=u(t,["upscaleFactor"]);c!=null&&f(l,["parameters","upscaleConfig","upscaleFactor"],c);const d=u(t,["config"]);return d!=null&&jT(d,l),l}function tE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>as(c))),f(t,["generatedImages"],r)}return t}function nE(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Ai(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function iE(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Ai(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function lE(i){const t={},l=u(i,["image"]);l!=null&&f(t,["_self"],Cn(l));const a=u(i,["maskMode"]);return a!=null&&f(t,["maskMode"],a),t}function oE(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],ss(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function aE(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],Cn(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function Fm(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["encodedVideo"],Ai(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function Ym(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Ai(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sE(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),l}function rE(i){const t={},l=u(i,["config"]);return l!=null&&sE(l,t),t}function uE(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function cE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&uE(a,t),t}function fE(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function dE(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function hE(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],mE(d)),t}function pE(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&dE(r,t),t}function mE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function gE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function yE(i){const t={},l=u(i,["config"]);return l!=null&&gE(l,t),t}function vE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["fileSearchStores"],c)}return t}function Jm(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),f(t,["customMetadata"],h)}const d=u(i,["chunkingConfig"]);return t!==void 0&&d!=null&&f(t,["chunkingConfig"],d),l}function _E(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&Jm(a,t),t}function SE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TE="Content-Type",EE="X-Server-Timeout",bE="User-Agent",Du="x-goog-api-client",xE="1.31.0",CE=`google-genai-sdk/${xE}`,AE="v1beta1",wE="v1beta",cm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class NE{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:AE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:wE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[d,h]of Object.entries(t.queryParams))r.searchParams.append(d,String(h));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(l))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const c=new AbortController,d=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const h=setTimeout(()=>c.abort(),l.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=d}return l&&l.extraBody!==null&&RE(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await fm(r),new wu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await fm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var l;return kl(this,arguments,function*(){const r=(l=t==null?void 0:t.body)===null||l===void 0?void 0:l.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:g}=yield Et(r.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(g,{stream:!0});try{const _=JSON.parse(m);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),T=S.status,A=S.code,C=`got status: ${T}. ${JSON.stringify(_)}`;if(A>=400&&A<600)throw new ls({message:C,status:A})}}catch(_){if(_.name==="ApiError")throw _}d+=m;let v=d.match(cm);for(;v;){const _=v[1];try{const S=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Et(new wu(S)),d=d.slice(v[0].length),v=d.match(cm)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=CE+" "+this.clientOptions.userAgentExtra;return t[bE]=l,t[Du]=l,t[TE]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(EE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,d=await c.stat(t);r.sizeBytes=String(d.size);const h=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const g={file:r},m=this.getFileName(t),v=Ae("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,g,l==null?void 0:l.httpOptions);return c.upload(t,_,this)}async uploadFileToFileSearchStore(t,l,a){var r;const c=this.clientOptions.uploader,d=await c.stat(l),h=String(d.size),g=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),_={};a!=null&&Jm(a,_);const S=await this.fetchUploadUrl(m,h,g,v,_,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(l,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,c,d){var h;let g={};d?g=d:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function fm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new ls({message:r,status:l}):new Error(r)}}function RE(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,d){const h=Object.assign({},c);for(const g in d)if(Object.prototype.hasOwnProperty.call(d,g)){const m=d[g],v=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ME="mcp_used/unknown";let IE=!1;function Km(i){for(const t of i)if(DE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return IE}function Zm(i){var t;const l=(t=i[Du])!==null&&t!==void 0?t:"";i[Du]=(l+` ${ME}`).trimStart()}function DE(i){return i!==null&&typeof i=="object"&&i instanceof Ou}function UE(i,t=100){return kl(this,arguments,function*(){let a,r=0;for(;r<t;){const c=yield Et(i.listTools({cursor:a}));for(const d of c.tools)yield yield Et(d),r++;if(!c.nextCursor)break;a=c.nextCursor}})}class Ou{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Ou(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const c={},d=[];for(const v of this.mcpClients)try{for(var h=!0,g=(l=void 0,Lo(UE(v))),m;m=await g.next(),t=m.done,!t;h=!0){r=m.value,h=!1;const _=r;d.push(_);const S=_.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(_){l={error:_}}finally{try{!h&&!t&&(a=g.return)&&await a.call(g)}finally{if(l)throw l.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),fv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await r.callTool({name:a.name,arguments:a.args},void 0,c);l.push({functionResponse:{name:a.name,response:d.isError?{error:d}:d}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function kE(i,t,l){const a=new iv;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class zE{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=qE(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise(k=>{m=k}),_=t.callbacks,S=function(){m({})},T=this.apiClient,A={onopen:S,onmessage:k=>{kE(T,_.onmessage,k)},onerror:(l=_==null?void 0:_.onerror)!==null&&l!==void 0?l:function(k){},onclose:(a=_==null?void 0:_.onclose)!==null&&a!==void 0?a:function(k){}},C=this.webSocketFactory.create(g,GE(d),A);C.connect(),await v;const D={setup:{model:lt(this.apiClient,t.model)}};return C.send(JSON.stringify(D)),new LE(C,this.apiClient)}}class LE{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=rS(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=sS(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Il.PLAY)}pause(){this.sendPlaybackControl(Il.PAUSE)}stop(){this.sendPlaybackControl(Il.STOP)}resetContext(){this.sendPlaybackControl(Il.RESET_CONTEXT)}close(){this.conn.close()}}function GE(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function qE(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function BE(i,t,l){const a=new nv;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const c=JSON.parse(r);if(i.isVertexAI()){const d=fS(c);Object.assign(a,d)}else Object.assign(a,c);t(a)}class HE{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new zE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,c,d,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&Km(t.config.tools)&&Zm(_);const S=YE(_);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const O=this.apiClient.getApiKey();let ce="BidiGenerateContent",be="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",be="access_token"),v=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ce}?${be}=${O}`}let T=()=>{};const A=new Promise(O=>{T=O}),C=t.callbacks,M=function(){var O;(O=C==null?void 0:C.onopen)===null||O===void 0||O.call(C),T({})},N=this.apiClient,D={onopen:M,onmessage:O=>{BE(N,C.onmessage,O)},onerror:(l=C==null?void 0:C.onerror)!==null&&l!==void 0?l:function(O){},onclose:(a=C==null?void 0:C.onclose)!==null&&a!==void 0?a:function(O){}},k=this.webSocketFactory.create(v,FE(S),D);k.connect(),await A;let B=lt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const O=this.apiClient.getProject(),ce=this.apiClient.getLocation();B=`projects/${O}/locations/${ce}/`+B}let q={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[es.AUDIO]}:t.config.responseModalities=[es.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(h=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],F=[];for(const O of X)if(this.isCallableTool(O)){const ce=O;F.push(await ce.tool())}else F.push(O);F.length>0&&(t.config.tools=F);const re={model:B,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?q=aS(this.apiClient,re):q=oS(this.apiClient,re),delete q.config,k.send(JSON.stringify(q)),new OE(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const VE={turnComplete:!0};class OE{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Sn(l.turns),t.isVertexAI()||(a=a.map(r=>os(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(PE)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},VE),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:cS(t)}:l={realtimeInput:uS(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function FE(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function YE(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dm=10;function hm(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const d of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(zl(d)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function zl(i){return"callTool"in i&&typeof i.callTool=="function"}function JE(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>zl(r)))!==null&&a!==void 0?a:!1}function pm(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(zl(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(r)}),l}function mm(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE extends jn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,c,d,h;const g=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!JE(l)||hm(l.config))return await this.generateContentInternal(g);const m=pm(l);if(m.length>0){const C=m.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let v,_;const S=Sn(g.contents),T=(c=(r=(a=g.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:dm;let A=0;for(;A<T&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const C=v.candidates[0].content,M=[];for(const N of(h=(d=l.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(zl(N)){const k=await N.callTool(v.functionCalls);M.push(...k)}A++,_={role:"user",parts:M},g.contents=Sn(g.contents),g.contents.push(C),g.contents.push(_),mm(g.config)&&(S.push(C),S.push(_))}return mm(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async l=>{var a,r,c,d,h;if(this.maybeMoveToResponseJsonSchem(l),hm(l.config)){const _=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(_)}const g=pm(l);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(h=(d=l==null?void 0:l.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let c;const d=[];if(a!=null&&a.generatedImages)for(const g of a.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((r=g==null?void 0:g.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=g==null?void 0:g.safetyAttributes:d.push(g);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async l=>{var a;const d={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((a=d.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Ji(Wn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,c,d,h,g;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((d=(c=l.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.uri&&(!((g=(h=l.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const c=(l=t.config)===null||l===void 0?void 0:l.tools;if(!c)return t;const d=await Promise.all(c.map(async g=>zl(g)?await g.tool():g)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(h.config.tools=d,t.config&&t.config.tools&&Km(t.config.tools)){const g=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Zm(m),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(t){var l,a,r;const c=new Map;for(const d of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(zl(d)){const h=d,g=await h.tool();for(const m of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(t){var l,a,r;const c=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:dm;let d=!1,h=0;const g=await this.initAfcToolsMap(t);return(function(m,v,_){var S,T;return kl(this,arguments,function*(){for(var A,C,M,N;h<c;){d&&(h++,d=!1);const q=yield Et(m.processParamsMaybeAddMcpUsage(_)),X=yield Et(m.generateContentStreamInternal(q)),F=[],re=[];try{for(var D=!0,k=(C=void 0,Lo(X)),B;B=yield Et(k.next()),A=B.done,!A;D=!0){N=B.value,D=!1;const O=N;if(yield yield Et(O),O.candidates&&(!((S=O.candidates[0])===null||S===void 0)&&S.content)){re.push(O.candidates[0].content);for(const ce of(T=O.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(h<c&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ce.functionCall.name)){const be=yield Et(v.get(ce.functionCall.name).callTool([ce.functionCall]));F.push(...be)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(O){C={error:O}}finally{try{!D&&!A&&(M=k.return)&&(yield Et(M.call(k)))}finally{if(C)throw C.error}}if(F.length>0){d=!0;const O=new ko;O.candidates=[{content:{role:"user",parts:F}}],yield yield Et(O);const ce=[];ce.push(...re),ce.push({role:"user",parts:F});const be=Sn(_.contents).concat(ce);_.contents=be}else break}})})(this,g,t)}async generateContentInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=sm(this.apiClient,t);return h=Ae("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=um(v),S=new ko;return Object.assign(S,_),S})}else{const m=am(this.apiClient,t);return h=Ae("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=rm(v),S=new ko;return Object.assign(S,_),S})}}async generateContentStreamInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=sm(this.apiClient,t);return h=Ae("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),d.then(function(_){return kl(this,arguments,function*(){var S,T,A,C;try{for(var M=!0,N=Lo(_),D;D=yield Et(N.next()),S=D.done,!S;M=!0){C=D.value,M=!1;const k=C,B=um(yield Et(k.json()));B.sdkHttpResponse={headers:k.headers};const q=new ko;Object.assign(q,B),yield yield Et(q)}}catch(k){T={error:k}}finally{try{!M&&!S&&(A=N.return)&&(yield Et(A.call(N)))}finally{if(T)throw T.error}}})})}else{const m=am(this.apiClient,t);return h=Ae("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(_){return kl(this,arguments,function*(){var S,T,A,C;try{for(var M=!0,N=Lo(_),D;D=yield Et(N.next()),S=D.done,!S;M=!0){C=D.value,M=!1;const k=C,B=rm(yield Et(k.json()));B.sdkHttpResponse={headers:k.headers};const q=new ko;Object.assign(q,B),yield yield Et(q)}}catch(k){T={error:k}}finally{try{!M&&!S&&(A=N.return)&&(yield Et(A.call(N)))}finally{if(T)throw T.error}}})})}}async embedContent(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=HS(this.apiClient,t);return h=Ae("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=OS(v),S=new Op;return Object.assign(S,_),S})}else{const m=BS(this.apiClient,t);return h=Ae("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=VS(v),S=new Op;return Object.assign(S,_),S})}}async generateImagesInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=eT(this.apiClient,t);return h=Ae("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=nT(v),S=new Fp;return Object.assign(S,_),S})}else{const m=jS(this.apiClient,t);return h=Ae("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=tT(v),S=new Fp;return Object.assign(S,_),S})}}async editImageInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=LS(this.apiClient,t);return c=Ae("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=GS(g),v=new Yy;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=eE(this.apiClient,t);return c=Ae("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=tE(g),v=new Jy;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=zT(this.apiClient,t);return c=Ae("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=LT(g),v=new Ky;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=VT(this.apiClient,t);return c=Ae("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=OT(g),v=new Zy;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=_T(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Iu(v))}else{const m=vT(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Mu(v))}}async listInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=NT(this.apiClient,t);return h=Ae("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=MT(v),S=new Yp;return Object.assign(S,_),S})}else{const m=wT(this.apiClient,t);return h=Ae("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=RT(v),S=new Yp;return Object.assign(S,_),S})}}async update(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=WT(this.apiClient,t);return h=Ae("{model}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Iu(v))}else{const m=$T(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Mu(v))}}async delete(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=DS(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=kS(v),S=new Jp;return Object.assign(S,_),S})}else{const m=IS(this.apiClient,t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=US(v),S=new Jp;return Object.assign(S,_),S})}}async countTokens(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=NS(this.apiClient,t);return h=Ae("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=MS(v),S=new Kp;return Object.assign(S,_),S})}else{const m=wS(this.apiClient,t);return h=Ae("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=RS(v),S=new Kp;return Object.assign(S,_),S})}}async computeTokens(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=SS(this.apiClient,t);return c=Ae("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=TS(g),v=new Xy;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=rT(this.apiClient,t);return h=Ae("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>{const _=aT(v),S=new ts;return Object.assign(S,_),S})}else{const m=sT(this.apiClient,t);return h=Ae("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>{const _=oT(v),S=new ts;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZE extends jn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Py(t);return h=Ae("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d}else{const m=qy(t);return h=Ae("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=Iy(t);return c=Ae("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XE(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function QE(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>ob(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function $E(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);l!==void 0&&c!=null&&f(l,["newSessionExpireTime"],c);const d=u(t,["uses"]);l!==void 0&&d!=null&&f(l,["uses"],d);const h=u(t,["liveConnectConstraints"]);l!==void 0&&h!=null&&f(l,["bidiGenerateContentSetup"],lb(i,h));const g=u(t,["lockAdditionalFields"]);return l!==void 0&&g!=null&&f(l,["fieldMask"],g),a}function WE(i,t){const l={},a=u(t,["config"]);return a!=null&&f(l,["config"],$E(i,a,l)),l}function jE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function eb(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tb(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function nb(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function ib(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=u(i,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const g=u(i,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],Vu(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const T=u(i,["enableAffectiveDialog"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],T);const A=u(i,["systemInstruction"]);t!==void 0&&A!=null&&f(t,["setup","systemInstruction"],QE(Jt(A)));const C=u(i,["tools"]);if(t!==void 0&&C!=null){let X=Gl(C);Array.isArray(X)&&(X=X.map(F=>sb(Ll(F)))),f(t,["setup","tools"],X)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],ab(M));const N=u(i,["inputAudioTranscription"]);t!==void 0&&N!=null&&f(t,["setup","inputAudioTranscription"],N);const D=u(i,["outputAudioTranscription"]);t!==void 0&&D!=null&&f(t,["setup","outputAudioTranscription"],D);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&f(t,["setup","realtimeInputConfig"],k);const B=u(i,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],B);const q=u(i,["proactivity"]);return t!==void 0&&q!=null&&f(t,["setup","proactivity"],q),l}function lb(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],lt(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],ib(r,l)),l}function ob(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],jE(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],eb(d));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],XE(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function ab(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function sb(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],tb(h));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],nb(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${l}.${c}`);t.push(...r)}else t.push(l)}return t.join(",")}function ub(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,l=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const c=rb(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(m=>d.includes(m)?`generationConfig.${m}`:m));const g=[];c&&g.push(c),h.length>0&&g.push(...h),g.length>0?i.fieldMask=g.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class cb extends jn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=WE(this.apiClient,t);c=Ae("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const g=ub(h,t.config);return r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fb(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function db(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&fb(a,t),t}function hb(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function pb(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function mb(i){const t={},l=u(i,["parent"]);l!=null&&f(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&pb(a,t),t}function gb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yb extends jn{constructor(t){super(),this.apiClient=t,this.list=async l=>new Ji(Wn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hb(t);return c=Ae("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=db(t);r=Ae("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=mb(t);return c=Ae("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=gb(g),v=new Qy;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vb extends jn{constructor(t,l=new yb(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Ji(Wn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rE(t);return c=Ae("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async get(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fE(t);return c=Ae("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=cE(t);r=Ae("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yE(t);return c=Ae("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=vE(g),v=new $y;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_E(t);return c=Ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=SE(g),v=new Wy;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=pE(t);return c=Ae("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=hE(g),v=new Gu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _b(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Sb(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Tb(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function Eb(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function bb(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const d=u(i,["learningRateMultiplier"]);if(d!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],d),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=u(i,["batchSize"]);t!==void 0&&h!=null&&f(t,["tuningTask","hyperparameters","batchSize"],h);const g=u(i,["learningRate"]);if(t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","learningRate"],g),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function xb(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const T=u(i,["validationDataset"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec"],gm(T))}else if(r==="PREFERENCE_TUNING"){const T=u(i,["validationDataset"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec"],gm(T))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const d=u(i,["description"]);t!==void 0&&d!=null&&f(t,["description"],d);let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=u(i,["epochCount"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(h==="PREFERENCE_TUNING"){const T=u(i,["epochCount"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const T=u(i,["learningRateMultiplier"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(g==="PREFERENCE_TUNING"){const T=u(i,["learningRateMultiplier"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=u(i,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(m==="PREFERENCE_TUNING"){const T=u(i,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=u(i,["adapterSize"]);t!==void 0&&T!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(v==="PREFERENCE_TUNING"){const T=u(i,["adapterSize"]);t!==void 0&&T!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=u(i,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const S=u(i,["beta"]);return t!==void 0&&S!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),a}function Cb(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&Lb(c);const d=u(i,["config"]);return d!=null&&bb(d,l),l}function Ab(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&Gb(c,l,t);const d=u(i,["config"]);return d!=null&&xb(d,l,t),l}function wb(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Nb(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Rb(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function Mb(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function Ib(i,t){const l={},a=u(i,["config"]);return a!=null&&Rb(a,l),l}function Db(i,t){const l={},a=u(i,["config"]);return a!=null&&Mb(a,l),l}function Ub(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>Xm(h))),f(l,["tuningJobs"],d)}return l}function kb(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>Uu(h))),f(l,["tuningJobs"],d)}return l}function zb(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["model"],a);const r=u(i,["name"]);return r!=null&&f(l,["endpoint"],r),l}function Lb(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["examples","examples"],r)}return l}function Gb(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(r==="PREFERENCE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let c=u(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(c==="PREFERENCE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Xm(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],Rm(c));const d=u(i,["createTime"]);d!=null&&f(l,["createTime"],d);const h=u(i,["tuningTask","startTime"]);h!=null&&f(l,["startTime"],h);const g=u(i,["tuningTask","completeTime"]);g!=null&&f(l,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(i,["description"]);v!=null&&f(l,["description"],v);const _=u(i,["baseModel"]);_!=null&&f(l,["baseModel"],_);const S=u(i,["_self"]);return S!=null&&f(l,["tunedModel"],zb(S)),l}function Uu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],Rm(c));const d=u(i,["createTime"]);d!=null&&f(l,["createTime"],d);const h=u(i,["startTime"]);h!=null&&f(l,["startTime"],h);const g=u(i,["endTime"]);g!=null&&f(l,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(i,["error"]);v!=null&&f(l,["error"],v);const _=u(i,["description"]);_!=null&&f(l,["description"],_);const S=u(i,["baseModel"]);S!=null&&f(l,["baseModel"],S);const T=u(i,["tunedModel"]);T!=null&&f(l,["tunedModel"],T);const A=u(i,["preTunedModel"]);A!=null&&f(l,["preTunedModel"],A);const C=u(i,["supervisedTuningSpec"]);C!=null&&f(l,["supervisedTuningSpec"],C);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&f(l,["preferenceOptimizationSpec"],M);const N=u(i,["tuningDataStats"]);N!=null&&f(l,["tuningDataStats"],N);const D=u(i,["encryptionSpec"]);D!=null&&f(l,["encryptionSpec"],D);const k=u(i,["partnerModelTuningSpec"]);k!=null&&f(l,["partnerModelTuningSpec"],k);const B=u(i,["customBaseModel"]);B!=null&&f(l,["customBaseModel"],B);const q=u(i,["experiment"]);q!=null&&f(l,["experiment"],q);const X=u(i,["labels"]);X!=null&&f(l,["labels"],X);const F=u(i,["outputUri"]);F!=null&&f(l,["outputUri"],F);const re=u(i,["pipelineJob"]);re!=null&&f(l,["pipelineJob"],re);const O=u(i,["serviceAccount"]);O!=null&&f(l,["serviceAccount"],O);const ce=u(i,["tunedModelDisplayName"]);ce!=null&&f(l,["tunedModelDisplayName"],ce);const be=u(i,["veoTuningSpec"]);return be!=null&&f(l,["veoTuningSpec"],be),l}function qb(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["metadata"]);c!=null&&f(l,["metadata"],c);const d=u(i,["done"]);d!=null&&f(l,["done"],d);const h=u(i,["error"]);return h!=null&&f(l,["error"],h),l}function gm(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pb extends jn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ji(Wn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),c=await this.tuneMldevInternal(r);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:Au.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Nb(t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Uu(v))}else{const m=wb(t);return h=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Xm(v))}}async listInternal(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Db(t);return h=Ae("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=kb(v),S=new Zp;return Object.assign(S,_),S})}else{const m=Ib(t);return h=Ae("tunedModels",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Ub(v),S=new Zp;return Object.assign(S,_),S})}}async cancel(t){var l,a,r,c;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Sb(t);return h=Ae("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Eb(v),S=new Xp;return Object.assign(S,_),S})}else{const m=_b(t);return h=Ae("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Tb(v),S=new Xp;return Object.assign(S,_),S})}}async tuneInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const h=Ab(t,t);return c=Ae("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>Uu(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Cb(t);return c=Ae("tunedModels",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>qb(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bb{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Hb=1024*1024*8,Vb=3,Ob=1e3,Fb=2,is="x-goog-upload-status";async function Yb(i,t,l){var a;const r=await Qm(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[is])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function Jb(i,t,l){var a;const r=await Qm(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[is])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=bm(c),h=new qu;return Object.assign(h,d),h}async function Qm(i,t,l){var a,r;let c=0,d=0,h=new wu(new Response),g="upload";for(c=i.size;d<c;){const m=Math.min(Hb,c-d),v=i.slice(d,d+m);d+m>=c&&(g+=", finalize");let _=0,S=Ob;for(;_<Vb&&(h=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[is]));)_++,await Zb(S),S=S*Fb;if(d+=m,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[is])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function Kb(i){return{size:i.size,type:i.type}}function Zb(i){return new Promise(t=>setTimeout(t,i))}class Xb{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Yb(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Jb(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Kb(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qb{create(t,l,a){return new $b(t,l,a)}}class $b{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ym="x-goog-api-key";class Wb{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(ym)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ym,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jb="gl-node/";class ex{constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=Ry(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new Wb(this.apiKey);this.apiClient=new NE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:jb+"web",uploader:new Xb,downloader:new Bb}),this.models=new KE(this.apiClient),this.live=new HE(this.apiClient,r,new Qb),this.batches=new l_(this.apiClient),this.chats=new P_(this.models,this.apiClient),this.caches=new L_(this.apiClient),this.files=new X_(this.apiClient),this.operations=new ZE(this.apiClient),this.authTokens=new cb(this.apiClient),this.tunings=new Pb(this.apiClient),this.fileSearchStores=new vb(this.apiClient)}}var Fu={};const Dl={TEXT:"https://api.vectorengine.ai/v1beta/models/gemini-2.5-flash:generateContent",IMAGE_FLASH:"https://api.vectorengine.ai/v1beta/models/gemini-2.5-flash-image-preview:generateContent",IMAGE_PRO:"https://api.vectorengine.ai/v1beta/models/gemini-3-pro-image-preview:generateContent",MUSIC_SUBMIT:"https://api.vectorengine.ai/suno/submit/music",MUSIC_FETCH:"https://api.vectorengine.ai/suno/fetch"},tx=(i,t)=>{const l=i||(typeof process<"u"&&Fu?"PLACEHOLDER_API_KEY":null);if(!l)return console.error("No API Key found"),null;const a={apiKey:l};if(t&&t.trim().length>0){let r=t.trim();for(;r.endsWith("/");)r=r.slice(0,-1);for(r=r.replace(/:generateContent$/,""),r=r.replace(/\/models\/[^\/]+$/,""),r=r.replace(/\/models$/,""),r=r.replace(/\/v1beta$/,""),r=r.replace(/\/v1$/,"");r.endsWith("/");)r=r.slice(0,-1);a.baseUrl=r}return new ex(a)},Go=async(i,t,l,a,r)=>{var h,g,m,v,_;const c=a||(typeof process<"u"&&Fu?"PLACEHOLDER_API_KEY":"");if(r&&r.includes("http")){console.log(`[GeminiService] Using Raw Fetch Mode for: ${r}`);const S={"Content-Type":"application/json"};c&&(S["x-goog-api-key"]=c);const T={contents:Array.isArray(t)?t:[t],generationConfig:l!=null&&l.imageConfig?void 0:l};l!=null&&l.imageConfig&&(T.generationConfig={...T.generationConfig,...l.imageConfig});try{const A=await fetch(r,{method:"POST",headers:S,body:JSON.stringify(T)});if(!A.ok){const M=await A.text();let N;try{N=JSON.parse(M)}catch{}const D=((h=N==null?void 0:N.error)==null?void 0:h.message)||M||A.statusText;throw console.error("[GeminiService] Raw API Error:",D),new Error(`API Error ${A.status}: ${D.slice(0,100)}...`)}const C=await A.json();return{candidates:C.candidates,text:(_=(v=(m=(g=C.candidates)==null?void 0:g[0])==null?void 0:m.content)==null?void 0:v.parts)==null?void 0:_.map(M=>M.text).join("")}}catch(A){throw console.error("Raw Fetch Failed",A),A}}const d=tx(a,r);if(!d)throw new Error("Failed to initialize AI Client");return await d.models.generateContent({model:i,contents:t,config:l})},$m=(i,t)=>`
    Concept art, digital painting for a mystery horror game.
    Style: Film Noir, Black and White with subtle color accents, high contrast, atmospheric, grainy texture, 1980s aesthetic.
    Location: ${i}
    Description: ${t}
    View: First person perspective.
    Quality: Cinematic lighting, detailed.
    No text, no UI, no watermarks.
  `,nx=async(i,t,l="gemini-2.5-flash-image",a,r)=>{var d,h,g;const c=$m(i,t);try{const m={parts:[{text:c}]},v=l.toLowerCase().includes("pro"),_={aspectRatio:"16:9"};v&&(_.imageSize="2K");const T=await Go(l,m,{imageConfig:_},a,r);if((g=(h=(d=T.candidates)==null?void 0:d[0])==null?void 0:h.content)!=null&&g.parts){for(const A of T.candidates[0].content.parts)if(A.inlineData&&A.inlineData.data)return`data:${A.inlineData.mimeType||"image/png"};base64,${A.inlineData.data}`}return null}catch(m){throw console.error("Scene Gen Error:",m),m}},Wm=(i,t)=>`
    Single game asset icon of ${i}. 
    Description: ${t}.
    Style: Photorealistic, highly detailed, slightly worn, mysterious, fitting a horror game.
    Background: PURE WHITE background (#FFFFFF).
    Padding: Ensure there is at least 10% whitespace padding around the object. The object must NOT touch the edges of the image.
    Centering: The object must be perfectly centered.
    View: Isometric or front view. Whole object visible.
    No text, no labels.
  `,ix=async(i,t,l="gemini-2.5-flash-image",a,r)=>{var d,h,g;const c=Wm(i,t);try{const m={parts:[{text:c}]},v=l.toLowerCase().includes("pro"),_={aspectRatio:"1:1"};v&&(_.imageSize="1K");const T=await Go(l,m,{imageConfig:_},a,r);if((g=(h=(d=T.candidates)==null?void 0:d[0])==null?void 0:h.content)!=null&&g.parts){for(const A of T.candidates[0].content.parts)if(A.inlineData&&A.inlineData.data)return`data:${A.inlineData.mimeType||"image/png"};base64,${A.inlineData.data}`}return null}catch(m){throw console.error("Item Gen Error:",m),m}},vm=(i,t,l,a="")=>i==="icon"?`11${t}${a}`:`169${t}${l}${a}`,lx=async(i,t,l="gemini-2.5-flash-image",a,r)=>{var c,d,h;try{const g={parts:[{text:i}]},m=l.toLowerCase().includes("pro"),v={aspectRatio:t};m&&(v.imageSize=t==="1:1"?"1K":"2K");const S=await Go(l,g,{imageConfig:v},a,r);if((h=(d=(c=S.candidates)==null?void 0:c[0])==null?void 0:d.content)!=null&&h.parts){for(const T of S.candidates[0].content.parts)if(T.inlineData&&T.inlineData.data)return`data:${T.inlineData.mimeType||"image/png"};base64,${T.inlineData.data}`}return null}catch(g){throw console.error("Marketing Gen Error:",g),g}},ox=async(i,t,l)=>{var c,d,h,g;const a=t||(typeof process<"u"&&Fu?"PLACEHOLDER_API_KEY":"");if(!a)throw new Error("API Key Missing for Music Generation");const r={"Content-Type":"application/json",Authorization:`Bearer ${a}`};try{l==null||l("Submitting task to Suno...");const m=await fetch(Dl.MUSIC_SUBMIT,{method:"POST",headers:r,body:JSON.stringify({prompt:i,make_instrumental:!0,wait_audio:!1})});if(!m.ok)throw new Error(`Submit Failed: ${m.status}`);const v=await m.json(),_=v.data||v.id||((d=(c=v.clips)==null?void 0:c[0])==null?void 0:d.id);if(!_)throw new Error("No Task ID returned");let S=0;const T=30;for(;S<T;){S++,await new Promise(C=>setTimeout(C,5e3));const A=await fetch(`${Dl.MUSIC_FETCH}/${_}`,{method:"GET",headers:r});if(A.ok){const C=await A.json(),M=((h=C.data)==null?void 0:h.status)||C.status;if(l==null||l(`Generating... Status: ${M} (${S}/${T})`),M==="SUCCESS"||M==="completed"){const N=((g=C.data)==null?void 0:g.clips)||C.clips;if(N&&N.length>0)return N[0].audio_url||N[0].audio_url_cdn}else if(M==="FAILED")throw new Error("Generation Failed on Server")}}throw new Error("Timeout waiting for music generation")}catch(m){throw console.error("Music Gen Error",m),m}},ax=async(i,t)=>{var a,r,c,d,h;const l=`
    Generate a unique, creative, and atmospheric concept for a text-based mystery/horror point-and-click adventure game.
    
    CRITICAL REQUIREMENT: Output MUST be in Simplified Chinese ().
    
    Return ONLY a JSON object with the following structure:
    {
      "theme": "2-3",
      "items": ["1", "2", "3", "4"],
      "scenes": ["1", "2", "3", "4"]
    }
    Ensure the items and scenes fit the theme perfectly.
  `;try{const v=await Go("gemini-2.5-flash",[{role:"user",parts:[{text:l}]}],{responseMimeType:"application/json"},i,t),_=v.text||(typeof v.text=="function"?v.text():null)||((h=(d=(c=(r=(a=v.candidates)==null?void 0:a[0])==null?void 0:r.content)==null?void 0:c.parts)==null?void 0:d[0])==null?void 0:h.text);return _?JSON.parse(_):null}catch(g){return console.error("Random Concept Gen Error:",g),null}},jm=`
    You are a professional Game Designer for a text-based Point-and-Click Adventure game engine.
    Your task is to generate a valid JSON configuration file for a new game based on the user's theme and constraints.
    
    CRITICAL REQUIREMENT: 
    ALL user-facing text (names, descriptions, dialogues, logs, titles) MUST be in Simplified Chinese ().
    
    The JSON structure matches the following TypeScript interface strictly:

    interface GameDefinition {
      meta: { 
        name: string; 
        author: string; 
        version: string; 
        description: string; 
        endingMessage: string; 
        useBannerAsTitleBg?: boolean; 
        bgmUrl?: string; // URL for background music
      };
      initialState: {
        currentSceneId: string; 
        inventory: string[]; 
        flags: Record<string, boolean>; 
        log: string[]; 
        gameOver: false;
        gameWon: false;
      };
      items: Record<string, { 
        id: string; 
        name: string; 
        description: string; 
        type: 'KEY' | 'NOTE' | 'TOOL' | 'CLUE'; 
        icon: string; 
        image: string; 
      }>;
      puzzles: Record<string, { 
        id: string;
        description: string;
        answer: string;
        rewardFlag: string;
        rewardMessage: string;
      }>;
      scenes: Record<string, { 
        id: string;
        title: string;
        imageUrl: string; 
        description: string;
        interactables: {
          id: string;
          name: string;
          description: string;
          x: number; 
          y: number; 
          width: number; 
          height: number; 
          icon?: string; 
          image?: string; 
          requiredItemId?: string; 
          lockedMessage?: string;
          itemRewardId?: string; 
          flagReward?: string; 
          requiredFlag?: string; 
          hiddenIfFlag?: string; 
          isPuzzle?: boolean;
          puzzleId?: string; 
          dialogue?: string[];
          winsGame?: boolean; 
        }[];
        exits: {
            direction: 'north' | 'south' | 'east' | 'west';
            targetSceneId: string; 
            label: string;
            locked?: boolean;
            requiredFlag?: string;
        }[];
      }>;
    }

    Requirements:
    1. Create a compelling story based on the user's input.
    2. Ensure the logical flow is solvable.
    3. Ensure all IDs are consistent.
    4. All image paths MUST follow the format "./assets/scene_{id}.png" or "./assets/item_{id}.png".
    5. Return ONLY the JSON object.
    6. VICTORY CONDITION: You MUST define exactly one interactable object that triggers the game win state. Set the property "winsGame": true on this object (e.g. escaping a door, finding a treasure).
    7. Language: Simplified Chinese ().
    8. STRICTLY ADHERE to the object counts (scenes, items, puzzles) requested in the user prompt.
    9. Intro & Outro: You MUST provide compelling opening text in 'initialState.log' that sets the atmosphere based on the theme, and a satisfying conclusion in 'meta.endingMessage'.
`,sx=async(i,t,l={sceneCount:4,itemCount:4,puzzleCount:1},a,r)=>{var c,d,h,g,m;try{const v=`
    STYLE: ${t}
    
    MANDATORY REQUIREMENTS:
    1. STRUCTURE (Strictly Follow These Counts):
       - Create EXACTLY ${l.sceneCount} unique scenes.
       - Create EXACTLY ${l.itemCount} unique items.
       - Create EXACTLY ${l.puzzleCount} puzzles.
    
    2. CONTENT INCLUSION:
       ${l.requiredItems&&l.requiredItems.length>0?`- MUST include these items (or similar): ${l.requiredItems.join(", ")}`:"- No specific mandatory items."}
       ${l.requiredScenes&&l.requiredScenes.length>0?`- MUST include these locations/scenes (or similar): ${l.requiredScenes.join(", ")}`:"- No specific mandatory scenes."}

    3. NARRATIVE:
       - Generate a compelling "Opening Story" in 'initialState.log' (Array of strings) that establishes the premise based on the theme: "${i}".
       - Generate a satisfying "Ending Message" in 'meta.endingMessage' for when the player wins.
    `,_=[{role:"user",parts:[{text:jm}]},{role:"user",parts:[{text:`Generate a game with this theme: ${i}
${v}`}]}],T=await Go("gemini-2.5-flash",_,{responseMimeType:"application/json"},a,r),A=T.text||(typeof T.text=="function"?T.text():null)||((m=(g=(h=(d=(c=T.candidates)==null?void 0:c[0])==null?void 0:d.content)==null?void 0:h.parts)==null?void 0:g[0])==null?void 0:m.text);return A?JSON.parse(A):null}catch(v){throw console.error("Game Config Gen Error:",v),v}};function $a(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Eu={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var _m;function rx(){return _m||(_m=1,(function(i,t){(function(l){i.exports=l()})(function(){return(function l(a,r,c){function d(m,v){if(!r[m]){if(!a[m]){var _=typeof $a=="function"&&$a;if(!v&&_)return _(m,!0);if(h)return h(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var T=r[m]={exports:{}};a[m][0].call(T.exports,function(A){var C=a[m][1][A];return d(C||A)},T,T.exports,l,a,r,c)}return r[m].exports}for(var h=typeof $a=="function"&&$a,g=0;g<c.length;g++)d(c[g]);return d})({1:[function(l,a,r){var c=l("./utils"),d=l("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(g){for(var m,v,_,S,T,A,C,M=[],N=0,D=g.length,k=D,B=c.getTypeOf(g)!=="string";N<g.length;)k=D-N,_=B?(m=g[N++],v=N<D?g[N++]:0,N<D?g[N++]:0):(m=g.charCodeAt(N++),v=N<D?g.charCodeAt(N++):0,N<D?g.charCodeAt(N++):0),S=m>>2,T=(3&m)<<4|v>>4,A=1<k?(15&v)<<2|_>>6:64,C=2<k?63&_:64,M.push(h.charAt(S)+h.charAt(T)+h.charAt(A)+h.charAt(C));return M.join("")},r.decode=function(g){var m,v,_,S,T,A,C=0,M=0,N="data:";if(g.substr(0,N.length)===N)throw new Error("Invalid base64 input, it looks like a data url.");var D,k=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===h.charAt(64)&&k--,g.charAt(g.length-2)===h.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=d.uint8array?new Uint8Array(0|k):new Array(0|k);C<g.length;)m=h.indexOf(g.charAt(C++))<<2|(S=h.indexOf(g.charAt(C++)))>>4,v=(15&S)<<4|(T=h.indexOf(g.charAt(C++)))>>2,_=(3&T)<<6|(A=h.indexOf(g.charAt(C++))),D[M++]=m,T!==64&&(D[M++]=v),A!==64&&(D[M++]=_);return D}},{"./support":30,"./utils":32}],2:[function(l,a,r){var c=l("./external"),d=l("./stream/DataWorker"),h=l("./stream/Crc32Probe"),g=l("./stream/DataLengthProbe");function m(v,_,S,T,A){this.compressedSize=v,this.uncompressedSize=_,this.crc32=S,this.compression=T,this.compressedContent=A}m.prototype={getContentWorker:function(){var v=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),_=this;return v.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,_,S){return v.pipe(new h).pipe(new g("uncompressedSize")).pipe(_.compressWorker(S)).pipe(new g("compressedSize")).withStreamInfo("compression",_)},a.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,a,r){var c=l("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},r.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,a,r){var c=l("./utils"),d=(function(){for(var h,g=[],m=0;m<256;m++){h=m;for(var v=0;v<8;v++)h=1&h?3988292384^h>>>1:h>>>1;g[m]=h}return g})();a.exports=function(h,g){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?(function(m,v,_,S){var T=d,A=S+_;m^=-1;for(var C=S;C<A;C++)m=m>>>8^T[255&(m^v[C])];return-1^m})(0|g,h,h.length,0):(function(m,v,_,S){var T=d,A=S+_;m^=-1;for(var C=S;C<A;C++)m=m>>>8^T[255&(m^v.charCodeAt(C))];return-1^m})(0|g,h,h.length,0):0}},{"./utils":32}],5:[function(l,a,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(l,a,r){var c=null;c=typeof Promise<"u"?Promise:l("lie"),a.exports={Promise:c}},{lie:37}],7:[function(l,a,r){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=l("pako"),h=l("./utils"),g=l("./stream/GenericWorker"),m=c?"uint8array":"array";function v(_,S){g.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=S,this.meta={}}r.magic="\b\0",h.inherits(v,g),v.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,_.data),!1)},v.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(S){_.push({data:S,meta:_.meta})}},r.compressWorker=function(_){return new v("Deflate",_)},r.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,a,r){function c(T,A){var C,M="";for(C=0;C<A;C++)M+=String.fromCharCode(255&T),T>>>=8;return M}function d(T,A,C,M,N,D){var k,B,q=T.file,X=T.compression,F=D!==m.utf8encode,re=h.transformTo("string",D(q.name)),O=h.transformTo("string",m.utf8encode(q.name)),ce=q.comment,be=h.transformTo("string",D(ce)),L=h.transformTo("string",m.utf8encode(ce)),ie=O.length!==q.name.length,w=L.length!==ce.length,ue="",Y="",Z="",_e=q.dir,fe=q.date,J={crc32:0,compressedSize:0,uncompressedSize:0};A&&!C||(J.crc32=T.crc32,J.compressedSize=T.compressedSize,J.uncompressedSize=T.uncompressedSize);var R=0;A&&(R|=8),F||!ie&&!w||(R|=2048);var U=0,$=0;_e&&(U|=16),N==="UNIX"?($=798,U|=(function(le,Te){var Ie=le;return le||(Ie=Te?16893:33204),(65535&Ie)<<16})(q.unixPermissions,_e)):($=20,U|=(function(le){return 63&(le||0)})(q.dosPermissions)),k=fe.getUTCHours(),k<<=6,k|=fe.getUTCMinutes(),k<<=5,k|=fe.getUTCSeconds()/2,B=fe.getUTCFullYear()-1980,B<<=4,B|=fe.getUTCMonth()+1,B<<=5,B|=fe.getUTCDate(),ie&&(Y=c(1,1)+c(v(re),4)+O,ue+="up"+c(Y.length,2)+Y),w&&(Z=c(1,1)+c(v(be),4)+L,ue+="uc"+c(Z.length,2)+Z);var W="";return W+=`
\0`,W+=c(R,2),W+=X.magic,W+=c(k,2),W+=c(B,2),W+=c(J.crc32,4),W+=c(J.compressedSize,4),W+=c(J.uncompressedSize,4),W+=c(re.length,2),W+=c(ue.length,2),{fileRecord:_.LOCAL_FILE_HEADER+W+re+ue,dirRecord:_.CENTRAL_FILE_HEADER+c($,2)+W+c(be.length,2)+"\0\0\0\0"+c(U,4)+c(M,4)+re+ue+be}}var h=l("../utils"),g=l("../stream/GenericWorker"),m=l("../utf8"),v=l("../crc32"),_=l("../signature");function S(T,A,C,M){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=C,this.encodeFileName=M,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,g),S.prototype.push=function(T){var A=T.meta.percent||0,C=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,g.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:C?(A+100*(C-M-1))/C:100}}))},S.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var A=this.streamFiles&&!T.file.dir;if(A){var C=d(T,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(T){this.accumulate=!1;var A=this.streamFiles&&!T.file.dir,C=d(T,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),A)this.push({data:(function(M){return _.DATA_DESCRIPTOR+c(M.crc32,4)+c(M.compressedSize,4)+c(M.uncompressedSize,4)})(T),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var T=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var C=this.bytesWritten-T,M=(function(N,D,k,B,q){var X=h.transformTo("string",q(B));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(N,2)+c(N,2)+c(D,4)+c(k,4)+c(X.length,2)+X})(this.dirRecords.length,C,T,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(T){this._sources.push(T);var A=this;return T.on("data",function(C){A.processChunk(C)}),T.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),T.on("error",function(C){A.error(C)}),this},S.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(T){var A=this._sources;if(!g.prototype.error.call(this,T))return!1;for(var C=0;C<A.length;C++)try{A[C].error(T)}catch{}return!0},S.prototype.lock=function(){g.prototype.lock.call(this);for(var T=this._sources,A=0;A<T.length;A++)T[A].lock()},a.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,a,r){var c=l("../compressions"),d=l("./ZipFileWorker");r.generateWorker=function(h,g,m){var v=new d(g.streamFiles,m,g.platform,g.encodeFileName),_=0;try{h.forEach(function(S,T){_++;var A=(function(D,k){var B=D||k,q=c[B];if(!q)throw new Error(B+" is not a valid compression method !");return q})(T.options.compression,g.compression),C=T.options.compressionOptions||g.compressionOptions||{},M=T.dir,N=T.date;T._compressWorker(A,C).withStreamInfo("file",{name:S,dir:M,date:N,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(v)}),v.entriesCount=_}catch(S){v.error(S)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,a,r){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(c.prototype=l("./object")).loadAsync=l("./load"),c.support=l("./support"),c.defaults=l("./defaults"),c.version="3.10.1",c.loadAsync=function(d,h){return new c().loadAsync(d,h)},c.external=l("./external"),a.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,a,r){var c=l("./utils"),d=l("./external"),h=l("./utf8"),g=l("./zipEntries"),m=l("./stream/Crc32Probe"),v=l("./nodejsUtils");function _(S){return new d.Promise(function(T,A){var C=S.decompressed.getContentWorker().pipe(new m);C.on("error",function(M){A(M)}).on("end",function(){C.streamInfo.crc32!==S.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}a.exports=function(S,T){var A=this;return T=c.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),v.isNode&&v.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,T.optimizedBinaryString,T.base64).then(function(C){var M=new g(T);return M.load(C),M}).then(function(C){var M=[d.Promise.resolve(C)],N=C.files;if(T.checkCRC32)for(var D=0;D<N.length;D++)M.push(_(N[D]));return d.Promise.all(M)}).then(function(C){for(var M=C.shift(),N=M.files,D=0;D<N.length;D++){var k=N[D],B=k.fileNameStr,q=c.resolve(k.fileNameStr);A.file(q,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:T.createFolders}),k.dir||(A.file(q).unsafeOriginalName=B)}return M.zipComment.length&&(A.comment=M.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,a,r){var c=l("../utils"),d=l("../stream/GenericWorker");function h(g,m){d.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(h,d),h.prototype._bindStream=function(g){var m=this;(this._stream=g).pause(),g.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,a,r){var c=l("readable-stream").Readable;function d(h,g,m){c.call(this,g),this._helper=h;var v=this;h.on("data",function(_,S){v.push(_)||v._helper.pause(),m&&m(S)}).on("error",function(_){v.emit("error",_)}).on("end",function(){v.push(null)})}l("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},a.exports=d},{"../utils":32,"readable-stream":16}],14:[function(l,a,r){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(l,a,r){function c(q,X,F){var re,O=h.getTypeOf(X),ce=h.extend(F||{},v);ce.date=ce.date||new Date,ce.compression!==null&&(ce.compression=ce.compression.toUpperCase()),typeof ce.unixPermissions=="string"&&(ce.unixPermissions=parseInt(ce.unixPermissions,8)),ce.unixPermissions&&16384&ce.unixPermissions&&(ce.dir=!0),ce.dosPermissions&&16&ce.dosPermissions&&(ce.dir=!0),ce.dir&&(q=N(q)),ce.createFolders&&(re=M(q))&&D.call(this,re,!0);var be=O==="string"&&ce.binary===!1&&ce.base64===!1;F&&F.binary!==void 0||(ce.binary=!be),(X instanceof _&&X.uncompressedSize===0||ce.dir||!X||X.length===0)&&(ce.base64=!1,ce.binary=!0,X="",ce.compression="STORE",O="string");var L=null;L=X instanceof _||X instanceof g?X:A.isNode&&A.isStream(X)?new C(q,X):h.prepareContent(q,X,ce.binary,ce.optimizedBinaryString,ce.base64);var ie=new S(q,L,ce);this.files[q]=ie}var d=l("./utf8"),h=l("./utils"),g=l("./stream/GenericWorker"),m=l("./stream/StreamHelper"),v=l("./defaults"),_=l("./compressedObject"),S=l("./zipObject"),T=l("./generate"),A=l("./nodejsUtils"),C=l("./nodejs/NodejsStreamInputAdapter"),M=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var X=q.lastIndexOf("/");return 0<X?q.substring(0,X):""},N=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},D=function(q,X){return X=X!==void 0?X:v.createFolders,q=N(q),this.files[q]||c.call(this,q,null,{dir:!0,createFolders:X}),this.files[q]};function k(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var X,F,re;for(X in this.files)re=this.files[X],(F=X.slice(this.root.length,X.length))&&X.slice(0,this.root.length)===this.root&&q(F,re)},filter:function(q){var X=[];return this.forEach(function(F,re){q(F,re)&&X.push(re)}),X},file:function(q,X,F){if(arguments.length!==1)return q=this.root+q,c.call(this,q,X,F),this;if(k(q)){var re=q;return this.filter(function(ce,be){return!be.dir&&re.test(ce)})}var O=this.files[this.root+q];return O&&!O.dir?O:null},folder:function(q){if(!q)return this;if(k(q))return this.filter(function(O,ce){return ce.dir&&q.test(O)});var X=this.root+q,F=D.call(this,X),re=this.clone();return re.root=F.name,re},remove:function(q){q=this.root+q;var X=this.files[q];if(X||(q.slice(-1)!=="/"&&(q+="/"),X=this.files[q]),X&&!X.dir)delete this.files[q];else for(var F=this.filter(function(O,ce){return ce.name.slice(0,q.length)===q}),re=0;re<F.length;re++)delete this.files[F[re].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var X,F={};try{if((F=h.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");h.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var re=F.comment||this.comment||"";X=T.generateWorker(this,F,re)}catch(O){(X=new g("error")).error(O)}return new m(X,F.type||"string",F.mimeType)},generateAsync:function(q,X){return this.generateInternalStream(q).accumulate(X)},generateNodeStream:function(q,X){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(X)}};a.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,a,r){a.exports=l("stream")},{stream:void 0}],17:[function(l,a,r){var c=l("./DataReader");function d(h){c.call(this,h);for(var g=0;g<this.data.length;g++)h[g]=255&h[g]}l("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var g=h.charCodeAt(0),m=h.charCodeAt(1),v=h.charCodeAt(2),_=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===g&&this.data[S+1]===m&&this.data[S+2]===v&&this.data[S+3]===_)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var g=h.charCodeAt(0),m=h.charCodeAt(1),v=h.charCodeAt(2),_=h.charCodeAt(3),S=this.readData(4);return g===S[0]&&m===S[1]&&v===S[2]&&_===S[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=d},{"../utils":32,"./DataReader":18}],18:[function(l,a,r){var c=l("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var g,m=0;for(this.checkOffset(h),g=this.index+h-1;g>=this.index;g--)m=(m<<8)+this.byteAt(g);return this.index+=h,m},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},a.exports=d},{"../utils":32}],19:[function(l,a,r){var c=l("./Uint8ArrayReader");function d(h){c.call(this,h)}l("../utils").inherits(d,c),d.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,a,r){var c=l("./DataReader");function d(h){c.call(this,h)}l("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=d},{"../utils":32,"./DataReader":18}],21:[function(l,a,r){var c=l("./ArrayReader");function d(h){c.call(this,h)}l("../utils").inherits(d,c),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(l,a,r){var c=l("../utils"),d=l("../support"),h=l("./ArrayReader"),g=l("./StringReader"),m=l("./NodeBufferReader"),v=l("./Uint8ArrayReader");a.exports=function(_){var S=c.getTypeOf(_);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(_):d.uint8array?new v(c.transformTo("uint8array",_)):new h(c.transformTo("array",_)):new g(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,a,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,a,r){var c=l("./GenericWorker"),d=l("../utils");function h(g){c.call(this,"ConvertWorker to "+g),this.destType=g}d.inherits(h,c),h.prototype.processChunk=function(g){this.push({data:d.transformTo(this.destType,g.data),meta:g.meta})},a.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(l,a,r){var c=l("./GenericWorker"),d=l("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(h,c),h.prototype.processChunk=function(g){this.streamInfo.crc32=d(g.data,this.streamInfo.crc32||0),this.push(g)},a.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,a,r){var c=l("../utils"),d=l("./GenericWorker");function h(g){d.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}c.inherits(h,d),h.prototype.processChunk=function(g){if(g){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+g.data.length}d.prototype.processChunk.call(this,g)},a.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(l,a,r){var c=l("../utils"),d=l("./GenericWorker");function h(g){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=c.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}c.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,m);break;case"uint8array":g=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":g=this.data.slice(this.index,m)}return this.index=m,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(l,a,r){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var g=0;g<this._listeners[d].length;g++)this._listeners[d][g].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(g){h.processChunk(g)}),d.on("end",function(){h.end()}),d.on("error",function(g){h.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},a.exports=c},{}],29:[function(l,a,r){var c=l("../utils"),d=l("./ConvertWorker"),h=l("./GenericWorker"),g=l("../base64"),m=l("../support"),v=l("../external"),_=null;if(m.nodestream)try{_=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(A,C){return new v.Promise(function(M,N){var D=[],k=A._internalType,B=A._outputType,q=A._mimeType;A.on("data",function(X,F){D.push(X),C&&C(F)}).on("error",function(X){D=[],N(X)}).on("end",function(){try{var X=(function(F,re,O){switch(F){case"blob":return c.newBlob(c.transformTo("arraybuffer",re),O);case"base64":return g.encode(re);default:return c.transformTo(F,re)}})(B,(function(F,re){var O,ce=0,be=null,L=0;for(O=0;O<re.length;O++)L+=re[O].length;switch(F){case"string":return re.join("");case"array":return Array.prototype.concat.apply([],re);case"uint8array":for(be=new Uint8Array(L),O=0;O<re.length;O++)be.set(re[O],ce),ce+=re[O].length;return be;case"nodebuffer":return Buffer.concat(re);default:throw new Error("concat : unsupported type '"+F+"'")}})(k,D),q);M(X)}catch(F){N(F)}D=[]}).resume()})}function T(A,C,M){var N=C;switch(C){case"blob":case"arraybuffer":N="uint8array";break;case"base64":N="string"}try{this._internalType=N,this._outputType=C,this._mimeType=M,c.checkSupport(N),this._worker=A.pipe(new d(N)),A.lock()}catch(D){this._worker=new h("error"),this._worker.error(D)}}T.prototype={accumulate:function(A){return S(this,A)},on:function(A,C){var M=this;return A==="data"?this._worker.on(A,function(N){C.call(M,N.data,N.meta)}):this._worker.on(A,function(){c.delay(C,arguments,M)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},A)}},a.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,a,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var c=new ArrayBuffer(0);try{r.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),r.blob=d.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!l("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(l,a,r){for(var c=l("./utils"),d=l("./support"),h=l("./nodejsUtils"),g=l("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function _(){g.call(this,"utf-8 decode"),this.leftOver=null}function S(){g.call(this,"utf-8 encode")}r.utf8encode=function(T){return d.nodebuffer?h.newBufferFrom(T,"utf-8"):(function(A){var C,M,N,D,k,B=A.length,q=0;for(D=0;D<B;D++)(64512&(M=A.charCodeAt(D)))==55296&&D+1<B&&(64512&(N=A.charCodeAt(D+1)))==56320&&(M=65536+(M-55296<<10)+(N-56320),D++),q+=M<128?1:M<2048?2:M<65536?3:4;for(C=d.uint8array?new Uint8Array(q):new Array(q),D=k=0;k<q;D++)(64512&(M=A.charCodeAt(D)))==55296&&D+1<B&&(64512&(N=A.charCodeAt(D+1)))==56320&&(M=65536+(M-55296<<10)+(N-56320),D++),M<128?C[k++]=M:(M<2048?C[k++]=192|M>>>6:(M<65536?C[k++]=224|M>>>12:(C[k++]=240|M>>>18,C[k++]=128|M>>>12&63),C[k++]=128|M>>>6&63),C[k++]=128|63&M);return C})(T)},r.utf8decode=function(T){return d.nodebuffer?c.transformTo("nodebuffer",T).toString("utf-8"):(function(A){var C,M,N,D,k=A.length,B=new Array(2*k);for(C=M=0;C<k;)if((N=A[C++])<128)B[M++]=N;else if(4<(D=m[N]))B[M++]=65533,C+=D-1;else{for(N&=D===2?31:D===3?15:7;1<D&&C<k;)N=N<<6|63&A[C++],D--;1<D?B[M++]=65533:N<65536?B[M++]=N:(N-=65536,B[M++]=55296|N>>10&1023,B[M++]=56320|1023&N)}return B.length!==M&&(B.subarray?B=B.subarray(0,M):B.length=M),c.applyFromCharCode(B)})(T=c.transformTo(d.uint8array?"uint8array":"array",T))},c.inherits(_,g),_.prototype.processChunk=function(T){var A=c.transformTo(d.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var C=A;(A=new Uint8Array(C.length+this.leftOver.length)).set(this.leftOver,0),A.set(C,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var M=(function(D,k){var B;for((k=k||D.length)>D.length&&(k=D.length),B=k-1;0<=B&&(192&D[B])==128;)B--;return B<0||B===0?k:B+m[D[B]]>k?B:k})(A),N=A;M!==A.length&&(d.uint8array?(N=A.subarray(0,M),this.leftOver=A.subarray(M,A.length)):(N=A.slice(0,M),this.leftOver=A.slice(M,A.length))),this.push({data:r.utf8decode(N),meta:T.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=_,c.inherits(S,g),S.prototype.processChunk=function(T){this.push({data:r.utf8encode(T.data),meta:T.meta})},r.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,a,r){var c=l("./support"),d=l("./base64"),h=l("./nodejsUtils"),g=l("./external");function m(C){return C}function v(C,M){for(var N=0;N<C.length;++N)M[N]=255&C.charCodeAt(N);return M}l("setimmediate"),r.newBlob=function(C,M){r.checkSupport("blob");try{return new Blob([C],{type:M})}catch{try{var N=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return N.append(C),N.getBlob(M)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(C,M,N){var D=[],k=0,B=C.length;if(B<=N)return String.fromCharCode.apply(null,C);for(;k<B;)M==="array"||M==="nodebuffer"?D.push(String.fromCharCode.apply(null,C.slice(k,Math.min(k+N,B)))):D.push(String.fromCharCode.apply(null,C.subarray(k,Math.min(k+N,B)))),k+=N;return D.join("")},stringifyByChar:function(C){for(var M="",N=0;N<C.length;N++)M+=String.fromCharCode(C[N]);return M},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function S(C){var M=65536,N=r.getTypeOf(C),D=!0;if(N==="uint8array"?D=_.applyCanBeUsed.uint8array:N==="nodebuffer"&&(D=_.applyCanBeUsed.nodebuffer),D)for(;1<M;)try{return _.stringifyByChunk(C,N,M)}catch{M=Math.floor(M/2)}return _.stringifyByChar(C)}function T(C,M){for(var N=0;N<C.length;N++)M[N]=C[N];return M}r.applyFromCharCode=S;var A={};A.string={string:m,array:function(C){return v(C,new Array(C.length))},arraybuffer:function(C){return A.string.uint8array(C).buffer},uint8array:function(C){return v(C,new Uint8Array(C.length))},nodebuffer:function(C){return v(C,h.allocBuffer(C.length))}},A.array={string:S,array:m,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(C)}},A.arraybuffer={string:function(C){return S(new Uint8Array(C))},array:function(C){return T(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:m,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(new Uint8Array(C))}},A.uint8array={string:S,array:function(C){return T(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:m,nodebuffer:function(C){return h.newBufferFrom(C)}},A.nodebuffer={string:S,array:function(C){return T(C,new Array(C.length))},arraybuffer:function(C){return A.nodebuffer.uint8array(C).buffer},uint8array:function(C){return T(C,new Uint8Array(C.length))},nodebuffer:m},r.transformTo=function(C,M){if(M=M||"",!C)return M;r.checkSupport(C);var N=r.getTypeOf(M);return A[N][C](M)},r.resolve=function(C){for(var M=C.split("/"),N=[],D=0;D<M.length;D++){var k=M[D];k==="."||k===""&&D!==0&&D!==M.length-1||(k===".."?N.pop():N.push(k))}return N.join("/")},r.getTypeOf=function(C){return typeof C=="string"?"string":Object.prototype.toString.call(C)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(C)?"nodebuffer":c.uint8array&&C instanceof Uint8Array?"uint8array":c.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(C){if(!c[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(C){var M,N,D="";for(N=0;N<(C||"").length;N++)D+="\\x"+((M=C.charCodeAt(N))<16?"0":"")+M.toString(16).toUpperCase();return D},r.delay=function(C,M,N){setImmediate(function(){C.apply(N||null,M||[])})},r.inherits=function(C,M){function N(){}N.prototype=M.prototype,C.prototype=new N},r.extend=function(){var C,M,N={};for(C=0;C<arguments.length;C++)for(M in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],M)&&N[M]===void 0&&(N[M]=arguments[C][M]);return N},r.prepareContent=function(C,M,N,D,k){return g.Promise.resolve(M).then(function(B){return c.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new g.Promise(function(q,X){var F=new FileReader;F.onload=function(re){q(re.target.result)},F.onerror=function(re){X(re.target.error)},F.readAsArrayBuffer(B)}):B}).then(function(B){var q=r.getTypeOf(B);return q?(q==="arraybuffer"?B=r.transformTo("uint8array",B):q==="string"&&(k?B=d.decode(B):N&&D!==!0&&(B=(function(X){return v(X,c.uint8array?new Uint8Array(X.length):new Array(X.length))})(B))),B):g.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,a,r){var c=l("./reader/readerFor"),d=l("./utils"),h=l("./signature"),g=l("./zipEntry"),m=l("./support");function v(_){this.files=[],this.loadOptions=_}v.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(_)+")")}},isSignature:function(_,S){var T=this.reader.index;this.reader.setIndex(_);var A=this.reader.readString(4)===S;return this.reader.setIndex(T),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",T=d.transformTo(S,_);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,S,T,A=this.zip64EndOfCentralSize-44;0<A;)_=this.reader.readInt(2),S=this.reader.readInt(4),T=this.reader.readData(S),this.zip64ExtensibleData[_]={id:_,length:S,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,S;for(_=0;_<this.files.length;_++)S=this.files[_],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(_=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var S=_;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var A=S-T;if(0<A)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,a,r){var c=l("./reader/readerFor"),d=l("./utils"),h=l("./compressedObject"),g=l("./crc32"),m=l("./utf8"),v=l("./compressions"),_=l("./support");function S(T,A){this.options=T,this.loadOptions=A}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var A,C;if(T.skip(22),this.fileNameLength=T.readInt(2),C=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(C),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=(function(M){for(var N in v)if(Object.prototype.hasOwnProperty.call(v,N)&&v[N].magic===M)return v[N];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,A,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var A=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(A),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var A,C,M,N=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<N;)A=T.readInt(2),C=T.readInt(2),M=T.readData(C),this.extraFields[A]={id:A,length:C,value:M};T.setIndex(N)},handleUTF8:function(){var T=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var C=d.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(C)}var M=this.findExtraFieldUnicodeComment();if(M!==null)this.fileCommentStr=M;else{var N=d.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var A=c(T.value);return A.readInt(1)!==1||g(this.fileName)!==A.readInt(4)?null:m.utf8decode(A.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var A=c(T.value);return A.readInt(1)!==1||g(this.fileComment)!==A.readInt(4)?null:m.utf8decode(A.readData(T.length-5))}return null}},a.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,a,r){function c(A,C,M){this.name=A,this.dir=M.dir,this.date=M.date,this.comment=M.comment,this.unixPermissions=M.unixPermissions,this.dosPermissions=M.dosPermissions,this._data=C,this._dataBinary=M.binary,this.options={compression:M.compression,compressionOptions:M.compressionOptions}}var d=l("./stream/StreamHelper"),h=l("./stream/DataWorker"),g=l("./utf8"),m=l("./compressedObject"),v=l("./stream/GenericWorker");c.prototype={internalStream:function(A){var C=null,M="string";try{if(!A)throw new Error("No output type specified.");var N=(M=A.toLowerCase())==="string"||M==="text";M!=="binarystring"&&M!=="text"||(M="string"),C=this._decompressWorker();var D=!this._dataBinary;D&&!N&&(C=C.pipe(new g.Utf8EncodeWorker)),!D&&N&&(C=C.pipe(new g.Utf8DecodeWorker))}catch(k){(C=new v("error")).error(k)}return new d(C,M,"")},async:function(A,C){return this.internalStream(A).accumulate(C)},nodeStream:function(A,C){return this.internalStream(A||"nodebuffer").toNodejsStream(C)},_compressWorker:function(A,C){if(this._data instanceof m&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var M=this._decompressWorker();return this._dataBinary||(M=M.pipe(new g.Utf8EncodeWorker)),m.createWorkerFrom(M,A,C)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new h(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<_.length;T++)c.prototype[_[T]]=S;a.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,a,r){(function(c){var d,h,g=c.MutationObserver||c.WebKitMutationObserver;if(g){var m=0,v=new g(A),_=c.document.createTextNode("");v.observe(_,{characterData:!0}),d=function(){_.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var C=c.document.createElement("script");C.onreadystatechange=function(){A(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},c.document.documentElement.appendChild(C)}:function(){setTimeout(A,0)};else{var S=new c.MessageChannel;S.port1.onmessage=A,d=function(){S.port2.postMessage(0)}}var T=[];function A(){var C,M;h=!0;for(var N=T.length;N;){for(M=T,T=[],C=-1;++C<N;)M[C]();N=T.length}h=!1}a.exports=function(C){T.push(C)!==1||h||d()}}).call(this,typeof Qa<"u"?Qa:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,a,r){var c=l("immediate");function d(){}var h={},g=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function _(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,N!==d&&C(this,N)}function S(N,D,k){this.promise=N,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function T(N,D,k){c(function(){var B;try{B=D(k)}catch(q){return h.reject(N,q)}B===N?h.reject(N,new TypeError("Cannot resolve promise with itself")):h.resolve(N,B)})}function A(N){var D=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof D=="function")return function(){D.apply(N,arguments)}}function C(N,D){var k=!1;function B(F){k||(k=!0,h.reject(N,F))}function q(F){k||(k=!0,h.resolve(N,F))}var X=M(function(){D(q,B)});X.status==="error"&&B(X.value)}function M(N,D){var k={};try{k.value=N(D),k.status="success"}catch(B){k.status="error",k.value=B}return k}(a.exports=_).prototype.finally=function(N){if(typeof N!="function")return this;var D=this.constructor;return this.then(function(k){return D.resolve(N()).then(function(){return k})},function(k){return D.resolve(N()).then(function(){throw k})})},_.prototype.catch=function(N){return this.then(null,N)},_.prototype.then=function(N,D){if(typeof N!="function"&&this.state===m||typeof D!="function"&&this.state===g)return this;var k=new this.constructor(d);return this.state!==v?T(k,this.state===m?N:D,this.outcome):this.queue.push(new S(k,N,D)),k},S.prototype.callFulfilled=function(N){h.resolve(this.promise,N)},S.prototype.otherCallFulfilled=function(N){T(this.promise,this.onFulfilled,N)},S.prototype.callRejected=function(N){h.reject(this.promise,N)},S.prototype.otherCallRejected=function(N){T(this.promise,this.onRejected,N)},h.resolve=function(N,D){var k=M(A,D);if(k.status==="error")return h.reject(N,k.value);var B=k.value;if(B)C(N,B);else{N.state=m,N.outcome=D;for(var q=-1,X=N.queue.length;++q<X;)N.queue[q].callFulfilled(D)}return N},h.reject=function(N,D){N.state=g,N.outcome=D;for(var k=-1,B=N.queue.length;++k<B;)N.queue[k].callRejected(D);return N},_.resolve=function(N){return N instanceof this?N:h.resolve(new this(d),N)},_.reject=function(N){var D=new this(d);return h.reject(D,N)},_.all=function(N){var D=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=N.length,B=!1;if(!k)return this.resolve([]);for(var q=new Array(k),X=0,F=-1,re=new this(d);++F<k;)O(N[F],F);return re;function O(ce,be){D.resolve(ce).then(function(L){q[be]=L,++X!==k||B||(B=!0,h.resolve(re,q))},function(L){B||(B=!0,h.reject(re,L))})}},_.race=function(N){var D=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=N.length,B=!1;if(!k)return this.resolve([]);for(var q=-1,X=new this(d);++q<k;)F=N[q],D.resolve(F).then(function(re){B||(B=!0,h.resolve(X,re))},function(re){B||(B=!0,h.reject(X,re))});var F;return X}},{immediate:36}],38:[function(l,a,r){var c={};(0,l("./lib/utils/common").assign)(c,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),a.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,a,r){var c=l("./zlib/deflate"),d=l("./utils/common"),h=l("./utils/strings"),g=l("./zlib/messages"),m=l("./zlib/zstream"),v=Object.prototype.toString,_=0,S=-1,T=0,A=8;function C(N){if(!(this instanceof C))return new C(N);this.options=d.assign({level:S,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},N||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var k=c.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(k!==_)throw new Error(g[k]);if(D.header&&c.deflateSetHeader(this.strm,D.header),D.dictionary){var B;if(B=typeof D.dictionary=="string"?h.string2buf(D.dictionary):v.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(k=c.deflateSetDictionary(this.strm,B))!==_)throw new Error(g[k]);this._dict_set=!0}}function M(N,D){var k=new C(D);if(k.push(N,!0),k.err)throw k.msg||g[k.err];return k.result}C.prototype.push=function(N,D){var k,B,q=this.strm,X=this.options.chunkSize;if(this.ended)return!1;B=D===~~D?D:D===!0?4:0,typeof N=="string"?q.input=h.string2buf(N):v.call(N)==="[object ArrayBuffer]"?q.input=new Uint8Array(N):q.input=N,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new d.Buf8(X),q.next_out=0,q.avail_out=X),(k=c.deflate(q,B))!==1&&k!==_)return this.onEnd(k),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(q.output,q.next_out))):this.onData(d.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&k!==1);return B===4?(k=c.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===_):B!==2||(this.onEnd(_),!(q.avail_out=0))},C.prototype.onData=function(N){this.chunks.push(N)},C.prototype.onEnd=function(N){N===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},r.Deflate=C,r.deflate=M,r.deflateRaw=function(N,D){return(D=D||{}).raw=!0,M(N,D)},r.gzip=function(N,D){return(D=D||{}).gzip=!0,M(N,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,a,r){var c=l("./zlib/inflate"),d=l("./utils/common"),h=l("./utils/strings"),g=l("./zlib/constants"),m=l("./zlib/messages"),v=l("./zlib/zstream"),_=l("./zlib/gzheader"),S=Object.prototype.toString;function T(C){if(!(this instanceof T))return new T(C);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},C||{});var M=this.options;M.raw&&0<=M.windowBits&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(0<=M.windowBits&&M.windowBits<16)||C&&C.windowBits||(M.windowBits+=32),15<M.windowBits&&M.windowBits<48&&(15&M.windowBits)==0&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var N=c.inflateInit2(this.strm,M.windowBits);if(N!==g.Z_OK)throw new Error(m[N]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}function A(C,M){var N=new T(M);if(N.push(C,!0),N.err)throw N.msg||m[N.err];return N.result}T.prototype.push=function(C,M){var N,D,k,B,q,X,F=this.strm,re=this.options.chunkSize,O=this.options.dictionary,ce=!1;if(this.ended)return!1;D=M===~~M?M:M===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof C=="string"?F.input=h.binstring2buf(C):S.call(C)==="[object ArrayBuffer]"?F.input=new Uint8Array(C):F.input=C,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new d.Buf8(re),F.next_out=0,F.avail_out=re),(N=c.inflate(F,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&O&&(X=typeof O=="string"?h.string2buf(O):S.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,N=c.inflateSetDictionary(this.strm,X)),N===g.Z_BUF_ERROR&&ce===!0&&(N=g.Z_OK,ce=!1),N!==g.Z_STREAM_END&&N!==g.Z_OK)return this.onEnd(N),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&N!==g.Z_STREAM_END&&(F.avail_in!==0||D!==g.Z_FINISH&&D!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=h.utf8border(F.output,F.next_out),B=F.next_out-k,q=h.buf2string(F.output,k),F.next_out=B,F.avail_out=re-B,B&&d.arraySet(F.output,F.output,k,B,0),this.onData(q)):this.onData(d.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(ce=!0)}while((0<F.avail_in||F.avail_out===0)&&N!==g.Z_STREAM_END);return N===g.Z_STREAM_END&&(D=g.Z_FINISH),D===g.Z_FINISH?(N=c.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===g.Z_OK):D!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(F.avail_out=0))},T.prototype.onData=function(C){this.chunks.push(C)},T.prototype.onEnd=function(C){C===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},r.Inflate=T,r.inflate=A,r.inflateRaw=function(C,M){return(M=M||{}).raw=!0,A(C,M)},r.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,a,r){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(g){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var _ in v)v.hasOwnProperty(_)&&(g[_]=v[_])}}return g},r.shrinkBuf=function(g,m){return g.length===m?g:g.subarray?g.subarray(0,m):(g.length=m,g)};var d={arraySet:function(g,m,v,_,S){if(m.subarray&&g.subarray)g.set(m.subarray(v,v+_),S);else for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){var m,v,_,S,T,A;for(m=_=0,v=g.length;m<v;m++)_+=g[m].length;for(A=new Uint8Array(_),m=S=0,v=g.length;m<v;m++)T=g[m],A.set(T,S),S+=T.length;return A}},h={arraySet:function(g,m,v,_,S){for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){return[].concat.apply([],g)}};r.setTyped=function(g){g?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,d)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,h))},r.setTyped(c)},{}],42:[function(l,a,r){var c=l("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var g=new c.Buf8(256),m=0;m<256;m++)g[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(_,S){if(S<65537&&(_.subarray&&h||!_.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(_,S));for(var T="",A=0;A<S;A++)T+=String.fromCharCode(_[A]);return T}g[254]=g[254]=1,r.string2buf=function(_){var S,T,A,C,M,N=_.length,D=0;for(C=0;C<N;C++)(64512&(T=_.charCodeAt(C)))==55296&&C+1<N&&(64512&(A=_.charCodeAt(C+1)))==56320&&(T=65536+(T-55296<<10)+(A-56320),C++),D+=T<128?1:T<2048?2:T<65536?3:4;for(S=new c.Buf8(D),C=M=0;M<D;C++)(64512&(T=_.charCodeAt(C)))==55296&&C+1<N&&(64512&(A=_.charCodeAt(C+1)))==56320&&(T=65536+(T-55296<<10)+(A-56320),C++),T<128?S[M++]=T:(T<2048?S[M++]=192|T>>>6:(T<65536?S[M++]=224|T>>>12:(S[M++]=240|T>>>18,S[M++]=128|T>>>12&63),S[M++]=128|T>>>6&63),S[M++]=128|63&T);return S},r.buf2binstring=function(_){return v(_,_.length)},r.binstring2buf=function(_){for(var S=new c.Buf8(_.length),T=0,A=S.length;T<A;T++)S[T]=_.charCodeAt(T);return S},r.buf2string=function(_,S){var T,A,C,M,N=S||_.length,D=new Array(2*N);for(T=A=0;T<N;)if((C=_[T++])<128)D[A++]=C;else if(4<(M=g[C]))D[A++]=65533,T+=M-1;else{for(C&=M===2?31:M===3?15:7;1<M&&T<N;)C=C<<6|63&_[T++],M--;1<M?D[A++]=65533:C<65536?D[A++]=C:(C-=65536,D[A++]=55296|C>>10&1023,D[A++]=56320|1023&C)}return v(D,A)},r.utf8border=function(_,S){var T;for((S=S||_.length)>_.length&&(S=_.length),T=S-1;0<=T&&(192&_[T])==128;)T--;return T<0||T===0?S:T+g[_[T]]>S?T:S}},{"./common":41}],43:[function(l,a,r){a.exports=function(c,d,h,g){for(var m=65535&c|0,v=c>>>16&65535|0,_=0;h!==0;){for(h-=_=2e3<h?2e3:h;v=v+(m=m+d[g++]|0)|0,--_;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(l,a,r){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,a,r){var c=(function(){for(var d,h=[],g=0;g<256;g++){d=g;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;h[g]=d}return h})();a.exports=function(d,h,g,m){var v=c,_=m+g;d^=-1;for(var S=m;S<_;S++)d=d>>>8^v[255&(d^h[S])];return-1^d}},{}],46:[function(l,a,r){var c,d=l("../utils/common"),h=l("./trees"),g=l("./adler32"),m=l("./crc32"),v=l("./messages"),_=0,S=4,T=0,A=-2,C=-1,M=4,N=2,D=8,k=9,B=286,q=30,X=19,F=2*B+1,re=15,O=3,ce=258,be=ce+O+1,L=42,ie=113,w=1,ue=2,Y=3,Z=4;function _e(x,he){return x.msg=v[he],he}function fe(x){return(x<<1)-(4<x?9:0)}function J(x){for(var he=x.length;0<=--he;)x[he]=0}function R(x){var he=x.state,se=he.pending;se>x.avail_out&&(se=x.avail_out),se!==0&&(d.arraySet(x.output,he.pending_buf,he.pending_out,se,x.next_out),x.next_out+=se,he.pending_out+=se,x.total_out+=se,x.avail_out-=se,he.pending-=se,he.pending===0&&(he.pending_out=0))}function U(x,he){h._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,he),x.block_start=x.strstart,R(x.strm)}function $(x,he){x.pending_buf[x.pending++]=he}function W(x,he){x.pending_buf[x.pending++]=he>>>8&255,x.pending_buf[x.pending++]=255&he}function le(x,he){var se,G,z=x.max_chain_length,K=x.strstart,ge=x.prev_length,ye=x.nice_match,te=x.strstart>x.w_size-be?x.strstart-(x.w_size-be):0,Ee=x.window,xe=x.w_mask,Se=x.prev,De=x.strstart+ce,et=Ee[K+ge-1],Je=Ee[K+ge];x.prev_length>=x.good_match&&(z>>=2),ye>x.lookahead&&(ye=x.lookahead);do if(Ee[(se=he)+ge]===Je&&Ee[se+ge-1]===et&&Ee[se]===Ee[K]&&Ee[++se]===Ee[K+1]){K+=2,se++;do;while(Ee[++K]===Ee[++se]&&Ee[++K]===Ee[++se]&&Ee[++K]===Ee[++se]&&Ee[++K]===Ee[++se]&&Ee[++K]===Ee[++se]&&Ee[++K]===Ee[++se]&&Ee[++K]===Ee[++se]&&Ee[++K]===Ee[++se]&&K<De);if(G=ce-(De-K),K=De-ce,ge<G){if(x.match_start=he,ye<=(ge=G))break;et=Ee[K+ge-1],Je=Ee[K+ge]}}while((he=Se[he&xe])>te&&--z!=0);return ge<=x.lookahead?ge:x.lookahead}function Te(x){var he,se,G,z,K,ge,ye,te,Ee,xe,Se=x.w_size;do{if(z=x.window_size-x.lookahead-x.strstart,x.strstart>=Se+(Se-be)){for(d.arraySet(x.window,x.window,Se,Se,0),x.match_start-=Se,x.strstart-=Se,x.block_start-=Se,he=se=x.hash_size;G=x.head[--he],x.head[he]=Se<=G?G-Se:0,--se;);for(he=se=Se;G=x.prev[--he],x.prev[he]=Se<=G?G-Se:0,--se;);z+=Se}if(x.strm.avail_in===0)break;if(ge=x.strm,ye=x.window,te=x.strstart+x.lookahead,Ee=z,xe=void 0,xe=ge.avail_in,Ee<xe&&(xe=Ee),se=xe===0?0:(ge.avail_in-=xe,d.arraySet(ye,ge.input,ge.next_in,xe,te),ge.state.wrap===1?ge.adler=g(ge.adler,ye,xe,te):ge.state.wrap===2&&(ge.adler=m(ge.adler,ye,xe,te)),ge.next_in+=xe,ge.total_in+=xe,xe),x.lookahead+=se,x.lookahead+x.insert>=O)for(K=x.strstart-x.insert,x.ins_h=x.window[K],x.ins_h=(x.ins_h<<x.hash_shift^x.window[K+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[K+O-1])&x.hash_mask,x.prev[K&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=K,K++,x.insert--,!(x.lookahead+x.insert<O)););}while(x.lookahead<be&&x.strm.avail_in!==0)}function Ie(x,he){for(var se,G;;){if(x.lookahead<be){if(Te(x),x.lookahead<be&&he===_)return w;if(x.lookahead===0)break}if(se=0,x.lookahead>=O&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+O-1])&x.hash_mask,se=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),se!==0&&x.strstart-se<=x.w_size-be&&(x.match_length=le(x,se)),x.match_length>=O)if(G=h._tr_tally(x,x.strstart-x.match_start,x.match_length-O),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=O){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+O-1])&x.hash_mask,se=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else G=h._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(G&&(U(x,!1),x.strm.avail_out===0))return w}return x.insert=x.strstart<O-1?x.strstart:O-1,he===S?(U(x,!0),x.strm.avail_out===0?Y:Z):x.last_lit&&(U(x,!1),x.strm.avail_out===0)?w:ue}function Le(x,he){for(var se,G,z;;){if(x.lookahead<be){if(Te(x),x.lookahead<be&&he===_)return w;if(x.lookahead===0)break}if(se=0,x.lookahead>=O&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+O-1])&x.hash_mask,se=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=O-1,se!==0&&x.prev_length<x.max_lazy_match&&x.strstart-se<=x.w_size-be&&(x.match_length=le(x,se),x.match_length<=5&&(x.strategy===1||x.match_length===O&&4096<x.strstart-x.match_start)&&(x.match_length=O-1)),x.prev_length>=O&&x.match_length<=x.prev_length){for(z=x.strstart+x.lookahead-O,G=h._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-O),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=z&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+O-1])&x.hash_mask,se=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=O-1,x.strstart++,G&&(U(x,!1),x.strm.avail_out===0))return w}else if(x.match_available){if((G=h._tr_tally(x,0,x.window[x.strstart-1]))&&U(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return w}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(G=h._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<O-1?x.strstart:O-1,he===S?(U(x,!0),x.strm.avail_out===0?Y:Z):x.last_lit&&(U(x,!1),x.strm.avail_out===0)?w:ue}function Ue(x,he,se,G,z){this.good_length=x,this.max_lazy=he,this.nice_length=se,this.max_chain=G,this.func=z}function at(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*F),this.dyn_dtree=new d.Buf16(2*(2*q+1)),this.bl_tree=new d.Buf16(2*(2*X+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(re+1),this.heap=new d.Buf16(2*B+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*B+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function st(x){var he;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=N,(he=x.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?L:ie,x.adler=he.wrap===2?0:1,he.last_flush=_,h._tr_init(he),T):_e(x,A)}function Re(x){var he=st(x);return he===T&&(function(se){se.window_size=2*se.w_size,J(se.head),se.max_lazy_match=c[se.level].max_lazy,se.good_match=c[se.level].good_length,se.nice_match=c[se.level].nice_length,se.max_chain_length=c[se.level].max_chain,se.strstart=0,se.block_start=0,se.lookahead=0,se.insert=0,se.match_length=se.prev_length=O-1,se.match_available=0,se.ins_h=0})(x.state),he}function Fe(x,he,se,G,z,K){if(!x)return A;var ge=1;if(he===C&&(he=6),G<0?(ge=0,G=-G):15<G&&(ge=2,G-=16),z<1||k<z||se!==D||G<8||15<G||he<0||9<he||K<0||M<K)return _e(x,A);G===8&&(G=9);var ye=new at;return(x.state=ye).strm=x,ye.wrap=ge,ye.gzhead=null,ye.w_bits=G,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=z+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+O-1)/O),ye.window=new d.Buf8(2*ye.w_size),ye.head=new d.Buf16(ye.hash_size),ye.prev=new d.Buf16(ye.w_size),ye.lit_bufsize=1<<z+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new d.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=he,ye.strategy=K,ye.method=se,Re(x)}c=[new Ue(0,0,0,0,function(x,he){var se=65535;for(se>x.pending_buf_size-5&&(se=x.pending_buf_size-5);;){if(x.lookahead<=1){if(Te(x),x.lookahead===0&&he===_)return w;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var G=x.block_start+se;if((x.strstart===0||x.strstart>=G)&&(x.lookahead=x.strstart-G,x.strstart=G,U(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-be&&(U(x,!1),x.strm.avail_out===0))return w}return x.insert=0,he===S?(U(x,!0),x.strm.avail_out===0?Y:Z):(x.strstart>x.block_start&&(U(x,!1),x.strm.avail_out),w)}),new Ue(4,4,8,4,Ie),new Ue(4,5,16,8,Ie),new Ue(4,6,32,32,Ie),new Ue(4,4,16,16,Le),new Ue(8,16,32,32,Le),new Ue(8,16,128,128,Le),new Ue(8,32,128,256,Le),new Ue(32,128,258,1024,Le),new Ue(32,258,258,4096,Le)],r.deflateInit=function(x,he){return Fe(x,he,D,15,8,0)},r.deflateInit2=Fe,r.deflateReset=Re,r.deflateResetKeep=st,r.deflateSetHeader=function(x,he){return x&&x.state?x.state.wrap!==2?A:(x.state.gzhead=he,T):A},r.deflate=function(x,he){var se,G,z,K;if(!x||!x.state||5<he||he<0)return x?_e(x,A):A;if(G=x.state,!x.output||!x.input&&x.avail_in!==0||G.status===666&&he!==S)return _e(x,x.avail_out===0?-5:A);if(G.strm=x,se=G.last_flush,G.last_flush=he,G.status===L)if(G.wrap===2)x.adler=0,$(G,31),$(G,139),$(G,8),G.gzhead?($(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),$(G,255&G.gzhead.time),$(G,G.gzhead.time>>8&255),$(G,G.gzhead.time>>16&255),$(G,G.gzhead.time>>24&255),$(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),$(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&($(G,255&G.gzhead.extra.length),$(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(x.adler=m(x.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):($(G,0),$(G,0),$(G,0),$(G,0),$(G,0),$(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),$(G,3),G.status=ie);else{var ge=D+(G.w_bits-8<<4)<<8;ge|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(ge|=32),ge+=31-ge%31,G.status=ie,W(G,ge),G.strstart!==0&&(W(G,x.adler>>>16),W(G,65535&x.adler)),x.adler=1}if(G.status===69)if(G.gzhead.extra){for(z=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),R(x),z=G.pending,G.pending!==G.pending_buf_size));)$(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){z=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),R(x),z=G.pending,G.pending===G.pending_buf_size)){K=1;break}K=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,$(G,K)}while(K!==0);G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),K===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){z=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),R(x),z=G.pending,G.pending===G.pending_buf_size)){K=1;break}K=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,$(G,K)}while(K!==0);G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),K===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&R(x),G.pending+2<=G.pending_buf_size&&($(G,255&x.adler),$(G,x.adler>>8&255),x.adler=0,G.status=ie)):G.status=ie),G.pending!==0){if(R(x),x.avail_out===0)return G.last_flush=-1,T}else if(x.avail_in===0&&fe(he)<=fe(se)&&he!==S)return _e(x,-5);if(G.status===666&&x.avail_in!==0)return _e(x,-5);if(x.avail_in!==0||G.lookahead!==0||he!==_&&G.status!==666){var ye=G.strategy===2?(function(te,Ee){for(var xe;;){if(te.lookahead===0&&(Te(te),te.lookahead===0)){if(Ee===_)return w;break}if(te.match_length=0,xe=h._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,xe&&(U(te,!1),te.strm.avail_out===0))return w}return te.insert=0,Ee===S?(U(te,!0),te.strm.avail_out===0?Y:Z):te.last_lit&&(U(te,!1),te.strm.avail_out===0)?w:ue})(G,he):G.strategy===3?(function(te,Ee){for(var xe,Se,De,et,Je=te.window;;){if(te.lookahead<=ce){if(Te(te),te.lookahead<=ce&&Ee===_)return w;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=O&&0<te.strstart&&(Se=Je[De=te.strstart-1])===Je[++De]&&Se===Je[++De]&&Se===Je[++De]){et=te.strstart+ce;do;while(Se===Je[++De]&&Se===Je[++De]&&Se===Je[++De]&&Se===Je[++De]&&Se===Je[++De]&&Se===Je[++De]&&Se===Je[++De]&&Se===Je[++De]&&De<et);te.match_length=ce-(et-De),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=O?(xe=h._tr_tally(te,1,te.match_length-O),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(xe=h._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),xe&&(U(te,!1),te.strm.avail_out===0))return w}return te.insert=0,Ee===S?(U(te,!0),te.strm.avail_out===0?Y:Z):te.last_lit&&(U(te,!1),te.strm.avail_out===0)?w:ue})(G,he):c[G.level].func(G,he);if(ye!==Y&&ye!==Z||(G.status=666),ye===w||ye===Y)return x.avail_out===0&&(G.last_flush=-1),T;if(ye===ue&&(he===1?h._tr_align(G):he!==5&&(h._tr_stored_block(G,0,0,!1),he===3&&(J(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),R(x),x.avail_out===0))return G.last_flush=-1,T}return he!==S?T:G.wrap<=0?1:(G.wrap===2?($(G,255&x.adler),$(G,x.adler>>8&255),$(G,x.adler>>16&255),$(G,x.adler>>24&255),$(G,255&x.total_in),$(G,x.total_in>>8&255),$(G,x.total_in>>16&255),$(G,x.total_in>>24&255)):(W(G,x.adler>>>16),W(G,65535&x.adler)),R(x),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?T:1)},r.deflateEnd=function(x){var he;return x&&x.state?(he=x.state.status)!==L&&he!==69&&he!==73&&he!==91&&he!==103&&he!==ie&&he!==666?_e(x,A):(x.state=null,he===ie?_e(x,-3):T):A},r.deflateSetDictionary=function(x,he){var se,G,z,K,ge,ye,te,Ee,xe=he.length;if(!x||!x.state||(K=(se=x.state).wrap)===2||K===1&&se.status!==L||se.lookahead)return A;for(K===1&&(x.adler=g(x.adler,he,xe,0)),se.wrap=0,xe>=se.w_size&&(K===0&&(J(se.head),se.strstart=0,se.block_start=0,se.insert=0),Ee=new d.Buf8(se.w_size),d.arraySet(Ee,he,xe-se.w_size,se.w_size,0),he=Ee,xe=se.w_size),ge=x.avail_in,ye=x.next_in,te=x.input,x.avail_in=xe,x.next_in=0,x.input=he,Te(se);se.lookahead>=O;){for(G=se.strstart,z=se.lookahead-(O-1);se.ins_h=(se.ins_h<<se.hash_shift^se.window[G+O-1])&se.hash_mask,se.prev[G&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=G,G++,--z;);se.strstart=G,se.lookahead=O-1,Te(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=O-1,se.match_available=0,x.next_in=ye,x.input=te,x.avail_in=ge,se.wrap=K,T},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,a,r){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,a,r){a.exports=function(c,d){var h,g,m,v,_,S,T,A,C,M,N,D,k,B,q,X,F,re,O,ce,be,L,ie,w,ue;h=c.state,g=c.next_in,w=c.input,m=g+(c.avail_in-5),v=c.next_out,ue=c.output,_=v-(d-c.avail_out),S=v+(c.avail_out-257),T=h.dmax,A=h.wsize,C=h.whave,M=h.wnext,N=h.window,D=h.hold,k=h.bits,B=h.lencode,q=h.distcode,X=(1<<h.lenbits)-1,F=(1<<h.distbits)-1;e:do{k<15&&(D+=w[g++]<<k,k+=8,D+=w[g++]<<k,k+=8),re=B[D&X];t:for(;;){if(D>>>=O=re>>>24,k-=O,(O=re>>>16&255)===0)ue[v++]=65535&re;else{if(!(16&O)){if((64&O)==0){re=B[(65535&re)+(D&(1<<O)-1)];continue t}if(32&O){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}ce=65535&re,(O&=15)&&(k<O&&(D+=w[g++]<<k,k+=8),ce+=D&(1<<O)-1,D>>>=O,k-=O),k<15&&(D+=w[g++]<<k,k+=8,D+=w[g++]<<k,k+=8),re=q[D&F];n:for(;;){if(D>>>=O=re>>>24,k-=O,!(16&(O=re>>>16&255))){if((64&O)==0){re=q[(65535&re)+(D&(1<<O)-1)];continue n}c.msg="invalid distance code",h.mode=30;break e}if(be=65535&re,k<(O&=15)&&(D+=w[g++]<<k,(k+=8)<O&&(D+=w[g++]<<k,k+=8)),T<(be+=D&(1<<O)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(D>>>=O,k-=O,(O=v-_)<be){if(C<(O=be-O)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(ie=N,(L=0)===M){if(L+=A-O,O<ce){for(ce-=O;ue[v++]=N[L++],--O;);L=v-be,ie=ue}}else if(M<O){if(L+=A+M-O,(O-=M)<ce){for(ce-=O;ue[v++]=N[L++],--O;);if(L=0,M<ce){for(ce-=O=M;ue[v++]=N[L++],--O;);L=v-be,ie=ue}}}else if(L+=M-O,O<ce){for(ce-=O;ue[v++]=N[L++],--O;);L=v-be,ie=ue}for(;2<ce;)ue[v++]=ie[L++],ue[v++]=ie[L++],ue[v++]=ie[L++],ce-=3;ce&&(ue[v++]=ie[L++],1<ce&&(ue[v++]=ie[L++]))}else{for(L=v-be;ue[v++]=ue[L++],ue[v++]=ue[L++],ue[v++]=ue[L++],2<(ce-=3););ce&&(ue[v++]=ue[L++],1<ce&&(ue[v++]=ue[L++]))}break}}break}}while(g<m&&v<S);g-=ce=k>>3,D&=(1<<(k-=ce<<3))-1,c.next_in=g,c.next_out=v,c.avail_in=g<m?m-g+5:5-(g-m),c.avail_out=v<S?S-v+257:257-(v-S),h.hold=D,h.bits=k}},{}],49:[function(l,a,r){var c=l("../utils/common"),d=l("./adler32"),h=l("./crc32"),g=l("./inffast"),m=l("./inftrees"),v=1,_=2,S=0,T=-2,A=1,C=852,M=592;function N(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(L){var ie;return L&&L.state?(ie=L.state,L.total_in=L.total_out=ie.total=0,L.msg="",ie.wrap&&(L.adler=1&ie.wrap),ie.mode=A,ie.last=0,ie.havedict=0,ie.dmax=32768,ie.head=null,ie.hold=0,ie.bits=0,ie.lencode=ie.lendyn=new c.Buf32(C),ie.distcode=ie.distdyn=new c.Buf32(M),ie.sane=1,ie.back=-1,S):T}function B(L){var ie;return L&&L.state?((ie=L.state).wsize=0,ie.whave=0,ie.wnext=0,k(L)):T}function q(L,ie){var w,ue;return L&&L.state?(ue=L.state,ie<0?(w=0,ie=-ie):(w=1+(ie>>4),ie<48&&(ie&=15)),ie&&(ie<8||15<ie)?T:(ue.window!==null&&ue.wbits!==ie&&(ue.window=null),ue.wrap=w,ue.wbits=ie,B(L))):T}function X(L,ie){var w,ue;return L?(ue=new D,(L.state=ue).window=null,(w=q(L,ie))!==S&&(L.state=null),w):T}var F,re,O=!0;function ce(L){if(O){var ie;for(F=new c.Buf32(512),re=new c.Buf32(32),ie=0;ie<144;)L.lens[ie++]=8;for(;ie<256;)L.lens[ie++]=9;for(;ie<280;)L.lens[ie++]=7;for(;ie<288;)L.lens[ie++]=8;for(m(v,L.lens,0,288,F,0,L.work,{bits:9}),ie=0;ie<32;)L.lens[ie++]=5;m(_,L.lens,0,32,re,0,L.work,{bits:5}),O=!1}L.lencode=F,L.lenbits=9,L.distcode=re,L.distbits=5}function be(L,ie,w,ue){var Y,Z=L.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new c.Buf8(Z.wsize)),ue>=Z.wsize?(c.arraySet(Z.window,ie,w-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(ue<(Y=Z.wsize-Z.wnext)&&(Y=ue),c.arraySet(Z.window,ie,w-ue,Y,Z.wnext),(ue-=Y)?(c.arraySet(Z.window,ie,w-ue,ue,0),Z.wnext=ue,Z.whave=Z.wsize):(Z.wnext+=Y,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=Y))),0}r.inflateReset=B,r.inflateReset2=q,r.inflateResetKeep=k,r.inflateInit=function(L){return X(L,15)},r.inflateInit2=X,r.inflate=function(L,ie){var w,ue,Y,Z,_e,fe,J,R,U,$,W,le,Te,Ie,Le,Ue,at,st,Re,Fe,x,he,se,G,z=0,K=new c.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return T;(w=L.state).mode===12&&(w.mode=13),_e=L.next_out,Y=L.output,J=L.avail_out,Z=L.next_in,ue=L.input,fe=L.avail_in,R=w.hold,U=w.bits,$=fe,W=J,he=S;e:for(;;)switch(w.mode){case A:if(w.wrap===0){w.mode=13;break}for(;U<16;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if(2&w.wrap&&R===35615){K[w.check=0]=255&R,K[1]=R>>>8&255,w.check=h(w.check,K,2,0),U=R=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&R)<<8)+(R>>8))%31){L.msg="incorrect header check",w.mode=30;break}if((15&R)!=8){L.msg="unknown compression method",w.mode=30;break}if(U-=4,x=8+(15&(R>>>=4)),w.wbits===0)w.wbits=x;else if(x>w.wbits){L.msg="invalid window size",w.mode=30;break}w.dmax=1<<x,L.adler=w.check=1,w.mode=512&R?10:12,U=R=0;break;case 2:for(;U<16;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if(w.flags=R,(255&w.flags)!=8){L.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){L.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=R>>8&1),512&w.flags&&(K[0]=255&R,K[1]=R>>>8&255,w.check=h(w.check,K,2,0)),U=R=0,w.mode=3;case 3:for(;U<32;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}w.head&&(w.head.time=R),512&w.flags&&(K[0]=255&R,K[1]=R>>>8&255,K[2]=R>>>16&255,K[3]=R>>>24&255,w.check=h(w.check,K,4,0)),U=R=0,w.mode=4;case 4:for(;U<16;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}w.head&&(w.head.xflags=255&R,w.head.os=R>>8),512&w.flags&&(K[0]=255&R,K[1]=R>>>8&255,w.check=h(w.check,K,2,0)),U=R=0,w.mode=5;case 5:if(1024&w.flags){for(;U<16;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}w.length=R,w.head&&(w.head.extra_len=R),512&w.flags&&(K[0]=255&R,K[1]=R>>>8&255,w.check=h(w.check,K,2,0)),U=R=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(fe<(le=w.length)&&(le=fe),le&&(w.head&&(x=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),c.arraySet(w.head.extra,ue,Z,le,x)),512&w.flags&&(w.check=h(w.check,ue,le,Z)),fe-=le,Z+=le,w.length-=le),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(fe===0)break e;for(le=0;x=ue[Z+le++],w.head&&x&&w.length<65536&&(w.head.name+=String.fromCharCode(x)),x&&le<fe;);if(512&w.flags&&(w.check=h(w.check,ue,le,Z)),fe-=le,Z+=le,x)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(fe===0)break e;for(le=0;x=ue[Z+le++],w.head&&x&&w.length<65536&&(w.head.comment+=String.fromCharCode(x)),x&&le<fe;);if(512&w.flags&&(w.check=h(w.check,ue,le,Z)),fe-=le,Z+=le,x)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;U<16;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if(R!==(65535&w.check)){L.msg="header crc mismatch",w.mode=30;break}U=R=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),L.adler=w.check=0,w.mode=12;break;case 10:for(;U<32;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}L.adler=w.check=N(R),U=R=0,w.mode=11;case 11:if(w.havedict===0)return L.next_out=_e,L.avail_out=J,L.next_in=Z,L.avail_in=fe,w.hold=R,w.bits=U,2;L.adler=w.check=1,w.mode=12;case 12:if(ie===5||ie===6)break e;case 13:if(w.last){R>>>=7&U,U-=7&U,w.mode=27;break}for(;U<3;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}switch(w.last=1&R,U-=1,3&(R>>>=1)){case 0:w.mode=14;break;case 1:if(ce(w),w.mode=20,ie!==6)break;R>>>=2,U-=2;break e;case 2:w.mode=17;break;case 3:L.msg="invalid block type",w.mode=30}R>>>=2,U-=2;break;case 14:for(R>>>=7&U,U-=7&U;U<32;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if((65535&R)!=(R>>>16^65535)){L.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&R,U=R=0,w.mode=15,ie===6)break e;case 15:w.mode=16;case 16:if(le=w.length){if(fe<le&&(le=fe),J<le&&(le=J),le===0)break e;c.arraySet(Y,ue,Z,le,_e),fe-=le,Z+=le,J-=le,_e+=le,w.length-=le;break}w.mode=12;break;case 17:for(;U<14;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if(w.nlen=257+(31&R),R>>>=5,U-=5,w.ndist=1+(31&R),R>>>=5,U-=5,w.ncode=4+(15&R),R>>>=4,U-=4,286<w.nlen||30<w.ndist){L.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;U<3;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}w.lens[ge[w.have++]]=7&R,R>>>=3,U-=3}for(;w.have<19;)w.lens[ge[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,se={bits:w.lenbits},he=m(0,w.lens,0,19,w.lencode,0,w.work,se),w.lenbits=se.bits,he){L.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;Ue=(z=w.lencode[R&(1<<w.lenbits)-1])>>>16&255,at=65535&z,!((Le=z>>>24)<=U);){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if(at<16)R>>>=Le,U-=Le,w.lens[w.have++]=at;else{if(at===16){for(G=Le+2;U<G;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if(R>>>=Le,U-=Le,w.have===0){L.msg="invalid bit length repeat",w.mode=30;break}x=w.lens[w.have-1],le=3+(3&R),R>>>=2,U-=2}else if(at===17){for(G=Le+3;U<G;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}U-=Le,x=0,le=3+(7&(R>>>=Le)),R>>>=3,U-=3}else{for(G=Le+7;U<G;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}U-=Le,x=0,le=11+(127&(R>>>=Le)),R>>>=7,U-=7}if(w.have+le>w.nlen+w.ndist){L.msg="invalid bit length repeat",w.mode=30;break}for(;le--;)w.lens[w.have++]=x}}if(w.mode===30)break;if(w.lens[256]===0){L.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,se={bits:w.lenbits},he=m(v,w.lens,0,w.nlen,w.lencode,0,w.work,se),w.lenbits=se.bits,he){L.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,se={bits:w.distbits},he=m(_,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,se),w.distbits=se.bits,he){L.msg="invalid distances set",w.mode=30;break}if(w.mode=20,ie===6)break e;case 20:w.mode=21;case 21:if(6<=fe&&258<=J){L.next_out=_e,L.avail_out=J,L.next_in=Z,L.avail_in=fe,w.hold=R,w.bits=U,g(L,W),_e=L.next_out,Y=L.output,J=L.avail_out,Z=L.next_in,ue=L.input,fe=L.avail_in,R=w.hold,U=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;Ue=(z=w.lencode[R&(1<<w.lenbits)-1])>>>16&255,at=65535&z,!((Le=z>>>24)<=U);){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if(Ue&&(240&Ue)==0){for(st=Le,Re=Ue,Fe=at;Ue=(z=w.lencode[Fe+((R&(1<<st+Re)-1)>>st)])>>>16&255,at=65535&z,!(st+(Le=z>>>24)<=U);){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}R>>>=st,U-=st,w.back+=st}if(R>>>=Le,U-=Le,w.back+=Le,w.length=at,Ue===0){w.mode=26;break}if(32&Ue){w.back=-1,w.mode=12;break}if(64&Ue){L.msg="invalid literal/length code",w.mode=30;break}w.extra=15&Ue,w.mode=22;case 22:if(w.extra){for(G=w.extra;U<G;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}w.length+=R&(1<<w.extra)-1,R>>>=w.extra,U-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;Ue=(z=w.distcode[R&(1<<w.distbits)-1])>>>16&255,at=65535&z,!((Le=z>>>24)<=U);){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if((240&Ue)==0){for(st=Le,Re=Ue,Fe=at;Ue=(z=w.distcode[Fe+((R&(1<<st+Re)-1)>>st)])>>>16&255,at=65535&z,!(st+(Le=z>>>24)<=U);){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}R>>>=st,U-=st,w.back+=st}if(R>>>=Le,U-=Le,w.back+=Le,64&Ue){L.msg="invalid distance code",w.mode=30;break}w.offset=at,w.extra=15&Ue,w.mode=24;case 24:if(w.extra){for(G=w.extra;U<G;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}w.offset+=R&(1<<w.extra)-1,R>>>=w.extra,U-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){L.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(J===0)break e;if(le=W-J,w.offset>le){if((le=w.offset-le)>w.whave&&w.sane){L.msg="invalid distance too far back",w.mode=30;break}Te=le>w.wnext?(le-=w.wnext,w.wsize-le):w.wnext-le,le>w.length&&(le=w.length),Ie=w.window}else Ie=Y,Te=_e-w.offset,le=w.length;for(J<le&&(le=J),J-=le,w.length-=le;Y[_e++]=Ie[Te++],--le;);w.length===0&&(w.mode=21);break;case 26:if(J===0)break e;Y[_e++]=w.length,J--,w.mode=21;break;case 27:if(w.wrap){for(;U<32;){if(fe===0)break e;fe--,R|=ue[Z++]<<U,U+=8}if(W-=J,L.total_out+=W,w.total+=W,W&&(L.adler=w.check=w.flags?h(w.check,Y,W,_e-W):d(w.check,Y,W,_e-W)),W=J,(w.flags?R:N(R))!==w.check){L.msg="incorrect data check",w.mode=30;break}U=R=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;U<32;){if(fe===0)break e;fe--,R+=ue[Z++]<<U,U+=8}if(R!==(4294967295&w.total)){L.msg="incorrect length check",w.mode=30;break}U=R=0}w.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return T}return L.next_out=_e,L.avail_out=J,L.next_in=Z,L.avail_in=fe,w.hold=R,w.bits=U,(w.wsize||W!==L.avail_out&&w.mode<30&&(w.mode<27||ie!==4))&&be(L,L.output,L.next_out,W-L.avail_out)?(w.mode=31,-4):($-=L.avail_in,W-=L.avail_out,L.total_in+=$,L.total_out+=W,w.total+=W,w.wrap&&W&&(L.adler=w.check=w.flags?h(w.check,Y,W,L.next_out-W):d(w.check,Y,W,L.next_out-W)),L.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),($==0&&W===0||ie===4)&&he===S&&(he=-5),he)},r.inflateEnd=function(L){if(!L||!L.state)return T;var ie=L.state;return ie.window&&(ie.window=null),L.state=null,S},r.inflateGetHeader=function(L,ie){var w;return L&&L.state?(2&(w=L.state).wrap)==0?T:((w.head=ie).done=!1,S):T},r.inflateSetDictionary=function(L,ie){var w,ue=ie.length;return L&&L.state?(w=L.state).wrap!==0&&w.mode!==11?T:w.mode===11&&d(1,ie,ue,0)!==w.check?-3:be(L,ie,ue,ue)?(w.mode=31,-4):(w.havedict=1,S):T},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,a,r){var c=l("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(v,_,S,T,A,C,M,N){var D,k,B,q,X,F,re,O,ce,be=N.bits,L=0,ie=0,w=0,ue=0,Y=0,Z=0,_e=0,fe=0,J=0,R=0,U=null,$=0,W=new c.Buf16(16),le=new c.Buf16(16),Te=null,Ie=0;for(L=0;L<=15;L++)W[L]=0;for(ie=0;ie<T;ie++)W[_[S+ie]]++;for(Y=be,ue=15;1<=ue&&W[ue]===0;ue--);if(ue<Y&&(Y=ue),ue===0)return A[C++]=20971520,A[C++]=20971520,N.bits=1,0;for(w=1;w<ue&&W[w]===0;w++);for(Y<w&&(Y=w),L=fe=1;L<=15;L++)if(fe<<=1,(fe-=W[L])<0)return-1;if(0<fe&&(v===0||ue!==1))return-1;for(le[1]=0,L=1;L<15;L++)le[L+1]=le[L]+W[L];for(ie=0;ie<T;ie++)_[S+ie]!==0&&(M[le[_[S+ie]]++]=ie);if(F=v===0?(U=Te=M,19):v===1?(U=d,$-=257,Te=h,Ie-=257,256):(U=g,Te=m,-1),L=w,X=C,_e=ie=R=0,B=-1,q=(J=1<<(Z=Y))-1,v===1&&852<J||v===2&&592<J)return 1;for(;;){for(re=L-_e,ce=M[ie]<F?(O=0,M[ie]):M[ie]>F?(O=Te[Ie+M[ie]],U[$+M[ie]]):(O=96,0),D=1<<L-_e,w=k=1<<Z;A[X+(R>>_e)+(k-=D)]=re<<24|O<<16|ce|0,k!==0;);for(D=1<<L-1;R&D;)D>>=1;if(D!==0?(R&=D-1,R+=D):R=0,ie++,--W[L]==0){if(L===ue)break;L=_[S+M[ie]]}if(Y<L&&(R&q)!==B){for(_e===0&&(_e=Y),X+=w,fe=1<<(Z=L-_e);Z+_e<ue&&!((fe-=W[Z+_e])<=0);)Z++,fe<<=1;if(J+=1<<Z,v===1&&852<J||v===2&&592<J)return 1;A[B=R&q]=Y<<24|Z<<16|X-C|0}}return R!==0&&(A[X+R]=L-_e<<24|64<<16|0),N.bits=Y,0}},{"../utils/common":41}],51:[function(l,a,r){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,a,r){var c=l("../utils/common"),d=0,h=1;function g(z){for(var K=z.length;0<=--K;)z[K]=0}var m=0,v=29,_=256,S=_+1+v,T=30,A=19,C=2*S+1,M=15,N=16,D=7,k=256,B=16,q=17,X=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],re=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=new Array(2*(S+2));g(be);var L=new Array(2*T);g(L);var ie=new Array(512);g(ie);var w=new Array(256);g(w);var ue=new Array(v);g(ue);var Y,Z,_e,fe=new Array(T);function J(z,K,ge,ye,te){this.static_tree=z,this.extra_bits=K,this.extra_base=ge,this.elems=ye,this.max_length=te,this.has_stree=z&&z.length}function R(z,K){this.dyn_tree=z,this.max_code=0,this.stat_desc=K}function U(z){return z<256?ie[z]:ie[256+(z>>>7)]}function $(z,K){z.pending_buf[z.pending++]=255&K,z.pending_buf[z.pending++]=K>>>8&255}function W(z,K,ge){z.bi_valid>N-ge?(z.bi_buf|=K<<z.bi_valid&65535,$(z,z.bi_buf),z.bi_buf=K>>N-z.bi_valid,z.bi_valid+=ge-N):(z.bi_buf|=K<<z.bi_valid&65535,z.bi_valid+=ge)}function le(z,K,ge){W(z,ge[2*K],ge[2*K+1])}function Te(z,K){for(var ge=0;ge|=1&z,z>>>=1,ge<<=1,0<--K;);return ge>>>1}function Ie(z,K,ge){var ye,te,Ee=new Array(M+1),xe=0;for(ye=1;ye<=M;ye++)Ee[ye]=xe=xe+ge[ye-1]<<1;for(te=0;te<=K;te++){var Se=z[2*te+1];Se!==0&&(z[2*te]=Te(Ee[Se]++,Se))}}function Le(z){var K;for(K=0;K<S;K++)z.dyn_ltree[2*K]=0;for(K=0;K<T;K++)z.dyn_dtree[2*K]=0;for(K=0;K<A;K++)z.bl_tree[2*K]=0;z.dyn_ltree[2*k]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function Ue(z){8<z.bi_valid?$(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function at(z,K,ge,ye){var te=2*K,Ee=2*ge;return z[te]<z[Ee]||z[te]===z[Ee]&&ye[K]<=ye[ge]}function st(z,K,ge){for(var ye=z.heap[ge],te=ge<<1;te<=z.heap_len&&(te<z.heap_len&&at(K,z.heap[te+1],z.heap[te],z.depth)&&te++,!at(K,ye,z.heap[te],z.depth));)z.heap[ge]=z.heap[te],ge=te,te<<=1;z.heap[ge]=ye}function Re(z,K,ge){var ye,te,Ee,xe,Se=0;if(z.last_lit!==0)for(;ye=z.pending_buf[z.d_buf+2*Se]<<8|z.pending_buf[z.d_buf+2*Se+1],te=z.pending_buf[z.l_buf+Se],Se++,ye===0?le(z,te,K):(le(z,(Ee=w[te])+_+1,K),(xe=F[Ee])!==0&&W(z,te-=ue[Ee],xe),le(z,Ee=U(--ye),ge),(xe=re[Ee])!==0&&W(z,ye-=fe[Ee],xe)),Se<z.last_lit;);le(z,k,K)}function Fe(z,K){var ge,ye,te,Ee=K.dyn_tree,xe=K.stat_desc.static_tree,Se=K.stat_desc.has_stree,De=K.stat_desc.elems,et=-1;for(z.heap_len=0,z.heap_max=C,ge=0;ge<De;ge++)Ee[2*ge]!==0?(z.heap[++z.heap_len]=et=ge,z.depth[ge]=0):Ee[2*ge+1]=0;for(;z.heap_len<2;)Ee[2*(te=z.heap[++z.heap_len]=et<2?++et:0)]=1,z.depth[te]=0,z.opt_len--,Se&&(z.static_len-=xe[2*te+1]);for(K.max_code=et,ge=z.heap_len>>1;1<=ge;ge--)st(z,Ee,ge);for(te=De;ge=z.heap[1],z.heap[1]=z.heap[z.heap_len--],st(z,Ee,1),ye=z.heap[1],z.heap[--z.heap_max]=ge,z.heap[--z.heap_max]=ye,Ee[2*te]=Ee[2*ge]+Ee[2*ye],z.depth[te]=(z.depth[ge]>=z.depth[ye]?z.depth[ge]:z.depth[ye])+1,Ee[2*ge+1]=Ee[2*ye+1]=te,z.heap[1]=te++,st(z,Ee,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],(function(Je,Ft){var Tn,Xt,Un,rt,Mt,Kt,ft=Ft.dyn_tree,Ki=Ft.max_code,Pl=Ft.stat_desc.static_tree,Bl=Ft.stat_desc.has_stree,ti=Ft.stat_desc.extra_bits,H=Ft.stat_desc.extra_base,oe=Ft.stat_desc.max_length,ve=0;for(rt=0;rt<=M;rt++)Je.bl_count[rt]=0;for(ft[2*Je.heap[Je.heap_max]+1]=0,Tn=Je.heap_max+1;Tn<C;Tn++)oe<(rt=ft[2*ft[2*(Xt=Je.heap[Tn])+1]+1]+1)&&(rt=oe,ve++),ft[2*Xt+1]=rt,Ki<Xt||(Je.bl_count[rt]++,Mt=0,H<=Xt&&(Mt=ti[Xt-H]),Kt=ft[2*Xt],Je.opt_len+=Kt*(rt+Mt),Bl&&(Je.static_len+=Kt*(Pl[2*Xt+1]+Mt)));if(ve!==0){do{for(rt=oe-1;Je.bl_count[rt]===0;)rt--;Je.bl_count[rt]--,Je.bl_count[rt+1]+=2,Je.bl_count[oe]--,ve-=2}while(0<ve);for(rt=oe;rt!==0;rt--)for(Xt=Je.bl_count[rt];Xt!==0;)Ki<(Un=Je.heap[--Tn])||(ft[2*Un+1]!==rt&&(Je.opt_len+=(rt-ft[2*Un+1])*ft[2*Un],ft[2*Un+1]=rt),Xt--)}})(z,K),Ie(Ee,et,z.bl_count)}function x(z,K,ge){var ye,te,Ee=-1,xe=K[1],Se=0,De=7,et=4;for(xe===0&&(De=138,et=3),K[2*(ge+1)+1]=65535,ye=0;ye<=ge;ye++)te=xe,xe=K[2*(ye+1)+1],++Se<De&&te===xe||(Se<et?z.bl_tree[2*te]+=Se:te!==0?(te!==Ee&&z.bl_tree[2*te]++,z.bl_tree[2*B]++):Se<=10?z.bl_tree[2*q]++:z.bl_tree[2*X]++,Ee=te,et=(Se=0)===xe?(De=138,3):te===xe?(De=6,3):(De=7,4))}function he(z,K,ge){var ye,te,Ee=-1,xe=K[1],Se=0,De=7,et=4;for(xe===0&&(De=138,et=3),ye=0;ye<=ge;ye++)if(te=xe,xe=K[2*(ye+1)+1],!(++Se<De&&te===xe)){if(Se<et)for(;le(z,te,z.bl_tree),--Se!=0;);else te!==0?(te!==Ee&&(le(z,te,z.bl_tree),Se--),le(z,B,z.bl_tree),W(z,Se-3,2)):Se<=10?(le(z,q,z.bl_tree),W(z,Se-3,3)):(le(z,X,z.bl_tree),W(z,Se-11,7));Ee=te,et=(Se=0)===xe?(De=138,3):te===xe?(De=6,3):(De=7,4)}}g(fe);var se=!1;function G(z,K,ge,ye){W(z,(m<<1)+(ye?1:0),3),(function(te,Ee,xe,Se){Ue(te),$(te,xe),$(te,~xe),c.arraySet(te.pending_buf,te.window,Ee,xe,te.pending),te.pending+=xe})(z,K,ge)}r._tr_init=function(z){se||((function(){var K,ge,ye,te,Ee,xe=new Array(M+1);for(te=ye=0;te<v-1;te++)for(ue[te]=ye,K=0;K<1<<F[te];K++)w[ye++]=te;for(w[ye-1]=te,te=Ee=0;te<16;te++)for(fe[te]=Ee,K=0;K<1<<re[te];K++)ie[Ee++]=te;for(Ee>>=7;te<T;te++)for(fe[te]=Ee<<7,K=0;K<1<<re[te]-7;K++)ie[256+Ee++]=te;for(ge=0;ge<=M;ge++)xe[ge]=0;for(K=0;K<=143;)be[2*K+1]=8,K++,xe[8]++;for(;K<=255;)be[2*K+1]=9,K++,xe[9]++;for(;K<=279;)be[2*K+1]=7,K++,xe[7]++;for(;K<=287;)be[2*K+1]=8,K++,xe[8]++;for(Ie(be,S+1,xe),K=0;K<T;K++)L[2*K+1]=5,L[2*K]=Te(K,5);Y=new J(be,F,_+1,S,M),Z=new J(L,re,0,T,M),_e=new J(new Array(0),O,0,A,D)})(),se=!0),z.l_desc=new R(z.dyn_ltree,Y),z.d_desc=new R(z.dyn_dtree,Z),z.bl_desc=new R(z.bl_tree,_e),z.bi_buf=0,z.bi_valid=0,Le(z)},r._tr_stored_block=G,r._tr_flush_block=function(z,K,ge,ye){var te,Ee,xe=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=(function(Se){var De,et=4093624447;for(De=0;De<=31;De++,et>>>=1)if(1&et&&Se.dyn_ltree[2*De]!==0)return d;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return h;for(De=32;De<_;De++)if(Se.dyn_ltree[2*De]!==0)return h;return d})(z)),Fe(z,z.l_desc),Fe(z,z.d_desc),xe=(function(Se){var De;for(x(Se,Se.dyn_ltree,Se.l_desc.max_code),x(Se,Se.dyn_dtree,Se.d_desc.max_code),Fe(Se,Se.bl_desc),De=A-1;3<=De&&Se.bl_tree[2*ce[De]+1]===0;De--);return Se.opt_len+=3*(De+1)+5+5+4,De})(z),te=z.opt_len+3+7>>>3,(Ee=z.static_len+3+7>>>3)<=te&&(te=Ee)):te=Ee=ge+5,ge+4<=te&&K!==-1?G(z,K,ge,ye):z.strategy===4||Ee===te?(W(z,2+(ye?1:0),3),Re(z,be,L)):(W(z,4+(ye?1:0),3),(function(Se,De,et,Je){var Ft;for(W(Se,De-257,5),W(Se,et-1,5),W(Se,Je-4,4),Ft=0;Ft<Je;Ft++)W(Se,Se.bl_tree[2*ce[Ft]+1],3);he(Se,Se.dyn_ltree,De-1),he(Se,Se.dyn_dtree,et-1)})(z,z.l_desc.max_code+1,z.d_desc.max_code+1,xe+1),Re(z,z.dyn_ltree,z.dyn_dtree)),Le(z),ye&&Ue(z)},r._tr_tally=function(z,K,ge){return z.pending_buf[z.d_buf+2*z.last_lit]=K>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&K,z.pending_buf[z.l_buf+z.last_lit]=255&ge,z.last_lit++,K===0?z.dyn_ltree[2*ge]++:(z.matches++,K--,z.dyn_ltree[2*(w[ge]+_+1)]++,z.dyn_dtree[2*U(K)]++),z.last_lit===z.lit_bufsize-1},r._tr_align=function(z){W(z,2,3),le(z,k,be),(function(K){K.bi_valid===16?($(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(z)}},{"../utils/common":41}],53:[function(l,a,r){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,a,r){(function(c){(function(d,h){if(!d.setImmediate){var g,m,v,_,S=1,T={},A=!1,C=d.document,M=Object.getPrototypeOf&&Object.getPrototypeOf(d);M=M&&M.setTimeout?M:d,g={}.toString.call(d.process)==="[object process]"?function(B){process.nextTick(function(){D(B)})}:(function(){if(d.postMessage&&!d.importScripts){var B=!0,q=d.onmessage;return d.onmessage=function(){B=!1},d.postMessage("","*"),d.onmessage=q,B}})()?(_="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",k,!1):d.attachEvent("onmessage",k),function(B){d.postMessage(_+B,"*")}):d.MessageChannel?((v=new MessageChannel).port1.onmessage=function(B){D(B.data)},function(B){v.port2.postMessage(B)}):C&&"onreadystatechange"in C.createElement("script")?(m=C.documentElement,function(B){var q=C.createElement("script");q.onreadystatechange=function(){D(B),q.onreadystatechange=null,m.removeChild(q),q=null},m.appendChild(q)}):function(B){setTimeout(D,0,B)},M.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var q=new Array(arguments.length-1),X=0;X<q.length;X++)q[X]=arguments[X+1];var F={callback:B,args:q};return T[S]=F,g(S),S++},M.clearImmediate=N}function N(B){delete T[B]}function D(B){if(A)setTimeout(D,0,B);else{var q=T[B];if(q){A=!0;try{(function(X){var F=X.callback,re=X.args;switch(re.length){case 0:F();break;case 1:F(re[0]);break;case 2:F(re[0],re[1]);break;case 3:F(re[0],re[1],re[2]);break;default:F.apply(h,re)}})(q)}finally{N(B),A=!1}}}}function k(B){B.source===d&&typeof B.data=="string"&&B.data.indexOf(_)===0&&D(+B.data.slice(_.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Qa<"u"?Qa:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Eu)),Eu.exports}var ux=rx();const cx=ku(ux);let bu=null,Fi=null;const fx=()=>(bu||(bu=new(window.AudioContext||window.webkitAudioContext)),bu),Sm=i=>{Fi&&(Fi.pause(),Fi.currentTime=0),i&&(Fi=new Audio(i),Fi.loop=!0,Fi.volume=.4,Fi.load())},wt=i=>{try{const t=fx();t.state==="suspended"&&t.resume().catch(()=>{});const l=t.createOscillator(),a=t.createGain();l.connect(a),a.connect(t.destination);const r=t.currentTime;switch(i){case"click":l.type="sine",l.frequency.setValueAtTime(800,r),l.frequency.exponentialRampToValueAtTime(1200,r+.05),a.gain.setValueAtTime(.05,r),a.gain.exponentialRampToValueAtTime(.001,r+.05),l.start(r),l.stop(r+.05);break;case"examine":l.type="triangle",l.frequency.setValueAtTime(400,r),l.frequency.linearRampToValueAtTime(300,r+.1),a.gain.setValueAtTime(.03,r),a.gain.linearRampToValueAtTime(0,r+.1),l.start(r),l.stop(r+.1);break;case"open":l.type="triangle",l.frequency.setValueAtTime(300,r),l.frequency.linearRampToValueAtTime(500,r+.1),a.gain.setValueAtTime(.05,r),a.gain.linearRampToValueAtTime(0,r+.1),l.start(r),l.stop(r+.1);break;case"pickup":l.type="sine",l.frequency.setValueAtTime(440,r),l.frequency.linearRampToValueAtTime(880,r+.15),a.gain.setValueAtTime(.05,r),a.gain.linearRampToValueAtTime(0,r+.2),l.start(r),l.stop(r+.2);const c=t.createOscillator(),d=t.createGain();c.connect(d),d.connect(t.destination),c.type="square",c.frequency.setValueAtTime(220,r),c.frequency.linearRampToValueAtTime(440,r+.15),d.gain.setValueAtTime(.02,r),d.gain.linearRampToValueAtTime(0,r+.2),c.start(r),c.stop(r+.2);break;case"error":l.type="sawtooth",l.frequency.setValueAtTime(150,r),l.frequency.linearRampToValueAtTime(100,r+.2),a.gain.setValueAtTime(.05,r),a.gain.linearRampToValueAtTime(0,r+.2),l.start(r),l.stop(r+.2);break;case"success":[523.25,659.25,783.99,1046.5].forEach((T,A)=>{const C=t.createOscillator(),M=t.createGain();C.connect(M),M.connect(t.destination),C.type="triangle",C.frequency.value=T,M.gain.setValueAtTime(.05,r+A*.08),M.gain.exponentialRampToValueAtTime(.001,r+A*.08+.3),C.start(r+A*.08),C.stop(r+A*.08+.3)});break;case"transition":l.type="sine",l.frequency.setValueAtTime(100,r),l.frequency.exponentialRampToValueAtTime(50,r+.4),a.gain.setValueAtTime(.08,r),a.gain.linearRampToValueAtTime(0,r+.4),l.start(r),l.stop(r+.4);const g=t.sampleRate*.1,m=t.createBuffer(1,g,t.sampleRate),v=m.getChannelData(0);for(let T=0;T<g;T++)v[T]=Math.random()*2-1;const _=t.createBufferSource();_.buffer=m;const S=t.createGain();S.gain.value=.05,S.gain.exponentialRampToValueAtTime(.001,r+.1),_.connect(S),S.connect(t.destination),_.start(r);break}}catch(t){console.error("Audio error",t)}},Tm=i=>new Promise((t,l)=>{const a=new Image;a.crossOrigin="Anonymous",a.onload=()=>{const r=document.createElement("canvas");r.width=a.width,r.height=a.height;const c=r.getContext("2d");if(!c){l("No context");return}c.drawImage(a,0,0);const d=c.getImageData(0,0,r.width,r.height),h=d.data;for(let g=0;g<h.length;g+=4){const m=h[g],v=h[g+1],_=h[g+2];m>230&&v>230&&_>230&&(h[g+3]=0)}c.putImageData(d,0,0),t(r.toDataURL("image/png"))},a.onerror=l,a.src=i}),zo=(i,t,l,a="cover")=>new Promise((r,c)=>{const d=new Image;d.crossOrigin="Anonymous",d.onload=()=>{const h=document.createElement("canvas");h.width=t,h.height=l;const g=h.getContext("2d");if(!g){c("No context");return}let m,v,_,S;if(a==="cover"){const T=Math.max(t/d.width,l/d.height);m=d.width*T,v=d.height*T,_=(t-m)/2,S=(l-v)/2}else{const T=Math.min(t/d.width,l/d.height);m=d.width*T,v=d.height*T,_=(t-m)/2,S=(l-v)/2}g.clearRect(0,0,t,l),g.drawImage(d,_,S,m,v),r(h.toDataURL("image/png"))},d.onerror=c,d.src=i}),eg=i=>{var m,v;if(!i||!i.initialState||!i.scenes)return{steps:[" : "],hasWon:!1};const t=[],l=new Set(Object.keys(i.initialState.flags||{}).filter(_=>i.initialState.flags[_])),a=new Set(i.initialState.inventory||[]),r=new Set;let c=!1,d=new Set([i.initialState.currentSceneId]),h=!0,g=0;for(;h&&g<100&&!c;){h=!1,g++;const _=Array.from(d);for(;_.length>0;){const S=_.shift(),T=i.scenes[S];if(!T)continue;let A=S;if(T.conditionalVariant){const M=T.conditionalVariant;let N=!0;M.requiredItemId&&!a.has(M.requiredItemId)&&(N=!1),M.requiredFlag&&!l.has(M.requiredFlag)&&(N=!1),N&&(A=M.targetSceneId,d.has(A)||(d.add(A),_.push(A),h=!0))}const C=i.scenes[A];C&&(C.exits||[]).forEach(M=>{const N=M.locked&&(!M.requiredFlag||!l.has(M.requiredFlag)),D=M.requiredFlag&&!l.has(M.requiredFlag);!N&&!D&&(d.has(M.targetSceneId)||(d.add(M.targetSceneId),_.push(M.targetSceneId),h=!0))})}for(const S of d){const T=i.scenes[S];if(T){for(const A of T.interactables||[]){const C=`${S}-${A.id}`;if(r.has(C)||A.hiddenIfFlag&&l.has(A.hiddenIfFlag)||A.requiredFlag&&!l.has(A.requiredFlag))continue;const M=A.requiredItemId,N=!M||a.has(M),D=A.itemRewardId,k=A.flagReward||A.isPuzzle&&i.puzzles&&((m=i.puzzles[A.puzzleId])==null?void 0:m.rewardFlag),B=A.winsGame||A.itemRewardId==="mysterious_artifact";if((D||k||B)&&N){if(r.add(C),h=!0,A.flagReward&&!l.has(A.flagReward)){l.add(A.flagReward);const q=M?(v=i.items[M])==null?void 0:v.name:"Hand";t.push(` [${T.title}]  [${q||""}]  "${A.name}" ->  "${A.flagReward}"`)}if(A.isPuzzle&&A.puzzleId&&i.puzzles){const q=i.puzzles[A.puzzleId];q&&!l.has(q.rewardFlag)&&(l.add(q.rewardFlag),t.push(` [${T.title}]  "${A.name}" (: ${q.answer}) ->  "${q.rewardFlag}"`))}if(A.itemRewardId&&!a.has(A.itemRewardId)){a.add(A.itemRewardId);const q=`found_${A.itemRewardId}`;l.add(q),A.hiddenIfFlag&&l.add(A.hiddenIfFlag);const X=i.items[A.itemRewardId];t.push(` [${T.title}]  "${A.name}"  [${(X==null?void 0:X.name)||A.itemRewardId}]`)}if(B){t.push(` [${T.title}]  "${A.name}"  ->  (Game Won)`),c=!0;break}}}if(c)break}}}return c||t.push("  ( 'winsGame' )"),{steps:t,hasWon:c}},dx=i=>{const{meta:t,initialState:l,scenes:a,items:r,puzzles:c}=i;return`
    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
    <head><meta charset='utf-8'><title>${t.name} - </title>
    <style>
        body { font-family: 'SimSun', '', serif; line-height: 1.5; }
        h1 { text-align: center; color: #333; }
        h2 { border-bottom: 2px solid #333; padding-bottom: 5px; margin-top: 30px; }
        h3 { background-color: #eee; padding: 5px; margin-top: 20px; }
        .section { margin-bottom: 20px; }
        .item-block, .scene-block { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }
        .label { font-weight: bold; color: #555; }
        .dialogue { font-style: italic; color: #004400; margin-left: 20px; }
        .condition { color: #880000; font-size: 0.9em; }
    </style>
    </head><body>
    
    <h1>${t.name} - </h1>
    
    <div class="section">
        <h2>1.  (Metadata)</h2>
        <p><span class="label">:</span> ${t.name}</p>
        <p><span class="label">:</span> ${t.author}</p>
        <p><span class="label">:</span> ${t.version}</p>
        <p><span class="label">:</span> ${t.description}</p>
    </div>

    <div class="section">
        <h2>2.  (Intro Story)</h2>
        <ul>
            ${l.log.map(h=>`<li>${h}</li>`).join("")}
        </ul>
    </div>

    <div class="section">
        <h2>3.  (Items)</h2>
        ${Object.values(r).map(h=>`
            <div class="item-block">
                <p><span class="label">:</span> ${h.name} (ID: ${h.id})</p>
                <p><span class="label">:</span> ${h.description}</p>
                <p><span class="label">:</span> ${h.type}</p>
            </div>
        `).join("")}
    </div>

    <div class="section">
        <h2>4.  (Puzzles)</h2>
        ${c?Object.values(c).map(h=>`
            <div class="item-block">
                <p><span class="label">ID:</span> ${h.id}</p>
                <p><span class="label">:</span> ${h.description}</p>
                <p><span class="label">:</span> ${h.answer}</p>
                <p><span class="label">:</span> ${h.rewardMessage}</p>
            </div>
        `).join(""):"<p></p>"}
    </div>

    <div class="section">
        <h2>5.  (Scenes & Interactions)</h2>
        ${Object.values(a).map(h=>`
            <div class="scene-block">
                <h3>: ${h.title} (ID: ${h.id})</h3>
                <p><span class="label">:</span> ${h.description}</p>
                
                <h4> (Interactables):</h4>
                ${h.interactables.map(g=>`
                    <div style="margin-left: 20px; border-left: 3px solid #ddd; padding-left: 10px; margin-bottom: 10px;">
                        <p><span class="label">:</span> ${g.name}</p>
                        <p><span class="label">:</span> ${g.description}</p>
                        ${g.dialogue?`<p class="label">:</p>${g.dialogue.map(m=>`<div class="dialogue">"${m}"</div>`).join("")}`:""}
                        ${g.lockedMessage?`<p><span class="label">:</span> ${g.lockedMessage}</p>`:""}
                        ${g.requiredItemId?`<p class="condition">[] : ${g.requiredItemId}</p>`:""}
                        ${g.isPuzzle?`<p class="condition">[] : ${g.puzzleId}</p>`:""}
                        ${g.winsGame?'<p style="color:red; font-weight:bold;">[] </p>':""}
                    </div>
                `).join("")}

                <h4> (Exits):</h4>
                <ul>
                ${h.exits.map(g=>`
                    <li>
                         [${g.label}] (Target: ${g.targetSceneId}) 
                        ${g.locked?"()":""}
                        ${g.requiredFlag?`[: ${g.requiredFlag}]`:""}
                    </li>
                `).join("")}
                </ul>
            </div>
        `).join("")}
    </div>

    <div style="text-align: center; margin-top: 50px; color: #999; font-size: 12px;">
        Generated by Shadow Truth Engine
    </div>

    </body></html>
    `},Yi=({src:i,fallback:t,className:l,alt:a,onLoadError:r})=>{const[c,d]=ke.useState(!1);ke.useEffect(()=>{d(!1)},[i]);const h=()=>{d(!0),r&&r()};return!i||i.length===0||c?b.jsx(b.Fragment,{children:t}):b.jsx("img",{src:i,alt:a||"Asset",className:l,onError:h})},hx=({onStart:i,meta:t,marketing:l})=>{const a=t.useBannerAsTitleBg&&(l==null?void 0:l.bannerUrl);return b.jsxs("div",{className:"absolute inset-0 z-[100] bg-black flex flex-col items-center justify-center overflow-hidden",children:[a?b.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-opacity duration-1000",style:{backgroundImage:`url(${l.bannerUrl})`,opacity:.6}}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#1e1e1e_0%,#000000_100%)] opacity-50"}),b.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20 animate-pulse-slow"})]}),a&&b.jsx("div",{className:"absolute inset-0 bg-black/60"}),b.jsxs("div",{className:"z-10 text-center flex flex-col items-center gap-8 p-8 max-w-2xl w-full",children:[b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-amber-600 font-typewriter tracking-widest drop-shadow-[0_4px_10px_rgba(0,0,0,0.8)] border-b-2 border-amber-900/50 pb-4 leading-tight",children:t.name||""}),b.jsx("span",{className:"text-slate-500 font-mono tracking-[0.5em] text-sm uppercase",children:t.version?`v${t.version}`:""})]}),b.jsx("p",{className:"text-slate-400 text-lg italic max-w-md leading-relaxed",children:t.description||""}),b.jsxs("button",{onClick:i,className:"mt-8 px-12 py-4 border border-amber-600 text-amber-500 text-xl font-bold hover:bg-amber-900/20 hover:text-amber-400 hover:scale-105 transition-all duration-300 uppercase tracking-widest group relative overflow-hidden",children:[b.jsx("span",{className:"relative z-10",children:""}),b.jsx("div",{className:"absolute inset-0 bg-amber-600/10 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"})]}),b.jsxs("div",{className:"mt-12 text-slate-600 text-xs font-mono",children:[" 2025 ",t.author||"Unknown"," | "]})]})]})},px=({logs:i})=>{const[t,l]=ke.useState(null),a=ke.useRef(null);return ke.useEffect(()=>{if(i.length===0)return;const r=i[i.length-1];return l(r),a.current&&window.clearTimeout(a.current),a.current=window.setTimeout(()=>{l(null)},3500),()=>{a.current&&window.clearTimeout(a.current)}},[i]),t?b.jsx("div",{className:"absolute bottom-32 left-0 w-full pointer-events-none z-40 flex justify-center",children:b.jsx("div",{className:"bg-black/60 backdrop-blur-md border border-amber-900/30 px-6 py-3 rounded-lg max-w-xl text-center animate-fade-in shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:b.jsx("p",{className:"text-lg font-typewriter text-amber-100 tracking-wide drop-shadow-md",children:t})})}):null},mx=({items:i,selectedItemId:t,onSelectItem:l})=>b.jsxs("div",{className:"bg-slate-900/95 border-t border-slate-700 p-2 h-24 flex items-center gap-4 overflow-x-auto z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.5)]",children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold mr-2 pl-2",children:""}),i.length===0&&b.jsx("span",{className:"text-slate-600 text-sm italic",children:""}),i.map(a=>b.jsx("button",{onClick:()=>l(a.id),className:`
            relative flex-shrink-0 w-16 h-16 rounded border-2 flex items-center justify-center bg-slate-800 transition-all overflow-hidden group
            ${t===a.id?"border-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.5)] scale-105":"border-slate-600 hover:border-slate-400"}
          `,title:a.name,children:b.jsx(Yi,{src:a.image,alt:a.name,className:"w-full h-full object-contain p-1 group-hover:scale-110 transition-transform",fallback:b.jsx("span",{className:"text-3xl",children:a.icon})})},a.id))]}),gx=({interactables:i,onInteract:t})=>b.jsx(b.Fragment,{children:i.map(l=>b.jsx("button",{onClick:()=>t(l),className:"absolute border border-transparent hover:border-amber-500/30 transition-all duration-300 cursor-pointer group flex items-center justify-center rounded-lg",style:{left:`${l.x}%`,top:`${l.y}%`,width:`${l.width}%`,height:`${l.height}%`,zIndex:5,transformStyle:"preserve-3d",transform:`rotate(${l.rotation||0}deg) rotateY(${l.rotationY||0}deg)`},"aria-label":l.name,children:b.jsx("div",{className:"relative w-full h-full flex items-center justify-center transition-all duration-300",style:{filter:`brightness(${l.brightness??1}) drop-shadow(0 0 5px rgba(0,0,0,0.5))`},children:b.jsx(Yi,{src:l.image,alt:l.name,className:"w-full h-full object-fill pointer-events-none select-none",fallback:l.icon?b.jsx("div",{className:"text-4xl filter drop-shadow-[0_0_10px_rgba(255,255,255,0.3)] transition-transform",children:l.icon}):b.jsx("div",{className:"w-full h-full bg-white/0 hover:bg-white/5"})})})},l.id))}),yx=({scene:i,onUpdateInteractable:t})=>{const l=ke.useRef(null),[a,r]=ke.useState(null),[c,d]=ke.useState(null),h=(m,v,_,S)=>{m.stopPropagation(),m.preventDefault(),r(v),d({id:v,type:_,startX:m.clientX,startY:m.clientY,startValX:S.x,startValY:S.y,startValW:S.width,startValH:S.height,startRot:S.rotation||0,startRotY:S.rotationY||0})};ke.useEffect(()=>{const m=_=>{if(!c||!l.current)return;const S=l.current.getBoundingClientRect(),T=_.clientX-c.startX,A=_.clientY-c.startY,C=T/S.width*100,M=A/S.height*100;if(c.type==="move")t(c.id,{x:Number(Math.max(0,Math.min(100,c.startValX+C)).toFixed(1)),y:Number(Math.max(0,Math.min(100,c.startValY+M)).toFixed(1))});else if(c.type==="resize-w")t(c.id,{width:Number(Math.max(2,c.startValW+C).toFixed(1))});else if(c.type==="resize-h")t(c.id,{height:Number(Math.max(2,c.startValH+M).toFixed(1))});else if(c.type==="resize")t(c.id,{width:Number(Math.max(2,c.startValW+C).toFixed(1)),height:Number(Math.max(2,c.startValH+M).toFixed(1))});else if(c.type==="rotate-2d"){const D=T-A,k=Math.round(c.startRot+D*.5);t(c.id,{rotation:k})}else if(c.type==="rotate-3d"){const D=Math.round(c.startRotY+T*.5),k=Math.max(-85,Math.min(85,D));t(c.id,{rotationY:k})}},v=()=>{d(null)};return c&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}},[c,t]);const g=i.interactables.find(m=>m.id===a);return b.jsxs("div",{ref:l,className:"absolute inset-0 z-50 pointer-events-none",style:{transformStyle:"preserve-3d"},children:[b.jsx("div",{className:"absolute top-2 right-2 bg-black/80 text-amber-500 p-2 text-xs font-mono pointer-events-auto border border-amber-500/50 rounded",children:" (T)"}),g&&b.jsxs("div",{className:"absolute top-14 right-4 bg-slate-900/90 border border-slate-600 p-3 rounded z-50 pointer-events-auto w-56 text-xs text-slate-300 shadow-xl backdrop-blur-sm max-h-[80vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-slate-700",children:[b.jsx("span",{className:"font-bold text-amber-500 truncate w-32",children:g.name}),b.jsx("button",{onClick:()=>r(null),className:"text-slate-400 hover:text-white",children:""})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between mb-1",children:[b.jsx("label",{children:""}),b.jsx("span",{className:"text-yellow-400",children:g.brightness??1})]}),b.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:g.brightness??1,onChange:m=>t(g.id,{brightness:parseFloat(m.target.value)}),className:"w-full accent-yellow-500 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between mb-1",children:[b.jsx("label",{children:" (2D)"}),b.jsxs("span",{className:"text-amber-500",children:[g.rotation||0,""]})]}),b.jsx("input",{type:"range",min:"-180",max:"180",value:g.rotation||0,onChange:m=>t(g.id,{rotation:parseInt(m.target.value)}),className:"w-full accent-amber-600 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between mb-1",children:[b.jsx("label",{children:" (Y 3D)"}),b.jsxs("span",{className:"text-blue-500",children:[g.rotationY||0,""]})]}),b.jsx("input",{type:"range",min:"-90",max:"90",value:g.rotationY||0,onChange:m=>t(g.id,{rotationY:parseInt(m.target.value)}),className:"w-full accent-blue-600 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-slate-700",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] text-slate-500",children:"X Position %"}),b.jsx("input",{type:"number",value:g.x,onChange:m=>t(g.id,{x:Number(m.target.value)}),className:"w-full bg-black border border-slate-700 rounded px-1 py-1 text-right text-green-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] text-slate-500",children:"Y Position %"}),b.jsx("input",{type:"number",value:g.y,onChange:m=>t(g.id,{y:Number(m.target.value)}),className:"w-full bg-black border border-slate-700 rounded px-1 py-1 text-right text-green-500"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] text-slate-500",children:"Width %"}),b.jsx("input",{type:"number",value:g.width,onChange:m=>t(g.id,{width:Number(m.target.value)}),className:"w-full bg-black border border-slate-700 rounded px-1 py-1 text-right text-green-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] text-slate-500",children:"Height %"}),b.jsx("input",{type:"number",value:g.height,onChange:m=>t(g.id,{height:Number(m.target.value)}),className:"w-full bg-black border border-slate-700 rounded px-1 py-1 text-right text-green-500"})]})]})]})]}),i.interactables.map(m=>b.jsxs("div",{className:`absolute border-2 border-dashed pointer-events-auto cursor-move group transition-transform flex items-center justify-center ${a===m.id?"border-amber-400 bg-amber-500/20 z-50":"border-slate-500/50 hover:border-amber-500/50"}`,style:{left:`${m.x}%`,top:`${m.y}%`,width:`${m.width}%`,height:`${m.height}%`,transformStyle:"preserve-3d",transform:`rotate(${m.rotation||0}deg) rotateY(${m.rotationY||0}deg)`},onMouseDown:v=>h(v,m.id,"move",m),children:[b.jsx("div",{className:"pointer-events-none w-full h-full flex items-center justify-center relative",style:{filter:`brightness(${m.brightness??1})`},children:b.jsx(Yi,{src:m.image,alt:m.name,className:"w-full h-full object-fill filter drop-shadow-[0_0_4px_rgba(255,255,255,0.2)]",fallback:b.jsx("span",{className:"text-3xl filter drop-shadow-[0_0_5px_rgba(255,255,255,0.2)]",children:m.icon||""})})}),a===m.id&&b.jsx("span",{className:"absolute -top-6 left-0 bg-amber-500 text-black text-xs px-1 font-bold whitespace-nowrap z-50",children:m.name}),b.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-amber-500 cursor-se-resize hover:scale-125 transition-transform z-10",onMouseDown:v=>h(v,m.id,"resize",m),title:"Resize (Scale)"}),b.jsx("div",{className:"absolute top-1/2 right-0 w-2 h-6 -translate-y-1/2 bg-amber-500/50 cursor-e-resize hover:bg-amber-500 z-10",onMouseDown:v=>h(v,m.id,"resize-w",m),title:"Resize Width"}),b.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-6 h-2 bg-amber-500/50 cursor-s-resize hover:bg-amber-500 z-10",onMouseDown:v=>h(v,m.id,"resize-h",m),title:"Resize Height"}),b.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-blue-500 rounded-full cursor-grab hover:scale-125 transition-transform z-20 shadow-sm border border-white/20 flex items-center justify-center text-[8px] text-white font-bold",onMouseDown:v=>h(v,m.id,"rotate-2d",m),title:"Rotate 2D",children:""}),b.jsx("div",{className:"absolute -bottom-2 -left-2 w-5 h-5 bg-green-500 rounded-full cursor-ew-resize hover:scale-125 transition-transform z-20 shadow-sm border border-white/20 flex items-center justify-center text-[8px] text-white font-bold",onMouseDown:v=>h(v,m.id,"rotate-3d",m),title:"Rotate 3D (Y-Axis)",children:"3D"})]},m.id))]})},vx=({gameData:i})=>{const[t,l]=ke.useState([]);return ke.useEffect(()=>{var _;if(!i||!i.scenes||!i.initialState){l([" "]);return}const a=[],{scenes:r,items:c,initialState:d}=i,h=Object.keys(r);r[d.currentSceneId]||a.push(`  ID "${d.currentSceneId}" `);const g=new Set;Object.values(r).forEach(S=>{var T;(T=S.conditionalVariant)!=null&&T.requiredItemId&&g.add(S.conditionalVariant.requiredItemId),(S.interactables||[]).forEach(A=>{A.requiredItemId&&g.add(A.requiredItemId),A.itemRewardId&&g.add(A.itemRewardId)})}),g.forEach(S=>{(!c||!c[S])&&a.push(`  ID "${S}"`)});const m=new Set,v=[d.currentSceneId];for(m.add(d.currentSceneId);v.length>0;){const S=v.shift(),T=r[S];T&&((T.exits||[]).forEach(A=>{!m.has(A.targetSceneId)&&r[A.targetSceneId]&&(m.add(A.targetSceneId),v.push(A.targetSceneId))}),(_=T.conditionalVariant)!=null&&_.targetSceneId&&!m.has(T.conditionalVariant.targetSceneId)&&r[T.conditionalVariant.targetSceneId]&&(m.add(T.conditionalVariant.targetSceneId),v.push(T.conditionalVariant.targetSceneId)))}h.forEach(S=>{m.has(S)||a.push(`  "${S}" (${r[S].title}) `)}),a.length===0?l([" "]):l(a)},[i]),b.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-4 rounded text-sm font-mono overflow-y-auto max-h-[300px]",children:[b.jsx("h4",{className:"text-amber-500 font-bold mb-2 border-b border-slate-700 pb-1",children:""}),b.jsx("ul",{className:"space-y-1",children:t.map((a,r)=>b.jsx("li",{className:a.includes("")?"text-red-400":a.includes("")?"text-orange-300":"text-slate-400",children:a},r))})]})},_x=({gameData:i})=>{const[t,l]=ke.useState(null);if(ke.useEffect(()=>{if(!i||!i.scenes||!i.initialState)return;const{scenes:T,initialState:A}=i,C=A.currentSceneId;if(!T[C])return;const M=120,N=60,D=60,k=60,B=M+D,q=N+k,X=new Map,F=[],re=[{id:C,gx:0,gy:0}];X.set(C,{x:0,y:0,id:C,title:T[C].title});const O=new Set;for(;re.length>0;){const{id:w,gx:ue,gy:Y}=re.shift();if(O.has(w))continue;O.add(w);const Z=T[w];Z&&(Z.exits||[]).forEach(_e=>{var Te;let fe=0,J=0;_e.direction==="north"?J=-1:_e.direction==="south"?J=1:_e.direction==="west"?fe=-1:_e.direction==="east"&&(fe=1);const R=ue+fe,U=Y+J,$=_e.targetSceneId;X.has($)||(X.set($,{x:R*B,y:U*q,id:$,title:((Te=T[$])==null?void 0:Te.title)||$}),re.push({id:$,gx:R,gy:U}));const W=X.get(w),le=X.get($);F.push({x1:W.x,y1:W.y,x2:le.x,y2:le.y,dir:_e.direction,locked:!!_e.locked})})}const ce=Array.from(X.values());if(ce.length===0)return;const be=ce.map(w=>w.x),L=ce.map(w=>w.y),ie={minX:Math.min(...be),maxX:Math.max(...be),minY:Math.min(...L),maxY:Math.max(...L)};l({nodes:ce,links:F,bounds:ie})},[i]),!t)return b.jsx("div",{className:"text-slate-500 p-4 border border-slate-700 rounded h-full flex items-center justify-center",children:"..."});const{nodes:a,links:r,bounds:c}=t,d=60,h=120,g=60,m=c.maxX-c.minX+h+d*2,v=c.maxY-c.minY+g+d*2,_=-c.minX+d,S=-c.minY+d;return b.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-4 rounded overflow-hidden flex flex-col col-span-1 md:col-span-2 aspect-square",children:[b.jsx("h4",{className:"text-blue-500 font-bold mb-2 border-b border-slate-700 pb-1",children:" (World Map)"}),b.jsx("div",{className:"overflow-auto bg-slate-950/50 rounded border border-slate-800 relative flex-1 w-full h-full scrollbar-thin scrollbar-thumb-slate-700",children:b.jsxs("svg",{width:m,height:v,className:"block",children:[b.jsxs("defs",{children:[b.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:b.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#64748b"})}),b.jsx("marker",{id:"arrowhead-locked",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:b.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#ef4444"})})]}),b.jsxs("g",{transform:`translate(${_}, ${S})`,children:[r.map((T,A)=>{const C=T.x1+h/2,M=T.y1+g/2,N=T.x2+h/2,D=T.y2+g/2;let k=N,B=D;return Math.abs(N-C)>Math.abs(D-M)?N>C?k=N-h/2:k=N+h/2:D>M?B=D-g/2:B=D+g/2,b.jsx("g",{children:b.jsx("line",{x1:C,y1:M,x2:k,y2:B,stroke:T.locked?"#ef4444":"#475569",strokeWidth:"2",markerEnd:T.locked?"url(#arrowhead-locked)":"url(#arrowhead)",strokeDasharray:T.locked?"4":"0"})},A)}),a.map(T=>{const A=i.initialState.currentSceneId===T.id;return b.jsxs("g",{transform:`translate(${T.x}, ${T.y})`,children:[b.jsx("rect",{width:h,height:g,rx:"4",fill:A?"rgba(245, 158, 11, 0.1)":"#1e293b",stroke:A?"#f59e0b":"#334155",strokeWidth:A?2:1,className:"transition-colors duration-300"}),b.jsx("foreignObject",{width:h,height:g,style:{pointerEvents:"none"},children:b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-1",children:[b.jsx("div",{className:`text-[10px] font-bold leading-tight line-clamp-1 ${A?"text-amber-500":"text-slate-300"}`,children:T.title}),b.jsx("div",{className:"text-[8px] text-slate-500 font-mono mt-0.5 truncate w-full px-1",children:T.id})]})})]},T.id)})]})]})}),b.jsxs("div",{className:"text-[9px] text-slate-500 mt-2 flex justify-between items-center px-1",children:[b.jsx("span",{children:"*  N/S/E/W "}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"w-2 h-2 bg-slate-800 border border-amber-500 rounded-sm"})," "]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"w-2 h-2 bg-slate-700 rounded-sm"})," "]})]})]})]})},Sx=({gameData:i})=>{const[t,l]=ke.useState([]);return ke.useEffect(()=>{const{steps:a}=eg(i);l(a)},[i]),b.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-4 rounded overflow-auto max-h-[400px] col-span-1 md:col-span-2",children:[b.jsx("h4",{className:"text-green-500 font-bold mb-2 border-b border-slate-700 pb-1",children:" (Walkthrough Simulator)"}),b.jsx("p",{className:"text-xs text-slate-500 mb-2",children:""}),b.jsx("div",{className:"space-y-1 font-mono text-xs",children:t.map((a,r)=>b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("span",{className:"text-slate-600 min-w-[20px]",children:[r+1,"."]}),b.jsx("span",{className:a.includes("")?"text-red-400 font-bold":a.includes("")?"text-yellow-400 font-bold":"text-slate-300",children:a})]},r))})]})},Em=({gameData:i,setGameData:t,setGameState:l,onClose:a,onApplyAsset:r})=>{const[c,d]=ke.useState("settings"),[h,g]=ke.useState(null),[m,v]=ke.useState({}),[_,S]=ke.useState(!0),[T,A]=ke.useState(null),[C,M]=ke.useState(null),[N,D]=ke.useState(""),[k,B]=ke.useState(""),[q,X]=ke.useState({sceneCount:4,itemCount:4,puzzleCount:1,requiredItems:"",requiredScenes:""}),[F,re]=ke.useState("gemini-2.5-flash-image"),[O,ce]=ke.useState(""),[be,L]=ke.useState(""),[ie,w]=ke.useState(null),[ue,Y]=ke.useState(null),[Z,_e]=ke.useState("Dark ambient, horror, eerie drone, slow tempo"),[fe,J]=ke.useState(i.meta.bgmUrl||"");ke.useEffect(()=>{var H,oe,ve,we;(oe=(H=i.marketing)==null?void 0:H.iconUrl)!=null&&oe.startsWith("data:")&&w(i.marketing.iconUrl),(we=(ve=i.marketing)==null?void 0:ve.bannerUrl)!=null&&we.startsWith("data:")&&Y(i.marketing.bannerUrl)},[]);const[R,U]=ke.useState({icon:"",banner:""}),[$,W]=ke.useState(""),[le,Te]=ke.useState(new Set),[Ie,Le]=ke.useState([]),Ue=ke.useRef(null),at=i.scenes,st=i.items;ke.useEffect(()=>{Ue.current&&(Ue.current.scrollTop=Ue.current.scrollHeight)},[Ie,c]);const Re=H=>{const oe=new Date().toLocaleTimeString();Le(ve=>[`[${oe}] ${H}`,...ve.slice(0,99)])},Fe=H=>{M({type:"alert",message:H,onConfirm:()=>M(null)})},x=(H,oe)=>{M({type:"confirm",message:H,onConfirm:()=>{oe(),M(null)},onCancel:()=>M(null)})},he=(H,oe)=>{if(!oe){Fe("");return}const ve=document.createElement("a");ve.href=oe,ve.download=H,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),Re(` Downloaded: ${H}`)},se=(H,oe,ve)=>{const we=H==="scene"?$m(oe,ve):Wm(oe,ve);navigator.clipboard.writeText(we).then(()=>{Fe(`
 AI `),Re(` Copied prompt for: ${oe}`)}).catch(He=>{console.error("Copy failed",He),Fe("")})},G=async()=>{var Ve,yt;const H=new cx,oe=H.folder("assets"),ve=JSON.parse(JSON.stringify(i)),we=[],He=async(Ge,tt,vt)=>{if(!tt||tt.trim()===""){we.push(`${vt}: ${Ge} (Image Not Generated/Set)`);return}const qt=`${vt==="icon"||vt==="banner"?"game":vt}_${Ge}.png`;let An=!1,wn=tt;if(tt.startsWith("data:")){try{vt==="scene"||vt==="banner"?wn=await zo(tt,1920,1080):vt==="item"?wn=await zo(tt,512,512,"contain"):vt==="icon"&&(wn=await zo(tt,512,512))}catch{}const bt=wn.split(",")[1];bt&&(oe==null||oe.file(qt,bt,{base64:!0}),An=!0)}else if(tt.startsWith("./assets/")||tt.startsWith("http"))try{const bt=await fetch(tt,{method:"GET"});if(bt.ok){const _t=await bt.blob();oe==null||oe.file(qt,_t),An=!0}else we.push(`${vt}: ${Ge} (404 Not Found)`)}catch{we.push(`${vt}: ${Ge} (Fetch Error)`)}else tt.length>0&&we.push(`${vt}: ${Ge} (Invalid Source)`);return An?`./assets/${qt}`:tt};for(const Ge of Object.values(ve.scenes)){const tt=await He(Ge.id,Ge.imageUrl,"scene");tt&&(Ge.imageUrl=tt);for(const vt of Ge.interactables)if(vt.image){const qt=await He(`${Ge.id}_${vt.id}`,vt.image,"item");qt&&(vt.image=qt)}}for(const Ge of Object.values(ve.items)){const tt=await He(Ge.id,Ge.image,"item");tt&&(Ge.image=tt)}if(ie?await He("icon_512",ie,"icon"):(Ve=ve.marketing)!=null&&Ve.iconUrl||we.push("Marketing: Icon (Missing)"),ue?await He("banner_1080",ue,"banner"):(yt=ve.marketing)!=null&&yt.bannerUrl||we.push("Marketing: Banner (Missing)"),ve.marketing={iconUrl:ie?"./assets/game_icon_512.png":"",bannerUrl:ue?"./assets/game_banner_1080.png":""},fe)try{Re(" Downloading BGM for export...");const Ge=await fetch(fe);if(Ge.ok){const tt=await Ge.blob();oe==null||oe.file("bgm.mp3",tt),ve.meta.bgmUrl="./assets/bgm.mp3",Re(" BGM included in zip.")}else we.push("BGM (Download Failed)")}catch(Ge){we.push("BGM (Network Error)"),console.error("BGM Export Error",Ge)}oe==null||oe.file("game.json",JSON.stringify(ve,null,2));try{const Ge=dx(i);H.file("game_script_audit.doc",Ge)}catch{}const Pe=await H.generateAsync({type:"blob"}),Be=(i.meta.name||"game").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_"),Ce=(i.meta.author||"unknown").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");return{blob:Pe,filename:`${Be}-${Ce}.zip`,missingAssets:we}},z=async()=>{g("ZIPPING"),Re(" Zipping package...");try{const H=await G();if(H){const oe=window.URL.createObjectURL(H.blob),ve=document.createElement("a");ve.href=oe,ve.download=H.filename,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),window.URL.revokeObjectURL(oe),H.missingAssets.length>0?(Re(" Package downloaded but with missing assets."),Fe(` ()

${H.missingAssets.slice(0,5).join(`
`)}${H.missingAssets.length>5?`
...`:""}`)):Re(" Download started.")}}catch(H){console.error(H),Fe("")}finally{g(null)}},K=async()=>{const H=[],{meta:oe,scenes:ve,items:we}=i;if((!oe.name||oe.name.trim()==="")&&H.push(""),(!oe.author||oe.author.trim()==="")&&H.push(""),(!oe.description||oe.description.trim()==="")&&H.push(""),ie||H.push(" App Icon ()"),ue||H.push(" Banner ()"),eg(i).hasWon||H.push(" ()"),H.length>0){Fe(` 

`+H.map(Ce=>" "+Ce).join(`
`));return}const Pe=window.location.protocol==="https:",Be="http://zeros.group:8864/api/upload";Pe&&Re(" Warning: Protocol Mismatch (HTTPS -> HTTP). Browser may block upload."),x(Pe?`  HTTPS  HTTP
 (Mixed Content)

 http:// 

`:" Zeros Universe ",async()=>{g("UPLOADING"),Re(" Preparing upload package and validating assets...");try{const Ce=await G();if(!Ce)throw new Error("Zip creation failed");if(Ce.missingAssets.length>0)throw new Error(` ${Ce.missingAssets.length} 


:
${Ce.missingAssets.slice(0,3).join(`
`)}...`);const Ve=new FormData;Ve.append("file",Ce.blob,Ce.filename),Re(` Uploading to ${Be}...`);const yt=await fetch(Be,{method:"POST",body:Ve,mode:"cors"});if(!yt.ok)throw new Error(`Server responded with ${yt.status} ${yt.statusText}`);const Ge=await yt.json();if(Ge.code===200)Re(" Upload Successful!"),Fe(` 

: ${Ce.filename}
: ${(Ce.blob.size/1024).toFixed(2)} KB
ID: ${Ge.data.file_id}`);else throw new Error(Ge.message||"Unknown server error")}catch(Ce){console.error(Ce);let Ve=Ce.message;Ce.message==="Failed to fetch"&&(Pe?Ve+=`

[]  (Mixed Content) 
 HTTPS  HTTP 


1.  HTTP  (http://localhost...)
2. `:Ve+=`

[]  CORS 
 (zeros.group:8864) `),Re(` Upload failed: ${Ve}`),Fe(`: ${Ve}`)}finally{g(null)}})},ge=()=>{if(!T)return;const{id:H,name:oe,desc:ve}=T;t(we=>{const He={...we};return He.items[H]&&(He.items[H]={...He.items[H],name:oe,description:ve}),He.scenes[H]&&(He.scenes[H]={...He.scenes[H],title:oe,description:ve}),Object.keys(He.scenes).forEach(Pe=>{He.scenes[Pe].interactables=He.scenes[Pe].interactables.map(Be=>Be.id===H?{...Be,name:oe,description:ve}:Be)}),He}),Re(` Updated asset text for: ${oe}`),A(null)},ye=H=>{console.error(H);let oe=H.toString();if(H.message&&(oe=H.message),H.response&&H.response.data)try{oe+=` | Raw Server Error: ${JSON.stringify(H.response.data)}`}catch{}Re(` ERROR: ${oe}`),oe.includes("403")||oe.includes("PERMISSION_DENIED")?Fe(`API  (403 Permission Denied)

: ${oe}


1.  API Key  Imagen/Vertex AI 
2.  Google Cloud Imagen 
3. 

 API Key  'Gemini 2.5 Flash' `):Fe(`

: ${oe}

Base URL  ( /v1 )  Key `)},te=async()=>{if(window.aistudio)try{await window.aistudio.openSelectKey(),Fe("API Key Updated! System will now use the new key."),Re(" System API Key updated.")}catch(H){console.error(H),Fe("Failed to open key selector.")}else Fe("API Key selection not supported in this environment.")},Ee=()=>{const H=`${jm}

USER REQUEST: Generate a game with this theme: ${N||"(No theme specified)"}
STYLE: ${k}`;navigator.clipboard.writeText(H).then(()=>{Fe(`System Prompt + User Input

 ChatGPT (o1/4o), Claude 3.5 Sonnet,  DeepSeek R1  JSON `),Re(" Prompt copied to clipboard.")}).catch(oe=>{console.error("Failed to copy",oe),Fe("")})};ke.useEffect(()=>{U({icon:vm("icon",i.meta.name,i.meta.description,k),banner:vm("promo",i.meta.name,i.meta.description,k)})},[i.meta.name,i.meta.description,k]);const xe=H=>{if(F==="vectorengine-flash")return H==="image"?Dl.IMAGE_FLASH:Dl.TEXT;if(F==="vectorengine-pro")return H==="image"?Dl.IMAGE_PRO:Dl.TEXT;if(be&&be.trim().length>0)return be.trim()},Se=()=>F==="vectorengine-flash"||F==="vectorengine-pro"?"vectorengine-custom":F,De=async(H,oe,ve)=>{const we=xe("image"),He=Se();Re(` Requesting Scene: "${oe}" (${He})`);try{const Pe=await nx(oe,ve,He,O,we);if(Pe){const Be=await zo(Pe,1280,720);v(Ce=>({...Ce,[H]:Be})),Te(Ce=>{const Ve=new Set(Ce);return Ve.delete(H),Ve}),Re(` Scene "${oe}" generated successfully.`),_&&(r(H,"scene",Be),Re(` Auto-applied scene: ${oe}`))}return Pe}catch(Pe){return ye(Pe),null}},et=async(H,oe,ve)=>{const we=xe("image"),He=Se();Re(` Requesting Item: "${oe}" (${He})`);try{const Pe=await ix(oe,ve,He,O,we);let Be=Pe;if(Pe){try{Re(` Removing background for "${oe}"...`),Be=await Tm(Pe),Be=await zo(Be,512,512,"contain"),v(Ce=>({...Ce,[H]:Be})),Te(Ce=>{const Ve=new Set(Ce);return Ve.delete(H),Ve}),Re(` Item "${oe}" generated and processed.`)}catch{v(Ve=>({...Ve,[H]:Pe})),Re(` Background removal failed for "${oe}", using raw image.`)}Be&&_&&(r(H,"item",Be),Re(` Auto-applied item: ${oe}`))}return Be}catch(Pe){return ye(Pe),null}},Je=async(H,oe,ve)=>{g(H),await De(H,oe,ve),g(null)},Ft=async(H,oe,ve)=>{g(H),await et(H,oe,ve),g(null)},Tn=async H=>{const oe=H==="icon"?R.icon:R.banner,ve=H==="icon"?"1:1":"16:9";g(`marketing-${H}`);const we=xe("image"),He=Se();Re(` Requesting Marketing (${H})`);const Pe=await lx(oe,ve,He,O,we);Pe?(H==="icon"?(w(Pe),r("marketing-icon","marketing",Pe)):(Y(Pe),r("marketing-banner","marketing",Pe)),Re(` Marketing asset (${H}) generated.`)):(Re(" Generation returned null. Check console for details."),Fe(" API Key ")),g(null)},Xt=async()=>{g("MUSIC");try{const H=await ox(Z,O,oe=>W(oe));H&&(J(H),t(oe=>({...oe,meta:{...oe.meta,bgmUrl:H}})),Re(" Music Generated!"),Sm(H),wt("success"))}catch(H){Re(`Error: ${H.message}`),Fe(`: ${H.message}`)}finally{g(null),W("")}},Un=H=>{var ve;const oe=(ve=H.target.files)==null?void 0:ve[0];if(oe){const we=new FileReader;we.onload=He=>{var Be;const Pe=(Be=He.target)==null?void 0:Be.result;J(Pe),t(Ce=>({...Ce,meta:{...Ce.meta,bgmUrl:Pe}})),Sm(Pe),Re(" Music Uploaded (Base64).")},we.readAsDataURL(oe)}},rt=async()=>{g("RANDOM_CONCEPT"),Re(" Generating random game concept...");const H=xe("text"),oe=await ax(O,H);oe?(D(oe.theme),X(ve=>({...ve,requiredItems:oe.items.join(", "),requiredScenes:oe.scenes.join(", ")})),Re(" Random concept generated."),wt("success")):(Re(" Failed to generate random concept."),Fe(" Key")),g(null)},Mt=async()=>{if(!N.trim()){Fe("");return}x("",async()=>{g("GAME_CONFIG");const H=xe("text");Re(" Generating New Game Config...");const oe={sceneCount:q.sceneCount,itemCount:q.itemCount,puzzleCount:q.puzzleCount,requiredItems:q.requiredItems.split(/[,\n]/).map(we=>we.trim()).filter(we=>we.length>0),requiredScenes:q.requiredScenes.split(/[,\n]/).map(we=>we.trim()).filter(we=>we.length>0)},ve=await sx(N,k,oe,O,H);ve?(t(ve),l&&l(ve.initialState),v({}),Te(new Set),w(null),Y(null),Re(` New Game "${ve.meta.name}" Loaded!`),Fe(` "${ve.meta.name}" 
AI `)):(Re(" Game Config Generation Failed."),Fe(" API Key")),g(null)})},Kt=async()=>{if(c==="marketing"||c==="settings"||c==="analysis"||c==="designer"||c==="logs"||c==="help")return;let H=[];if(c==="scenes")H=Object.values(at).map(we=>({id:we.id,name:we.title,desc:we.description,originalImage:we.imageUrl,type:"scene"})).filter(we=>!m[we.id]&&(!we.originalImage||le.has(we.id)));else{const we=Object.values(st).map(Ce=>({id:Ce.id,name:Ce.name,desc:Ce.description,originalImage:Ce.image,type:"item"})),Pe=Object.values(at).flatMap(Ce=>{var Ve;return((Ve=Ce.interactables)==null?void 0:Ve.map(yt=>({id:yt.id,name:yt.name,desc:yt.description,originalImage:yt.image,type:"item"})))||[]});H=[...we,...Pe].filter((Ce,Ve,yt)=>yt.findIndex(Ge=>Ge.id===Ce.id)===Ve).filter(Ce=>!m[Ce.id]&&(!Ce.originalImage||le.has(Ce.id)))}if(H.length===0){Fe("");return}g("BATCH"),Re(` Starting Batch Generation (${H.length} items)...`);let oe=0;for(const ve of H)oe++,W(`(${oe}/${H.length}) ${ve.name}`),ve.type==="scene"?await De(ve.id,ve.name,ve.desc):await et(ve.id,ve.name,ve.desc),await new Promise(we=>setTimeout(we,1e3));g(null),W(""),Re(" Batch generation completed.")},ft=(H,oe,ve)=>{var Pe;const we=(Pe=H.target.files)==null?void 0:Pe[0];if(!we)return;const He=new FileReader;He.onload=async Be=>{var Ve;const Ce=(Ve=Be.target)==null?void 0:Ve.result;if(Re(` Uploading file for ${oe}...`),ve==="item")try{g(oe);const yt=await Tm(Ce);v(Ge=>({...Ge,[oe]:yt})),Te(Ge=>{const tt=new Set(Ge);return tt.delete(oe),tt}),Re(" Upload & BG Removal success."),_&&(r(oe,"item",yt),Re(` Auto-applied uploaded item: ${oe}`))}catch{v(Ge=>({...Ge,[oe]:Ce})),Re(" BG Removal failed, using original."),_&&(r(oe,"item",Ce),Re(` Auto-applied uploaded item: ${oe}`))}finally{g(null)}else ve==="scene"?(v(yt=>({...yt,[oe]:Ce})),Te(yt=>{const Ge=new Set(yt);return Ge.delete(oe),Ge}),Re(" Scene uploaded."),_&&(r(oe,"scene",Ce),Re(` Auto-applied uploaded scene: ${oe}`))):ve==="marketing-icon"?(w(Ce),r("marketing-icon","marketing",Ce)):ve==="marketing-banner"&&(Y(Ce),r("marketing-banner","marketing",Ce))},He.readAsDataURL(we)},Ki=H=>{var we;const oe=(we=H.target.files)==null?void 0:we[0];if(!oe)return;const ve=new FileReader;ve.onload=He=>{var Pe;try{const Be=JSON.parse((Pe=He.target)==null?void 0:Pe.result);Be&&Be.meta&&Be.scenes?x(` "${Be.meta.name}" `,()=>{t(Be),l&&l(Be.initialState),Re(` Imported game: ${Be.meta.name}`),a()}):Fe(" (Invalid game.json)")}catch{Fe("JSON ")}},ve.readAsText(oe)},Pl=H=>{const oe=H.target.files;if(!oe||oe.length===0)return;const ve=Array.from(oe),we=ve.find(Pe=>Pe.name==="game.json"||Pe.name.endsWith("/game.json")||Pe.webkitRelativePath.endsWith("game.json"));if(!we){Fe(" game.json ");return}const He=new FileReader;He.onload=async Pe=>{var Be;try{const Ce=JSON.parse((Be=Pe.target)==null?void 0:Be.result);Ce&&Ce.meta&&Ce.scenes?x(` "${Ce.meta.name}"
 ${ve.length} 
`,async()=>{var An,wn;g("IMPORTING"),Re(" Importing folder package...");const Ve=new Map,yt=ve.filter(bt=>bt.type.startsWith("image/"));await Promise.all(yt.map(bt=>new Promise(_t=>{const mt=new FileReader;mt.onload=Ze=>{var Pt;if((Pt=Ze.target)!=null&&Pt.result){const Nn=Ze.target.result;Ve.set(bt.name.toLowerCase().trim(),Nn)}_t()},mt.readAsDataURL(bt)})));const Ge=(bt,_t)=>{var mt;if(bt){const Ze=(mt=bt.split("/").pop())==null?void 0:mt.toLowerCase().trim();if(Ze&&Ve.has(Ze))return Ve.get(Ze)}if(_t){const Ze=_t.toLowerCase(),Pt=[`scene_${Ze}.png`,`scene_${Ze}.jpg`,`scene_${Ze}.jpeg`,`item_${Ze}.png`,`item_${Ze}.jpg`,`item_${Ze}.jpeg`,`${Ze}.png`,`${Ze}.jpg`,`${Ze}.jpeg`,`game_${Ze}.png`];for(const Nn of Pt)if(Ve.has(Nn))return Ve.get(Nn)}return bt};let tt=0;for(const bt in Ce.scenes){const _t=Ce.scenes[bt],mt=_t.imageUrl,Ze=Ge(_t.imageUrl,bt);if(Ze&&Ze!==mt&&(_t.imageUrl=Ze,tt++),_t.interactables){for(const Pt of _t.interactables)if(Pt.image){const Nn=Pt.image,Hl=Ge(Pt.image,Pt.id);Hl&&Hl!==Nn&&(Pt.image=Hl,tt++)}}}for(const bt in Ce.items){const _t=Ce.items[bt],mt=_t.image,Ze=Ge(_t.image,bt);Ze&&Ze!==mt&&(_t.image=Ze,tt++)}let vt=Ge((An=Ce.marketing)==null?void 0:An.iconUrl,"icon")||Ge(void 0,"icon_512")||Ge(void 0,"icon"),qt=Ge((wn=Ce.marketing)==null?void 0:wn.bannerUrl,"banner")||Ge(void 0,"banner_1080")||Ge(void 0,"banner");!vt&&Ve.has("icon.png")&&(vt=Ve.get("icon.png")),!qt&&Ve.has("banner.png")&&(qt=Ve.get("banner.png")),Ce.marketing||(Ce.marketing={}),vt&&(Ce.marketing.iconUrl=vt,w(vt)),qt&&(Ce.marketing.bannerUrl=qt,Y(qt)),t(Ce),l&&l(Ce.initialState),v({}),Te(new Set),g(null),a(),Re(` Import successful. Updated ${tt} assets from ${Ve.size} loaded files.`),Fe(`
 ${Ve.size} 
 ${tt} 
(Icon/Banner status: ${vt?"Found":"Missing"} / ${qt?"Found":"Missing"})`)}):Fe("")}catch(Ce){console.error(Ce),Fe(""),g(null)}},He.readAsText(we)},Bl=Object.values(st).map(H=>({id:H.id,name:H.name,desc:H.description,type:"item"})).concat(Object.values(at).flatMap(H=>{var oe;return((oe=H.interactables)==null?void 0:oe.map(ve=>({id:ve.id,name:ve.name,desc:ve.description,type:"interactable"})))||[]})).filter((H,oe,ve)=>ve.findIndex(we=>we.id===H.id)===oe),ti=[{id:"settings",label:""},{id:"help",label:""},{id:"designer",label:""},{id:"scenes",label:""},{id:"items",label:""},{id:"marketing",label:""},{id:"music",label:""},{id:"analysis",label:""},{id:"logs",label:""}];return b.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-950/95 backdrop-blur-md flex flex-col text-slate-300 font-sans text-sm",children:[b.jsxs("div",{className:"bg-slate-900 border-b border-slate-700 p-3 flex justify-between items-center shadow-lg z-10",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("h2",{className:"text-amber-500 font-bold font-mono text-lg flex items-center gap-2",children:[b.jsx("span",{children:""})," "]}),b.jsx("div",{className:"flex bg-slate-800 rounded p-1 border border-slate-700 overflow-x-auto",children:ti.map(H=>b.jsx("button",{onClick:()=>d(H.id),className:`px-3 py-1 text-xs uppercase tracking-wide rounded transition-all whitespace-nowrap ${c===H.id?"bg-amber-600 text-white shadow-md":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:H.label},H.id))})]}),b.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white text-xl px-2",children:""})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 relative bg-slate-950",children:[c==="help"&&b.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in text-slate-300",children:[b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-amber-500 mb-4 border-b border-slate-700 pb-2",children:" API Key (VectorEngine)"}),b.jsxs("div",{className:"space-y-4 text-sm leading-relaxed",children:[b.jsx("p",{children:" AI  VectorEngine"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[b.jsxs("li",{children:["",b.jsx("a",{href:"https://api.vectorengine.ai/register?aff=yDAF",target:"_blank",className:"text-blue-400 hover:underline",children:"https://api.vectorengine.ai/register?aff=yDAF"})]}),b.jsxs("li",{children:[" ",b.jsx("strong",{children:""}),"  ",b.jsx("strong",{children:"API "}),""]}),b.jsxs("li",{children:[" ",b.jsx("strong",{children:""}),"  ",b.jsx("span",{className:"text-green-400 font-bold",children:""}),""]}),b.jsxs("li",{children:[" ",b.jsx("code",{children:"sk-"})," "]}),b.jsxs("li",{children:[" ",b.jsx("button",{onClick:()=>d("settings"),className:"text-amber-500 underline",children:""}),"  ",b.jsx("strong",{children:" API Key"})," "]}),b.jsxs("li",{children:[" ",b.jsx("strong",{children:"VectorEngine Flash"})," ( 0.04)  ",b.jsx("strong",{children:"Pro"})," ( 0.15)"]})]})]})]}),b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-4 border-b border-slate-700 pb-2",children:" API"}),b.jsxs("div",{className:"space-y-4 text-sm leading-relaxed",children:[b.jsx("p",{children:" API Key"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[b.jsxs("li",{children:[" ",b.jsx("button",{onClick:()=>d("scenes"),className:"text-blue-400 underline",children:""}),"  ",b.jsx("button",{onClick:()=>d("items"),className:"text-blue-400 underline",children:""})," "]}),b.jsxs("li",{children:[" ",b.jsx("span",{className:"inline-block bg-slate-700 px-1 rounded text-xs",children:" "})," "]}),b.jsx("li",{children:" AI  Midjourney, Stable Diffusion, DALL-E 3 "}),b.jsx("li",{children:""}),b.jsxs("li",{children:[" ",b.jsx("span",{className:"inline-block bg-slate-700 px-1 rounded text-xs",children:" "})," "]})]})]})]}),b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:""}),b.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2 text-sm",children:[b.jsxs("li",{children:[" ",b.jsx("strong",{children:""})," "]}),b.jsxs("li",{children:[" ",b.jsx("strong",{children:""}),"  ",b.jsx("strong",{children:""})," "]}),b.jsxs("li",{children:[" ",b.jsx("strong",{children:""}),"  Icon  Banner"]}),b.jsxs("li",{children:[" ",b.jsx("strong",{children:""}),"  Zeros "]}),b.jsx("li",{children:""})]})]})]}),c==="settings"&&b.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:" (Game Metadata)"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Title)"}),b.jsx("input",{type:"text",value:i.meta.name,onChange:H=>t(oe=>({...oe,meta:{...oe.meta,name:H.target.value}})),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Author)"}),b.jsx("input",{type:"text",value:i.meta.author,onChange:H=>t(oe=>({...oe,meta:{...oe.meta,author:H.target.value}})),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Version)"}),b.jsx("input",{type:"text",value:i.meta.version,onChange:H=>t(oe=>({...oe,meta:{...oe.meta,version:H.target.value}})),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Description)"}),b.jsx("textarea",{value:i.meta.description,onChange:H=>t(oe=>({...oe,meta:{...oe.meta,description:H.target.value}})),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none h-24 resize-none"})]})]})]}),b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:"AI  (Gemini API)"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-2 font-bold",children:" (Image Gen Model)"}),b.jsxs("select",{value:F,onChange:H=>re(H.target.value),className:"w-full bg-black border border-slate-700 p-3 rounded text-slate-200 focus:border-amber-500 outline-none",children:[b.jsx("option",{value:"gemini-2.5-flash-image",children:"Google Official (Flash)"}),b.jsx("option",{value:"gemini-3-pro-image-preview",children:"Google Official (Pro)"}),b.jsx("option",{value:"vectorengine-flash",children:"VectorEngine Flash ()"}),b.jsx("option",{value:"vectorengine-pro",children:"VectorEngine Pro ()"})]}),b.jsx("p",{className:"text-[10px] text-slate-500 mt-2",children:"*  VectorEngine  Text Model "})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-xs uppercase text-slate-500 mb-2 font-bold",children:[" API Key () ",b.jsx("button",{onClick:te,className:"text-amber-500 hover:underline ml-2",children:"[Google ]"})]}),b.jsx("input",{type:"password",placeholder:" / Google Auth",value:O,onChange:H=>ce(H.target.value),className:"w-full bg-black border border-slate-700 p-3 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),b.jsxs("div",{className:"col-span-1 md:col-span-2",children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-2 font-bold",children:" (Base URL)"}),b.jsx("input",{type:"text",placeholder:": https://my-proxy.com/v1beta ...",value:be,onChange:H=>L(H.target.value),className:"w-full bg-black border border-slate-700 p-3 rounded text-slate-200 focus:border-amber-500 outline-none font-mono text-xs"})]})]})]}),b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:" (Export)"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:z,disabled:!!h,className:"flex-1 bg-amber-700 hover:bg-amber-600 text-white font-bold py-4 rounded shadow-lg transition-transform hover:scale-[1.01] active:scale-[0.99] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h==="ZIPPING"?"...":"  (ZIP)"}),b.jsx("button",{onClick:K,disabled:!!h,className:"flex-1 bg-blue-700 hover:bg-blue-600 text-white font-bold py-4 rounded shadow-lg transition-transform hover:scale-[1.01] active:scale-[0.99] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h==="UPLOADING"?"...":"  Zeros "})]}),b.jsxs("p",{className:"text-xs text-slate-500 mt-4 text-center leading-relaxed",children:["Game JSON  +  + ",b.jsx("br",{}),b.jsx("span",{className:"text-slate-600",children:" Zeros ZerosTap"})]})]}),b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4 border-b border-slate-700 pb-2",children:" (Import)"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"relative group cursor-pointer border-2 border-dashed border-slate-600 hover:border-amber-500 rounded p-4 text-center transition-colors",children:[b.jsx("span",{className:"text-slate-400 group-hover:text-amber-500",children:"  game.json"}),b.jsx("input",{type:"file",accept:".json",onChange:Ki,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),b.jsxs("div",{className:"relative group cursor-pointer border-2 border-dashed border-slate-600 hover:border-amber-500 rounded p-4 text-center transition-colors",children:[b.jsx("span",{className:"text-slate-400 group-hover:text-amber-500",children:"  assets "}),b.jsx("input",{type:"file",webkitdirectory:"",directory:"",onChange:Pl,className:"absolute inset-0 opacity-0 cursor-pointer"})]})]})]})]}),c==="designer"&&b.jsx("div",{className:"max-w-4xl mx-auto space-y-6 animate-fade-in",children:b.jsxs("div",{className:"bg-gradient-to-r from-purple-900/40 to-blue-900/40 border border-slate-700 p-6 rounded",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-typewriter",children:"AI "}),b.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"AI "}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" / "}),b.jsx("textarea",{value:N,onChange:H=>D(H.target.value),placeholder:"2077...",className:"w-full bg-black border border-slate-600 p-4 rounded text-slate-100 h-32 focus:border-blue-500 outline-none resize-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Art Style)"}),b.jsx("textarea",{value:k,onChange:H=>B(H.target.value),placeholder:"...",className:"w-full bg-black border border-slate-600 p-4 rounded text-slate-100 h-32 focus:border-amber-500 outline-none resize-none"})]})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:""}),b.jsx("input",{type:"number",value:q.sceneCount,onChange:H=>X({...q,sceneCount:parseInt(H.target.value)}),className:"w-full bg-black border border-slate-700 p-2 rounded text-center"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:""}),b.jsx("input",{type:"number",value:q.itemCount,onChange:H=>X({...q,itemCount:parseInt(H.target.value)}),className:"w-full bg-black border border-slate-700 p-2 rounded text-center"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:""}),b.jsx("input",{type:"number",value:q.puzzleCount,onChange:H=>X({...q,puzzleCount:parseInt(H.target.value)}),className:"w-full bg-black border border-slate-700 p-2 rounded text-center"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" ()"}),b.jsx("input",{type:"text",value:q.requiredItems,onChange:H=>X({...q,requiredItems:H.target.value}),placeholder:"e.g. , ",className:"w-full bg-black border border-slate-700 p-2 rounded text-xs"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" ()"}),b.jsx("input",{type:"text",value:q.requiredScenes,onChange:H=>X({...q,requiredScenes:H.target.value}),placeholder:"e.g. , ",className:"w-full bg-black border border-slate-700 p-2 rounded text-xs"})]})]}),b.jsxs("div",{className:"flex gap-4 pt-4 border-t border-white/10",children:[b.jsx("button",{onClick:rt,disabled:!!h,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors disabled:opacity-50",children:" "}),b.jsx("button",{onClick:Mt,disabled:!!h,className:"flex-[2] bg-gradient-to-r from-blue-700 to-purple-700 hover:from-blue-600 hover:to-purple-600 text-white py-3 rounded font-bold transition-all shadow-lg hover:shadow-blue-500/20 disabled:opacity-50",children:h==="GAME_CONFIG"?"...":"  ()"})]}),b.jsx("div",{className:"text-center pt-2",children:b.jsx("button",{onClick:Ee,className:"text-xs text-slate-500 hover:text-slate-300 underline",children:" Prompt  ( ChatGPT/Claude )"})})]})]})}),c==="scenes"&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in pb-20",children:[b.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 bg-slate-800 p-4 rounded mb-2 border border-slate-700 flex justify-between items-center",children:[b.jsx("div",{className:"text-slate-300 text-sm",children:h==="BATCH"?b.jsxs("span",{className:"text-amber-400 animate-pulse",children:[": ",$,"..."]}):b.jsxs("span",{children:[": ",b.jsx("span",{className:"text-amber-400 font-bold",children:Se()})]})}),b.jsxs("button",{onClick:Kt,disabled:!!h,className:"px-6 py-2 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold rounded shadow-lg disabled:opacity-50 flex items-center gap-2",children:[b.jsx("span",{children:""})," AI "]})]}),Object.values(at).map(H=>b.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg overflow-hidden flex flex-col group hover:border-slate-500 transition-colors",children:[b.jsxs("div",{className:"relative aspect-video bg-black/50",children:[b.jsx(Yi,{src:m[H.id]||H.imageUrl,alt:H.title,className:"w-full h-full object-cover",onLoadError:()=>Te(oe=>new Set(oe).add(H.id)),fallback:b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-600 gap-2",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsx("span",{className:"text-xs",children:"No Image"})]})}),b.jsxs("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>Je(H.id,H.title,H.description),disabled:!!h,className:"bg-amber-600 hover:bg-amber-500 text-white text-xs px-3 py-2 rounded font-bold",children:h===H.id?"...":"AI "}),b.jsxs("label",{className:"bg-slate-700 hover:bg-slate-600 text-white text-xs px-3 py-2 rounded font-bold cursor-pointer",children:["",b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:oe=>ft(oe,H.id,"scene")})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>se("scene",H.title,H.description),className:"bg-blue-600/80 hover:bg-blue-500 text-white text-[10px] px-2 py-1 rounded",title:"",children:" Prompt"}),b.jsx("button",{onClick:()=>he(`scene_${H.id}.png`,m[H.id]||H.imageUrl),className:"bg-green-600/80 hover:bg-green-500 text-white text-[10px] px-2 py-1 rounded",title:"",disabled:!m[H.id]&&!H.imageUrl,children:""})]})]}),(le.has(H.id)||!H.imageUrl&&!m[H.id])&&b.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full animate-pulse shadow-red-500/50 shadow-lg",title:"Missing Asset"})]}),b.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsx("h4",{className:"font-bold text-slate-200",children:H.title}),b.jsx("span",{className:"text-[10px] text-slate-500 font-mono bg-slate-800 px-1 rounded",children:H.id})]}),b.jsx("p",{className:"text-xs text-slate-400 line-clamp-2 flex-1 mb-2",children:H.description}),b.jsx("button",{onClick:()=>A({id:H.id,name:H.title,desc:H.description,type:"scene"}),className:"text-xs text-blue-400 hover:text-blue-300 text-left mt-auto",children:" "})]})]},H.id))]}),c==="items"&&b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 animate-fade-in pb-20",children:[b.jsxs("div",{className:"col-span-2 md:col-span-4 lg:col-span-5 bg-slate-800 p-4 rounded mb-2 border border-slate-700 flex justify-between items-center",children:[b.jsx("div",{className:"text-slate-300 text-sm",children:h==="BATCH"?b.jsxs("span",{className:"text-amber-400 animate-pulse",children:[": ",$,"..."]}):b.jsxs("span",{children:["/: ",b.jsx("span",{className:"text-amber-400 font-bold",children:Se()})]})}),b.jsxs("button",{onClick:Kt,disabled:!!h,className:"px-6 py-2 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold rounded shadow-lg disabled:opacity-50 flex items-center gap-2",children:[b.jsx("span",{children:""})," AI "]})]}),Bl.map(H=>{const oe=st[H.id],ve=Object.values(at).flatMap(Be=>Be.interactables).find(Be=>Be.id===H.id),we=m[H.id]||(oe==null?void 0:oe.image)||(ve==null?void 0:ve.image),He=le.has(H.id);m[H.id];const Pe=!!we&&!He;return b.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg overflow-hidden flex flex-col group hover:border-slate-500 transition-colors",children:[b.jsxs("div",{className:"relative aspect-square bg-slate-800/50 p-4",children:[b.jsx(Yi,{src:we,alt:H.name,className:"w-full h-full object-contain filter drop-shadow-lg",onLoadError:()=>Te(Be=>new Set(Be).add(H.id)),fallback:b.jsx("span",{className:"text-4xl w-full h-full flex items-center justify-center",children:""})}),b.jsxs("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2 p-2",children:[b.jsxs("div",{className:"w-full flex gap-1",children:[b.jsx("button",{onClick:()=>Ft(H.id,H.name,H.desc),disabled:!!h,className:"flex-1 bg-amber-600 hover:bg-amber-500 text-white text-[10px] px-1 py-1 rounded font-bold",children:h===H.id?"...":"AI"}),b.jsxs("label",{className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white text-[10px] px-1 py-1 rounded font-bold cursor-pointer text-center",children:["",b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Be=>ft(Be,H.id,"item")})]})]}),b.jsxs("div",{className:"w-full flex gap-1",children:[b.jsx("button",{onClick:()=>se("item",H.name,H.desc),className:"flex-1 bg-blue-600/80 hover:bg-blue-500 text-white text-[10px] px-1 py-1 rounded",title:"Prompt",children:""}),b.jsx("button",{onClick:()=>he(`item_${H.id}.png`,we),className:"flex-1 bg-green-600/80 hover:bg-green-500 text-white text-[10px] px-1 py-1 rounded",title:"",disabled:!we,children:""})]})]}),!Pe&&b.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full animate-pulse shadow-red-500/50 shadow-lg",title:"Missing Asset"})]}),b.jsxs("div",{className:"p-2 flex-1 flex flex-col text-center",children:[b.jsx("div",{className:"flex justify-center items-center gap-1 mb-1",children:b.jsx("span",{className:"font-bold text-slate-200 text-xs truncate",title:H.name,children:H.name})}),b.jsx("span",{className:"text-[9px] text-slate-500 font-mono bg-slate-800 px-1 rounded self-center mb-1",children:H.id}),b.jsx("button",{onClick:()=>A({id:H.id,name:H.name,desc:H.desc,type:"item"}),className:"text-[10px] text-blue-400 hover:text-blue-300 mt-auto",children:""})]})]},H.id)})]}),c==="marketing"&&b.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in pb-20",children:[b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-6 border-b border-slate-700 pb-2",children:" (App Icon 512x512)"}),b.jsxs("div",{className:"flex gap-6 items-start",children:[b.jsxs("div",{className:"w-32 h-32 bg-black rounded-xl overflow-hidden border border-slate-600 flex-shrink-0 relative group",children:[b.jsx(Yi,{src:ie||void 0,fallback:b.jsx("div",{className:"text-slate-600 text-xs w-full h-full flex items-center justify-center",children:"No Icon"}),className:"w-full h-full object-cover"}),b.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex flex-col items-center justify-center gap-2 transition-opacity",children:[b.jsxs("label",{className:"text-xs text-white cursor-pointer hover:text-amber-500",children:["",b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H=>ft(H,"icon","marketing-icon")})]}),ie&&b.jsx("button",{onClick:()=>he("game_icon.png",ie),className:"text-xs text-green-400 hover:text-green-300",children:" "})]})]}),b.jsxs("div",{className:"flex-1 space-y-2",children:[b.jsx("label",{className:"text-xs uppercase text-slate-500 font-bold",children:" (Icon Prompt)"}),b.jsx("textarea",{value:R.icon,onChange:H=>U({...R,icon:H.target.value}),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-300 text-xs h-20 resize-none"}),b.jsx("button",{onClick:()=>Tn("icon"),disabled:!!h,className:"bg-amber-600 hover:bg-amber-500 text-white px-4 py-2 rounded text-xs font-bold",children:h==="marketing-icon"?"...":""})]})]})]}),b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-6 border-b border-slate-700 pb-2",children:" Banner (1920x1080)"}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("div",{className:"w-full aspect-video bg-black rounded-lg overflow-hidden border border-slate-600 relative group",children:[b.jsx(Yi,{src:ue||void 0,fallback:b.jsx("div",{className:"text-slate-600 text-xs w-full h-full flex items-center justify-center",children:"No Banner"}),className:"w-full h-full object-cover"}),b.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex flex-col items-center justify-center gap-2 transition-opacity",children:[b.jsxs("label",{className:"text-xs text-white cursor-pointer hover:text-amber-500",children:["",b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H=>ft(H,"banner","marketing-banner")})]}),ue&&b.jsx("button",{onClick:()=>he("game_banner.png",ue),className:"text-xs text-green-400 hover:text-green-300",children:" "})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs uppercase text-slate-500 font-bold",children:"Banner  (Banner Prompt)"}),b.jsx("textarea",{value:R.banner,onChange:H=>U({...R,banner:H.target.value}),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-300 text-xs h-20 resize-none"}),b.jsx("button",{onClick:()=>Tn("banner"),disabled:!!h,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded text-xs font-bold",children:h==="marketing-banner"?"...":" Banner"})]})]})]})]}),c==="music"&&b.jsx("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in pb-20",children:b.jsxs("div",{className:"bg-slate-900 p-6 rounded border border-slate-700",children:[b.jsx("h3",{className:"text-lg font-bold text-amber-500 mb-4 border-b border-slate-700 pb-2",children:" (BGM)"}),b.jsx("p",{className:"text-slate-400 text-sm mb-4",children:" Suno AI  2-3 "}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase text-slate-500 mb-1",children:" (Prompt)"}),b.jsx("textarea",{value:Z,onChange:H=>_e(H.target.value),className:"w-full bg-black border border-slate-700 p-3 rounded text-slate-300 text-sm h-32 focus:border-amber-500 outline-none resize-none",placeholder:"e.g. Dark ambient horror soundscape, slow tempo, eerie strings, heavy drone..."})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:Xt,disabled:!!h,className:"flex-1 bg-gradient-to-r from-purple-700 to-indigo-700 hover:from-purple-600 hover:to-indigo-600 text-white py-3 rounded font-bold shadow-lg disabled:opacity-50",children:h==="MUSIC"?`... ${$}`:" AI  (Suno)"}),b.jsxs("label",{className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold shadow-lg cursor-pointer text-center flex items-center justify-center",children:[" ",b.jsx("input",{type:"file",accept:"audio/*",className:"hidden",onChange:Un})]})]})]}),b.jsx("div",{className:"bg-black/50 p-4 rounded border border-slate-700 flex flex-col items-center justify-center relative min-h-[200px]",children:fe?b.jsxs("div",{className:"w-full text-center space-y-4",children:[b.jsx("div",{className:"text-4xl animate-pulse-slow",children:""}),b.jsx("div",{className:"text-xs text-green-400 font-mono break-all px-2",children:fe.startsWith("data:")?"Local Data Audio":fe}),b.jsx("audio",{controls:!0,src:fe,className:"w-full mt-4",loop:!0}),b.jsxs("div",{className:"flex justify-center gap-2",children:[b.jsx("button",{onClick:()=>J(""),className:"text-xs text-red-400 hover:underline",children:""}),b.jsx("button",{onClick:()=>he("bgm.mp3",fe),className:"text-xs text-blue-400 hover:underline",children:" MP3"})]})]}):b.jsx("div",{className:"text-slate-500 text-sm",children:""})})]})]})}),c==="analysis"&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in pb-20",children:[b.jsx(vx,{gameData:i}),b.jsx(_x,{gameData:i}),b.jsx("div",{className:"col-span-1 md:col-span-2",children:b.jsx(Sx,{gameData:i})})]}),c==="logs"&&b.jsxs("div",{className:"max-w-4xl mx-auto h-[600px] bg-black border border-slate-700 rounded p-4 font-mono text-xs overflow-y-auto",ref:Ue,children:[Ie.length===0&&b.jsx("span",{className:"text-slate-600",children:"No logs yet..."}),Ie.map((H,oe)=>b.jsx("div",{className:"mb-1 border-b border-white/5 pb-1",children:b.jsx("span",{className:H.includes("ERROR")?"text-red-400":H.includes("")?"text-green-400":"text-slate-300",children:H})},oe))]}),T&&b.jsx("div",{className:"fixed inset-0 z-[70] bg-black/80 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-600 p-6 rounded-lg w-full max-w-md shadow-2xl",children:[b.jsx("h4",{className:"text-amber-500 font-bold mb-4",children:""}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:" (Name/Title)"}),b.jsx("input",{type:"text",value:T.name,onChange:H=>A({...T,name:H.target.value}),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:" (Description)"}),b.jsx("textarea",{value:T.desc,onChange:H=>A({...T,desc:H.target.value}),className:"w-full bg-black border border-slate-700 p-2 rounded text-slate-200 focus:border-amber-500 outline-none h-32 resize-none"})]}),b.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[b.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 text-slate-400 hover:text-white",children:""}),b.jsx("button",{onClick:ge,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded font-bold",children:""})]})]})]})}),C&&b.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-8 bg-black/60 backdrop-blur-sm animate-fade-in",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-600 p-6 rounded-lg shadow-2xl max-w-md w-full",children:[b.jsx("p",{className:"text-slate-200 text-sm whitespace-pre-wrap mb-6 leading-relaxed",children:C.message}),b.jsxs("div",{className:"flex justify-end gap-3",children:[C.type==="confirm"&&b.jsx("button",{onClick:C.onCancel,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded font-bold transition-colors",children:""}),b.jsx("button",{onClick:C.onConfirm,className:"px-6 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded font-bold transition-colors shadow-lg",children:""})]})]})})]})]})},xu="shadow_truth_game_config";function Tx(){var fe;const[i,t]=ke.useState(()=>{try{const J=localStorage.getItem(xu);if(J){const R=JSON.parse(J);if(R&&R.scenes&&R.items)return R;console.warn("Invalid or legacy save data, loading default.")}}catch(J){console.error("Failed to load config from storage, using default",J)}return Cy}),[l,a]=ke.useState(i.initialState),[r,c]=ke.useState(null),[d,h]=ke.useState({isOpen:!1,input:""}),[g,m]=ke.useState(!1),[v,_]=ke.useState(!1),[S,T]=ke.useState(!1),[A,C]=ke.useState(1),M=ke.useRef(!1),[N,D]=ke.useState(!1),k=ke.useRef(0);ke.useEffect(()=>{try{localStorage.setItem(xu,JSON.stringify(i))}catch(J){console.error("Storage Save Failed (Likely Quota Exceeded):",J)}},[i]),ke.useEffect(()=>{i.scenes[l.currentSceneId]||(console.warn(`Current scene ID '${l.currentSceneId}' not found in new Game Data. Resetting to initial state.`),a(i.initialState))},[i,l.currentSceneId]),ke.useEffect(()=>{const J=R=>{const U=R.target;if(U.tagName==="INPUT"||U.tagName==="TEXTAREA")return;const $=R.key.toLowerCase();if($==="e"){const W=Date.now();W-k.current<500&&D(le=>{const Te=!le;return wt(Te?"open":"click"),Te}),k.current=W}$==="t"&&m(W=>(W||wt("open"),!W)),$==="escape"&&(m(!1),h(W=>({...W,isOpen:!1})))};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[]);const B=()=>{wt("transition"),T(!0)},q=()=>{a(i.initialState),T(!1),wt("transition")},X=(J,R,U)=>{R==="scene"?(t($=>({...$,scenes:{...$.scenes,[J]:{...$.scenes[J],imageUrl:U}}})),_(!1)):R==="item"?t($=>{const W={...$.items};W[J]&&(W[J]={...W[J],image:U});const le={...$.scenes};return Object.keys(le).forEach(Te=>{le[Te]={...le[Te],interactables:le[Te].interactables.map(Ie=>Ie.id===J?{...Ie,image:U}:Ie)}}),{...$,items:W,scenes:le}}):R==="marketing"&&t($=>({...$}))},re=ke.useCallback(()=>{const J=l.currentSceneId,R=i.scenes[J];if(!R)return J;if(R.conditionalVariant){const U=R.conditionalVariant;let $=!0;if(U.requiredItemId&&!l.inventory.includes(U.requiredItemId)&&($=!1),U.requiredFlag&&!l.flags[U.requiredFlag]&&($=!1),$)return U.targetSceneId}return J},[l.currentSceneId,l.inventory,l.flags,i.scenes])(),O=i.scenes[re],ce=O==null?void 0:O.imageUrl;if(ke.useEffect(()=>{if(_(!1),!ce){O&&_(!0);return}const J=new Image;J.src=ce,J.onerror=()=>_(!0)},[ce,O]),!O){const J=Object.keys(i.scenes).join(", ");return b.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-950 text-slate-200 flex flex-col items-center justify-center p-8 overflow-y-auto",children:[b.jsxs("div",{className:"max-w-2xl w-full bg-slate-900 border border-red-900/50 rounded-lg p-8 shadow-2xl animate-fade-in relative",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6 border-b border-red-900/30 pb-4",children:[b.jsx("div",{className:"text-4xl",children:""}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-red-500 font-typewriter",children:" (Critical Error)"}),b.jsx("p",{className:"text-slate-500 text-sm",children:""})]})]}),b.jsxs("div",{className:"space-y-6 mb-8",children:[b.jsxs("div",{className:"bg-black/50 p-4 rounded border border-red-900/30 font-mono text-sm relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-red-600"}),b.jsxs("p",{className:"text-red-400 font-bold mb-2",children:["Error: Scene '",re,"' not found."]}),b.jsxs("p",{className:"text-slate-400 text-xs",children:[" ID  ",b.jsxs("span",{className:"text-amber-500",children:['"',re,'"']}),"  (gameData.scenes)  ID"]})]}),b.jsxs("div",{className:"bg-slate-800/50 p-4 rounded text-sm text-slate-400 border border-slate-700",children:[b.jsx("p",{className:"font-bold text-slate-300 mb-2",children:" (Possible Causes)"}),b.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[b.jsxs("li",{children:[b.jsx("strong",{className:"text-slate-300",children:""}),"  ID"]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-slate-300",children:""}),"  `game.json`  ID"]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-slate-300",children:"Bug"}),"  ID"]})]})]}),b.jsxs("div",{className:"text-xs text-slate-600 font-mono break-all bg-black p-2 rounded",children:[b.jsx("span",{className:"block mb-1 font-bold text-slate-500",children:"Available Scene IDs:"}),J]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("button",{onClick:()=>a(i.initialState),className:"flex flex-col items-start p-4 bg-slate-800 hover:bg-slate-700 border border-slate-600 hover:border-amber-500/50 rounded transition-all group relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-amber-600 transform -translate-x-full group-hover:translate-x-0 transition-transform"}),b.jsxs("span",{className:"text-amber-500 font-bold mb-1 flex items-center gap-2",children:[b.jsx("span",{children:""}),"  (Soft Reset)"]}),b.jsxs("span",{className:"text-xs text-slate-500 text-left",children:[" (",i.initialState.currentSceneId,")"]})]}),b.jsxs("button",{onClick:()=>{window.confirm("")&&(localStorage.removeItem(xu),window.location.reload())},className:"flex flex-col items-start p-4 bg-red-950/30 hover:bg-red-900/40 border border-red-900/50 hover:border-red-500/50 rounded transition-all group relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-red-600 transform -translate-x-full group-hover:translate-x-0 transition-transform"}),b.jsxs("span",{className:"text-red-400 font-bold mb-1 flex items-center gap-2",children:[b.jsx("span",{children:""}),"  (Hard Reset)"]}),b.jsx("span",{className:"text-xs text-slate-500 text-left",children:""})]})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsx("button",{onClick:()=>m(!0),className:"text-xs text-slate-600 hover:text-slate-400 underline",children:" (Open Resource Studio)"})})]}),g&&b.jsx(Em,{gameData:i,setGameData:t,setGameState:a,onClose:()=>m(!1),onApplyAsset:X})]})}const be=O.brightness??.6,L=J=>{a(R=>({...R,log:[...R.log,J]}))},ie=J=>{if(N)return;if(J.requiredFlag&&!l.flags[J.requiredFlag]){L(""),wt("error");return}if(J.isPuzzle&&J.puzzleId&&i.puzzles[J.puzzleId]){const U=i.puzzles[J.puzzleId];if(!l.flags[U.rewardFlag]){wt("open"),h({isOpen:!0,puzzleId:J.puzzleId,interactableId:J.id,input:""});return}}if(J.requiredItemId&&!(J.flagReward&&l.flags[J.flagReward])){if(r===J.requiredItemId){const $=i.items[r];L(J.lockedMessage?` ${($==null?void 0:$.name)||""}`:""),wt("success"),J.flagReward&&a(W=>({...W,flags:{...W.flags,[J.flagReward]:!0}})),J.dialogue&&J.dialogue.forEach(W=>L(W)),c(null)}else L(J.lockedMessage||""),wt("error");return}let R=!1;if(J.dialogue&&J.dialogue.length>0?(J.dialogue.forEach(U=>L(U)),wt("click"),R=!0):J.itemRewardId||(L(J.description),wt("examine"),R=!0),(J.winsGame||J.itemRewardId==="mysterious_artifact")&&setTimeout(()=>a(U=>({...U,gameWon:!0})),2e3),J.itemRewardId&&i.items[J.itemRewardId]){const U=`found_${J.itemRewardId}`;if(!l.flags[U]){const $=i.items[J.itemRewardId];a(W=>({...W,inventory:[...W.inventory,J.itemRewardId],flags:{...W.flags,[U]:!0,[J.hiddenIfFlag||"temp"]:!0}})),L(`${$.name}`),wt("pickup")}}else R||wt("examine")},w=(J,R,U)=>{if(N){a(W=>({...W,currentSceneId:J}));return}const $=R&&l.flags[R];if(U&&!$||R&&!l.flags[R]){L(U&&!$?"":""),wt("error");return}M.current||(M.current=!0,wt("transition"),C(0),setTimeout(()=>{a(W=>({...W,currentSceneId:J})),C(1),M.current=!1},500))},ue=()=>{if(!d.puzzleId||!i.puzzles[d.puzzleId])return;const J=i.puzzles[d.puzzleId];if(d.input.trim()===J.answer){wt("success");const R={...l.flags,[J.rewardFlag]:!0};let U=[...l.inventory];const $=["",J.rewardMessage],W=i.scenes[re],le=W==null?void 0:W.interactables.find(Te=>Te.id===d.interactableId);if(le&&le.itemRewardId){const Te=le.itemRewardId;if(!U.includes(Te)){U.push(Te),R[`found_${Te}`]=!0,le.hiddenIfFlag&&(R[le.hiddenIfFlag]=!0);const Ie=i.items[Te];$.push(`${(Ie==null?void 0:Ie.name)||Te}`),wt("pickup")}}$.forEach(Te=>L(Te)),a(Te=>({...Te,flags:R,inventory:U})),h({isOpen:!1,input:""})}else L(""),wt("error"),h(R=>({...R,input:""}))},Y=(J,R)=>{t(U=>{const $=U.scenes[re];if(!$)return U;const W=$.interactables.map(le=>le.id===J?{...le,...R}:le);return{...U,scenes:{...U.scenes,[re]:{...$,interactables:W}}}})},Z=l.inventory.map(J=>i.items[J]).filter(J=>!!J),_e=O.interactables.filter(J=>N?!0:!(J.hiddenIfFlag&&l.flags[J.hiddenIfFlag]||J.requiredFlag&&!l.flags[J.requiredFlag]));return S?l.gameWon?b.jsxs("div",{className:"h-screen w-screen bg-black flex flex-col items-center justify-center text-center p-8 animate-fade-in text-slate-100",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-amber-500 mb-8 font-typewriter",children:i.meta.name}),b.jsx("div",{className:"max-w-2xl text-lg text-slate-300 mb-12 leading-loose bg-slate-900/50 p-8 rounded-lg border border-amber-900/30 shadow-2xl backdrop-blur-sm",children:i.meta.endingMessage||""}),b.jsx("button",{onClick:q,className:"px-8 py-4 border border-amber-600 text-amber-500 hover:bg-amber-900/20 hover:scale-105 transition-all rounded uppercase tracking-[0.2em] font-bold text-xl",children:""})]}):b.jsxs("div",{className:"h-screen w-screen flex flex-col bg-slate-950 overflow-hidden relative selection:bg-amber-500/30",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full z-30 p-4 flex justify-between items-start pointer-events-none",children:[b.jsxs("div",{className:"flex flex-col gap-1 pointer-events-auto",children:[b.jsx("h1",{className:"text-3xl font-bold text-amber-600 tracking-widest font-typewriter drop-shadow-md",children:i.meta.name}),b.jsx("div",{className:"bg-black/40 backdrop-blur-sm px-2 py-1 rounded border border-white/5 inline-flex self-start",children:b.jsx("span",{className:"text-xs text-slate-400 font-mono uppercase tracking-wider",children:O.title})})]}),b.jsx("div",{className:"flex flex-col items-end pointer-events-auto",children:N&&b.jsx("div",{className:"bg-amber-900/80 text-amber-200 text-xs px-2 py-1 rounded border border-amber-500/50 mb-2 w-full text-right shadow-lg animate-pulse",children:" (EE  / T )"})})]}),b.jsxs("div",{className:"flex-1 relative w-full h-full bg-black group overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 transition-opacity duration-500 ease-in-out",style:{opacity:A},children:[b.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-[filter] duration-500",style:{backgroundImage:`url(${ce})`,filter:`brightness(${be}) contrast(1.1)`},children:v&&b.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-900 z-0 flex-col gap-4",children:b.jsxs("span",{className:"text-slate-500 font-mono",children:["Loading Asset / Missing: ",re]})})}),b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_10%,rgba(0,0,0,0.8)_90%)] pointer-events-none"}),b.jsx("div",{className:"absolute inset-0 z-10",style:{perspective:"400px"},children:N?b.jsx(yx,{scene:O,onUpdateInteractable:Y}):b.jsx(gx,{interactables:_e,onInteract:ie})}),O.exits.map((J,R)=>{const U=!(!N&&J.requiredFlag&&!l.flags[J.requiredFlag]),$=J.locked&&(!J.requiredFlag||!l.flags[J.requiredFlag]);return U?b.jsxs("div",{onClick:()=>w(J.targetSceneId,J.requiredFlag,J.locked),className:`
                        absolute z-20 cursor-pointer bg-black/40 hover:bg-amber-500/20 border border-white/10 hover:border-amber-500/50 
                        text-white/70 text-xs font-bold uppercase tracking-widest flex items-center justify-center backdrop-blur-sm transition-all
                        ${J.direction==="north"?"top-4 left-1/2 -translate-x-1/2 min-w-[10rem] h-10 px-4 rounded-b-lg":""}
                        ${J.direction==="south"?"bottom-4 left-1/2 -translate-x-1/2 min-w-[10rem] h-10 px-4 rounded-t-lg":""} 
                        ${J.direction==="west"?"left-4 top-1/2 -translate-y-1/2 min-h-[10rem] w-10 py-4 rounded-r-lg [writing-mode:vertical-rl]":""}
                        ${J.direction==="east"?"right-4 top-1/2 -translate-y-1/2 min-h-[10rem] w-10 py-4 rounded-l-lg [writing-mode:vertical-rl]":""}
                        `,children:[$&&!N&&b.jsx("span",{className:"mr-1 mb-1",children:""}),J.label]},R):null})]}),!N&&b.jsx(px,{logs:l.log}),(v||N)&&b.jsx("button",{onClick:()=>m(!0),className:"absolute bottom-28 right-4 z-50 p-2 bg-amber-900/80 hover:bg-amber-700 text-amber-200 rounded-full border border-amber-500/50 transition-colors shadow-lg animate-pulse",title:" (T)",children:""})]}),b.jsx(mx,{items:Z,selectedItemId:r,onSelectItem:J=>{if(r===J){const R=i.items[J];R&&L(R.description),wt("examine")}else wt("click"),c(J)}}),d.isOpen&&b.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg border border-slate-600 max-w-sm w-full shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-amber-500 mb-4 font-typewriter",children:""}),b.jsx("p",{className:"text-slate-300 mb-4",children:(fe=i.puzzles[d.puzzleId])==null?void 0:fe.description}),b.jsx("input",{type:"text",value:d.input,onChange:J=>h(R=>({...R,input:J.target.value})),className:"w-full bg-slate-950 border border-slate-700 text-green-500 font-mono text-xl p-3 mb-4 rounded focus:outline-none focus:border-amber-500 text-center tracking-[0.5em]"}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:()=>h({isOpen:!1,input:""}),className:"px-4 py-2 text-slate-400 hover:text-white",children:""}),b.jsx("button",{onClick:ue,className:"px-4 py-2 bg-amber-700 hover:bg-amber-600 text-white rounded font-bold",children:""})]})]})}),g&&b.jsx(Em,{gameData:i,setGameData:t,setGameState:a,onClose:()=>m(!1),onApplyAsset:X})]}):b.jsx("div",{className:"w-full h-full",onClick:B,children:b.jsx(hx,{onStart:B,meta:i.meta,marketing:i.marketing})})}const tg=document.getElementById("root");if(!tg)throw new Error("Could not find root element to mount to");const Ex=by.createRoot(tg);Ex.render(b.jsx(my.StrictMode,{children:b.jsx(Tx,{})}));
